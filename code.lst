ca65 V2.13.2 - (C) Copyright 1998-2005 Ullrich von Bassewitz
Main file   : code.asm
Current file: code.asm

000000r 1               ;----------------------------------------------
000000r 1               ;ELITE Electron
000000r 1               ; Atom conversion by Kees van Oss 2012
000000r 1               ;----------------------------------------------
000000r 1               	.DEFINE asm_code $0400
000000r 1               	.DEFINE header   1		; Header Wouter Ras emulator
000000r 1               	.DEFINE filenaam "CODE"
000000r 1               
000000r 1               .org asm_code-22*header
0003EA  1               
0003EA  1               .IF header
0003EA  1               ;********************************************************************
0003EA  1               ; ATM Header for Atom emulator Wouter Ras
0003EA  1               
0003EA  1               name_start:
0003EA  1  43 4F 44 45  	.byte filenaam			; Filename
0003EE  1               name_end:
0003EE  1  00 00 00 00  	.repeat 16-name_end+name_start	; Fill with 0 till 16 chars
0003F2  1  00 00 00 00  
0003F6  1  00 00 00 00  
0003FA  1               	  .byte $0
0003FA  1               	.endrep
0003FA  1               
0003FA  1  00 04        	.word asm_code			; 2 bytes startaddress
0003FC  1  F7 40        	.word exec			; 2 bytes linkaddress
0003FE  1  D6 60        	.word eind_asm-start_asm	; 2 bytes filelength
000400  1               
000400  1               ;********************************************************************
000400  1               .ENDIF
000400  1               
000400  1               
000400  1               exec     = L3FB5
000400  1               
000400  1               start_asm:
000400  1               	.include "elitecode.inc"
000400  2               ;
000400  2               ; OS calls
000400  2               ;
000400  2               
000400  2               OSRDCH		= $fe94
000400  2               READCHR		= $fe71
000400  2               BELL		= $fd1a
000400  2               
000400  2               ;
000400  2               ; Code equates
000400  2               ;
000400  2               
000400  2               L0001       = $0001
000400  2               L0002       = $0002
000400  2               L0003       = $0003
000400  2               L0005       = $0005
000400  2               L0006       = $0006
000400  2               L0007       = $0007
000400  2               L0008       = $0008
000400  2               L0009       = $0009
000400  2               L000A       = $000a
000400  2               L000B       = $000b
000400  2               L000C       = $000c
000400  2               L000D       = $000d
000400  2               L000E       = $000e
000400  2               L000F       = $000f
000400  2               
000400  2               L0010       = $0010
000400  2               L0011       = $0011
000400  2               L0013       = $0013
000400  2               L0014       = $0014
000400  2               L0015       = $0015
000400  2               L0016       = $0016
000400  2               L0017       = $0017
000400  2               L0018       = $0018
000400  2               L001B       = $001b
000400  2               
000400  2               L001C       = $001c	; Font address
000400  2               L001D       = $001d
000400  2               
000400  2               L001E       = $001e
000400  2               L001F       = $001f
000400  2               
000400  2               L0020       = $0020
000400  2               L0021       = $0021
000400  2               L0022       = $0022
000400  2               L0023       = $0023
000400  2               L0024       = $0024
000400  2               L0025       = $0025
000400  2               L0026       = $0026
000400  2               L0027       = $0027
000400  2               L002A       = $002a
000400  2               L002B       = $002b
000400  2               L002C       = $002c	; Cursor X
000400  2               L002D       = $002d	; Cursor Y
000400  2               L002E       = $002e	; Hyperspace sub timer
000400  2               L002F       = $002f	; Hyperspace timer
000400  2               
000400  2               L0030       = $0030	; E mark in panel
000400  2               L0031       = $0031	; X1
000400  2               L0032       = $0032	; Y1
000400  2               L0033       = $0033	; X2
000400  2               L0034       = $0034	; Y2
000400  2               L0035       = $0035
000400  2               L0036       = $0036
000400  2               L0037       = $0037
000400  2               L0038       = $0038
000400  2               L0039       = $0039
000400  2               L003A       = $003a
000400  2               L003B       = $003b
000400  2               L003C       = $003c
000400  2               L003D       = $003d
000400  2               L003E       = $003e
000400  2               L003F       = $003f
000400  2               
000400  2               L0040       = $0040
000400  2               L0041       = $0041	; Key buffer, last key
000400  2               L0042       = $0042	; Key buffer
000400  2               L0043       = $0043	; Key buffer
000400  2               L0044       = $0044	; Key buffer
000400  2               L0045       = $0045	; Key buffer
000400  2               L0046       = $0046	; Key buffer
000400  2               L0047       = $0047	; Key buffer
000400  2               L0048       = $0048	; Key buffer
000400  2               L0049       = $0049	; Key buffer
000400  2               L004A       = $004a	; Key buffer
000400  2               L004B       = $004b	; Key buffer
000400  2               L004C       = $004c	; Key buffer
000400  2               L004D       = $004d	; Key buffer
000400  2               L004E       = $004e	; Key buffer
000400  2               L004F       = $004f	; Key buffer
000400  2               
000400  2               L0050       = $0050	; Key buffer
000400  2               L0051       = $0051
000400  2               L0052       = $0052
000400  2               
000400  2               L0053       = $0053	; Galaxy data
000400  2               L0054       = $0054	; Galaxy data
000400  2               L0055       = $0055	; Galaxy data
000400  2               L0056       = $0056	; Galaxy data
000400  2               L0057       = $0057	; Galaxy data
000400  2               L0058       = $0058	; Galaxy data
000400  2               L0059       = $0059	; Galaxy data
000400  2               L005A       = $005a	; Galaxy data
000400  2               L005B       = $005b	; Galaxy data
000400  2               L005C       = $005c	; Galaxy data
000400  2               L005D       = $005d	; Galaxy data
000400  2               L005E       = $005e	; Galaxy data
000400  2               L005F       = $005f	; Galaxy data
000400  2               L0060       = $0060	; Galaxy data
000400  2               L0061       = $0061	; Galaxy data
000400  2               L0062       = $0062	; Galaxy data
000400  2               L0063       = $0063	; Galaxy data
000400  2               L0064       = $0064	; Galaxy data
000400  2               L0065       = $0065	; Galaxy data
000400  2               L0066       = $0066	; Galaxy data
000400  2               L0067       = $0067	; Galaxy data
000400  2               L0068       = $0068	; Galaxy data
000400  2               L0069       = $0069	; Galaxy data
000400  2               L006A       = $006a	; Galaxy data
000400  2               L006B       = $006b	; Galaxy data
000400  2               L006C       = $006c	; Galaxy data
000400  2               L006D       = $006d	; Galaxy data
000400  2               L006E       = $006e	; Galaxy data
000400  2               L006F       = $006f	; Galaxy data
000400  2               L0070       = $0070	; Galaxy data
000400  2               L0071       = $0071	; Galaxy data
000400  2               L0072       = $0072	; Galaxy data
000400  2               L0073       = $0073	; Galaxy data
000400  2               L0074       = $0074	; Galaxy data
000400  2               L0075       = $0075	; Galaxy data
000400  2               L0076       = $0076	; Galaxy data
000400  2               
000400  2               L0077       = $0077
000400  2               L0078       = $0078
000400  2               L0079       = $0079
000400  2               L007A       = $007a
000400  2               L007B       = $007b
000400  2               L007C       = $007c
000400  2               L007D       = $007d
000400  2               L007E       = $007e	; VDU stat
000400  2               L007F       = $007f
000400  2               
000400  2               L0080       = $0080
000400  2               L0081       = $0081
000400  2               L0082       = $0082
000400  2               L0083       = $0083
000400  2               L0084       = $0084
000400  2               L0085       = $0085
000400  2               L0086       = $0086
000400  2               L0087       = $0087
000400  2               L0088       = $0088
000400  2               L0089       = $0089
000400  2               L008A       = $008a
000400  2               L008B       = $008b
000400  2               L008C       = $008c	; Speed
000400  2               L008D       = $008d
000400  2               L008E       = $008e
000400  2               L008F       = $008f
000400  2               
000400  2               L009D       = $009d
000400  2               
000400  2               L00A0       = $00a0
000400  2               L00A1       = $00a1
000400  2               L00A2       = $00a2
000400  2               L00A3       = $00a3
000400  2               L00A4       = $00a4	; YSAV
000400  2               L00A5       = $00a5
000400  2               L00A6       = $00a6	; Header on/off
000400  2               L00A7       = $00a7
000400  2               L00A8       = $00a8
000400  2               L00A9       = $00a9
000400  2               L00AB       = $00ab	; TYPE
000400  2               L00AC       = $00ac	; adval_x
000400  2               L00AD       = $00ad	; adval_y
000400  2               L00AE       = $00ae
000400  2               L00AF       = $00af	; Docked flag ($ff=docked,$00=not docked)
000400  2               
000400  2               L00B0       = $00b0
000400  2               L00B1       = $00b1	; SWAP
000400  2               L00B3       = $00b3
000400  2               L00B4       = $00b4
000400  2               L00B5       = $00b5
000400  2               L00B6       = $00b6
000400  2               L00B7       = $00b7
000400  2               L00B8       = $00b8
000400  2               L00BA       = $00ba
000400  2               L00BB       = $00bb
000400  2               L00BC       = $00bc
000400  2               L00BD       = $00bd
000400  2               L00BE       = $00be
000400  2               L00BF       = $00bf
000400  2               
000400  2               L00C1       = $00c1
000400  2               L00C6       = $00c6
000400  2               
000400  2               L00D1       = $00d1
000400  2               L00D2       = $00d2
000400  2               L00D3       = $00d3
000400  2               L00D4       = $00d4
000400  2               L00D5       = $00d5
000400  2               L00D6       = $00d6
000400  2               L00D7       = $00d7
000400  2               L00D8       = $00d8
000400  2               L00D9       = $00d9
000400  2               L00DA       = $00da
000400  2               L00DB       = $00db
000400  2               
000400  2               L00E0       = $00e0
000400  2               L00E1       = $00e1
000400  2               L00E6       = $00e6
000400  2               
000400  2               L00F1       = $00f1
000400  2               L00F9       = $00f9
000400  2               L00FC       = $00fc
000400  2               
000400  2               L0100       = $0100
000400  2               L0101       = $0101
000400  2               L0102       = $0102
000400  2               L0103       = $0103
000400  2               
000400  2               L0203       = $0203
000400  2               L0207       = $0207
000400  2               L0224       = $0224
000400  2               L0225       = $0225
000400  2               L0229       = $0229
000400  2               
000400  2               L02B9       = $02b9
000400  2               L02FF       = $02ff
000400  2               
000400  2               L0300       = $0300
000400  2               L0301       = $0301	; Commander home X
000400  2               L0302       = $0302	; Commander home Y
000400  2               L0303       = $0303
000400  2               L0309       = $0309	; Cash
000400  2               L030A       = $030a	; Cash
000400  2               L030B       = $030b	; Cash
000400  2               L030C       = $030c	; Cash
000400  2               L030D       = $030d	; Fuel level
000400  2               L030E       = $030e
000400  2               L030F       = $030F	; Galaxy nr
000400  2               
000400  2               L0310       = $0310	; Front Laser present (Pulse=$0f Beam=$8F)
000400  2               L0311       = $0311	; Rear Laser present  (Pulse=$0f Beam=$8F)
000400  2               L0312       = $0312	; Left Laser present  (Pulse=$0f Beam=$8F)
000400  2               L0313       = $0313	; Right Laser present (Pulse=$0f Beam=$8F)
000400  2               L0314       = $0314	;
000400  2               L0315       = $0315	;
000400  2               
000400  2               L0316       = $0316	; Large Cargo Bay present ($25)
000400  2               
000400  2               L0317       = $0317	; Quantity Food
000400  2               L0318       = $0318	; Quantity Textiles
000400  2               L0319       = $0319	; Quantity Radioactives
000400  2               L031A       = $031a	; Quantity Slaves
000400  2               L031B       = $031b	; Quantity Liquor/Wines
000400  2               L031C       = $031c	; Quantity Luxuries
000400  2               L031D       = $031d	; Quantity Narcotics
000400  2               L031E       = $031e	; Quantity Computers
000400  2               L031F       = $031f	; Quantity Machinery
000400  2               L0320       = $0320	; Quantity Alloys
000400  2               L0321       = $0321	; Quantity Firearms
000400  2               L0322       = $0322	; Quantity Furs
000400  2               L0323       = $0323	; Quantity Minerals
000400  2               L0324       = $0324	; Quantity Gold
000400  2               L0325       = $0325	; Quantity Platinum
000400  2               L0326       = $0326	; Quantity Gem-Stones
000400  2               L0327       = $0327	; Quantity Alien Items
000400  2               
000400  2               L0328       = $0328	; E.C.M.System present        ($ff)
000400  2               L0329       = $0329	; Fuel scoops present         ($ff)
000400  2               L032A       = $032A	; Energy Bomb present         ($7f)
000400  2               L032B       = $032B	; Energy Unit present         (>0)
000400  2               L032C       = $032C	; Docking computer present    ($ff)
000400  2               L032D       = $032D	; Galactic Hyperspace present ($ff)
000400  2               L032E       = $032E	; Escape Capsule present      ($ff)
000400  2               
000400  2               L0333       = $0333	; Missile counter
000400  2               L0334       = $0334
000400  2               L0335       = $0335
000400  2               L0345       = $0345
000400  2               L0346       = $0346
000400  2               L0347       = $0347
000400  2               L0348       = $0348
000400  2               L0349       = $0349
000400  2               L034C       = $034c	; Stars X (10x)
000400  2               L0357       = $0357
000400  2               L0362       = $0362	; Stars Y (10x)
000400  2               
000400  2               L0C85       = L0C86-1
000400  2               
000400  2               L0CB9       = $0CB9	; Stars Z (10x)
000400  2               L0CC4       = $0CC4
000400  2               
000400  2               L0CF3       = $0CF3
000400  2               L0D0D       = $0D0D
000400  2               L0D1D       = $0D1D	; Sound on/off flag
000400  2               L0D6F       = $0D6F
000400  2               L0EFE       = $0EFE
000400  2               
000400  2               LFE05       = $FE05
000400  2               
000400  2               LFFDD       = L1127	; OSFILE
000400  2               LFFE0       = L1127	; OSRDCH
000400  2               LFFF1       = L1127	; Beep
000400  2               LFFF4       = L1127	; OSBYTE
000400  2               LFFFD       = $fffd
000400  2               
000400  2               ;------------------------------------------------
000400  2               ; Strings in game (tokens)
000400  2               ;------------------------------------------------
000400  2               
000400  2               L0400:
000400  2  DC 00                    .byte $DC,$00
000402  2  03 60 6B A9              .byte $03,$60,$6B,$A9,$77,$00
000406  2  77 00        
000408  2  64 6C B5 71              .byte $64,$6C,$B5,$71,$6D,$6E,$B1,$77,$00
00040C  2  6D 6E B1 77  
000410  2  00           
000411  2  67 B2 62 32              .byte $67,$B2,$62,$32,$20,$00
000415  2  20 00        
000417  2  AF B5 6D 77              .byte $AF,$B5,$6D,$77,$BA,$7A,$2E,$00
00041B  2  BA 7A 2E 00  
00041F  2  70                       .byte $70
000420  2  7A 70 BF 6E              .byte $7A,$70,$BF,$6E,$00,$73,$BD,$A6
000424  2  00 73 BD A6  
000428  2  00 21 03 A8              .byte $00,$21,$03,$A8,$71,$68,$66,$77
00042C  2  71 68 66 77  
000430  2  03 85 70 00              .byte $03,$85,$70,$00,$AF,$67,$AB,$77
000434  2  AF 67 AB 77  
000438  2  BD A3 00 62              .byte $BD,$A3,$00,$62,$64,$BD,$60,$76
00043C  2  64 BD 60 76  
000440  2  6F 77 76 B7              .byte $6F,$77,$76,$B7,$6F,$00,$BD,$60
000444  2  6F 00 BD 60  
000448  2  6B 03 00 62              .byte $6B,$03,$00,$62,$B5,$B7,$A0,$03
00044C  2  B5 B7 A0 03  
000450  2  00 73 6C BA              .byte $00,$73,$6C,$BA,$03,$00,$A8,$AF
000454  2  03 00 A8 AF  
000458  2  6F 7A 03 00              .byte $6F,$7A,$03,$00,$76,$6D,$6A,$77
00045C  2  76 6D 6A 77  
000460  2  00 75 6A 66              .byte $00,$75,$6A,$66,$74,$03,$00,$B9
000464  2  74 03 00 B9  
000468  2  B8 B4 77 7A              .byte $B8,$B4,$77,$7A,$00,$B8,$A9,$60
00046C  2  00 B8 A9 60  
000470  2  6B 7A 00 65              .byte $6B,$7A,$00,$65,$66,$76,$67,$A3
000474  2  66 76 67 A3  
000478  2  00 6E 76 6F              .byte $00,$6E,$76,$6F,$B4,$0E,$81,$00
00047C  2  B4 0E 81 00  
000480  2  AE 60 77 B2              .byte $AE,$60,$77,$B2,$BA,$9A,$00,$D8
000484  2  BA 9A 00 D8  
000488  2  6E 76 6D BE              .byte $6E,$76,$6D,$BE,$77,$00,$60,$BC
00048C  2  77 00 60 BC  
000490  2  65 BB B3 62              .byte $65,$BB,$B3,$62,$60,$7A,$00,$67
000494  2  60 7A 00 67  
000498  2  66 6E 6C 60              .byte $66,$6E,$6C,$60,$B7,$60,$7A,$00
00049C  2  B7 60 7A 00  
0004A0  2  60 BA 73 BA              .byte $60,$BA,$73,$BA,$B2,$66,$03,$E8
0004A4  2  B2 66 03 E8  
0004A8  2  B2 66 00 70              .byte $B2,$66,$00,$70,$6B,$6A,$73,$00
0004AC  2  6B 6A 73 00  
0004B0  2  73 71 6C 67              .byte $73,$71,$6C,$67,$76,$60,$77,$00
0004B4  2  76 60 77 00  
0004B8  2  03 B6 70 B3              .byte $03,$B6,$70,$B3,$00,$6B,$76,$6E
0004BC  2  00 6B 76 6E  
0004C0  2  B8 03 60 6C              .byte $B8,$03,$60,$6C,$6F,$BC,$6A,$A3
0004C4  2  6F BC 6A A3  
0004C8  2  00 6B 7A 73              .byte $00,$6B,$7A,$73,$B3,$70,$73,$62
0004CC  2  B3 70 73 62  
0004D0  2  A6 03 00 70              .byte $A6,$03,$00,$70,$6B,$BA,$77,$03
0004D4  2  6B BA 77 03  
0004D8  2  E9 82 00 AE              .byte $E9,$82,$00,$AE,$E8,$B8,$A6,$00
0004DC  2  E8 B8 A6 00  
0004E0  2  73 6C 73 76              .byte $73,$6C,$73,$76,$6F,$B2,$6A,$BC
0004E4  2  6F B2 6A BC  
0004E8  2  00 64 71 6C              .byte $00,$64,$71,$6C,$70,$70,$03,$99
0004EC  2  70 70 03 99  
0004F0  2  6A 75 6A 77              .byte $6A,$75,$6A,$77,$7A,$00,$66,$60
0004F4  2  7A 00 66 60  
0004F8  2  BC 6C 6E 7A              .byte $BC,$6C,$6E,$7A,$00,$03,$6F,$6A
0004FC  2  00 03 6F 6A  
000500  2               L0500:
000500  2  64 6B 77 03              .byte $64,$6B,$77,$03,$7A,$66,$A9,$70
000504  2  7A 66 A9 70  
000508  2  00 BF 60 6B              .byte $00,$BF,$60,$6B,$0D,$A2,$B5,$6F
00050C  2  0D A2 B5 6F  
000510  2  00 60 62 70              .byte $00,$60,$62,$70,$6B,$00,$03,$A5
000514  2  6B 00 03 A5  
000518  2  55 6A BC 00              .byte $55,$6A,$BC,$00,$59,$82,$22,$00
00051C  2  59 82 22 00  
000520  2  77 A9 A0 77              .byte $77,$A9,$A0,$77,$03,$6F,$6C,$E8
000524  2  03 6F 6C E8  
000528  2  00 49 03 69              .byte $00,$49,$03,$69,$62,$6E,$6E,$BB
00052C  2  62 6E 6E BB  
000530  2  00 71 B8 A0              .byte $00,$71,$B8,$A0,$00,$70,$77,$00
000534  2  00 70 77 00  
000538  2  93 03 6C 65              .byte $93,$03,$6C,$65,$03,$00,$70,$66
00053C  2  03 00 70 66  
000540  2  55 00 03 60              .byte $55,$00,$03,$60,$A9,$64,$6C,$25
000544  2  A9 64 6C 25  
000548  2  00 66 B9 6A              .byte $00,$66,$B9,$6A,$73,$00,$65,$6C
00054C  2  73 00 65 6C  
000550  2  6C 67 00 BF              .byte $6C,$67,$00,$BF,$7B,$B4,$6F,$AA
000554  2  7B B4 6F AA  
000558  2  00 B7 AE 6C              .byte $00,$B7,$AE,$6C,$62,$60,$B4,$B5
00055C  2  62 60 B4 B5  
000560  2  70 00 70 B6              .byte $70,$00,$70,$B6,$B5,$70,$00,$6F
000564  2  B5 70 00 6F  
000568  2  6A B9 BA 0C              .byte $6A,$B9,$BA,$0C,$74,$AF,$AA,$00
00056C  2  74 AF AA 00  
000570  2  6F 76 7B 76              .byte $6F,$76,$7B,$76,$BD,$AA,$00,$6D
000574  2  BD AA 00 6D  
000578  2  A9 60 6C B4              .byte $A9,$60,$6C,$B4,$60,$70,$00,$D8
00057C  2  60 70 00 D8  
000580  2  73 76 77 B3              .byte $73,$76,$77,$B3,$70,$00,$A8,$60
000584  2  70 00 A8 60  
000588  2  6B AF B3 7A              .byte $6B,$AF,$B3,$7A,$00,$56,$6C,$7A
00058C  2  00 56 6C 7A  
000590  2  70 00 65 6A              .byte $70,$00,$65,$6A,$AD,$A9,$6E,$70
000594  2  AD A9 6E 70  
000598  2  00 65 76 71              .byte $00,$65,$76,$71,$70,$00,$6E,$AF
00059C  2  70 00 6E AF  
0005A0  2  B3 A3 70 00              .byte $B3,$A3,$70,$00,$64,$6C,$6F,$67
0005A4  2  64 6C 6F 67  
0005A8  2  00 73 6F B2              .byte $00,$73,$6F,$B2,$AF,$76,$6E,$00
0005AC  2  AF 76 6E 00  
0005B0  2  A0 6E 0E E8              .byte $A0,$6E,$0E,$E8,$BC,$AA,$00,$A3
0005B4  2  BC AA 00 A3  
0005B8  2  6A B1 03 5C              .byte $6A,$B1,$03,$5C,$70,$00,$0B,$7A
0005BC  2  70 00 0B 7A  
0005C0  2  0C 6D 0A 1C              .byte $0C,$6D,$0A,$1C,$00,$03,$60,$71
0005C4  2  00 03 60 71  
0005C8  2  00 6F A9 A0              .byte $00,$6F,$A9,$A0,$00,$65,$6A,$B3
0005CC  2  00 65 6A B3  
0005D0  2  A6 00 70 A8              .byte $A6,$00,$70,$A8,$55,$00,$64,$AD
0005D4  2  55 00 64 AD  
0005D8  2  B1 00 71 BB              .byte $B1,$00,$71,$BB,$00,$7A,$66,$55
0005DC  2  00 7A 66 55  
0005E0  2  6C 74 00 61              .byte $6C,$74,$00,$61,$6F,$76,$66,$00
0005E4  2  6F 76 66 00  
0005E8  2  61 B6 60 68              .byte $61,$B6,$60,$68,$00,$35,$00,$70
0005EC  2  00 35 00 70  
0005F0  2  6F 6A 6E 7A              .byte $6F,$6A,$6E,$7A,$00,$61,$76,$64
0005F4  2  00 61 76 64  
0005F8  2  0E 66 7A BB              .byte $0E,$66,$7A,$BB,$00,$6B,$BA,$6D
0005FC  2  00 6B BA 6D  
000600  2  BB 00 61 BC              .byte $BB,$00,$61,$BC,$7A,$00,$65,$B2
000604  2  7A 00 65 B2  
000608  2               L0600:
000608  2  00 65 76 71              .byte $00,$65,$76,$71,$71,$7A,$00,$71
00060C  2  71 7A 00 71  
000610  2  6C 67 B1 77              .byte $6C,$67,$B1,$77,$00,$65,$71,$6C
000614  2  00 65 71 6C  
000618  2  64 00 6F 6A              .byte $64,$00,$6F,$6A,$A7,$71,$67,$00
00061C  2  A7 71 67 00  
000620  2  6F 6C 61 E8              .byte $6F,$6C,$61,$E8,$B3,$00,$A5,$71
000624  2  B3 00 A5 71  
000628  2  67 00 6B 76              .byte $67,$00,$6B,$76,$6E,$B8,$6C,$6A
00062C  2  6E B8 6C 6A  
000630  2  67 00 65 66              .byte $67,$00,$65,$66,$6F,$AF,$66,$00
000634  2  6F AF 66 00  
000638  2  AF 70 66 60              .byte $AF,$70,$66,$60,$77,$00,$88,$B7
00063C  2  77 00 88 B7  
000640  2  AE AB 00 60              .byte $AE,$AB,$00,$60,$6C,$6E,$00,$D8
000644  2  6C 6E 00 D8  
000648  2  6E B8 67 B3              .byte $6E,$B8,$67,$B3,$00,$03,$67,$AA
00064C  2  00 03 67 AA  
000650  2  77 71 6C 7A              .byte $77,$71,$6C,$7A,$BB,$00,$61,$7A
000654  2  BB 00 61 7A  
000658  2  03 67 0D 61              .byte $03,$67,$0D,$61,$B7,$B0,$6D,$03
00065C  2  B7 B0 6D 03  
000660  2  05 03 6A 0D              .byte $05,$03,$6A,$0D,$B0,$55,$00,$8D
000664  2  B0 55 00 8D  
000668  2  03 03 93 2E              .byte $03,$03,$93,$2E,$03,$99,$03,$03
00066C  2  03 99 03 03  
000670  2  03 8D 03 85              .byte $03,$8D,$03,$85,$03,$65,$BA,$03
000674  2  03 65 BA 03  
000678  2  70 62 A2 2E              .byte $70,$62,$A2,$2E,$29,$00,$65,$71
00067C  2  29 00 65 71  
000680  2  BC 77 00 AD              .byte $BC,$77,$00,$AD,$A9,$00,$A2,$65
000684  2  A9 00 A2 65  
000688  2  77 00 BD 64              .byte $77,$00,$BD,$64,$6B,$77,$00,$5A
00068C  2  6B 77 00 5A  
000690  2  6F 6C 74 24              .byte $6F,$6C,$74,$24,$00,$40,$32,$DF
000694  2  00 40 32 DF  
000698  2  02 00 66 7B              .byte $02,$00,$66,$7B,$77,$B7,$03,$00
00069C  2  77 B7 03 00  
0006A0  2  73 76 6F 70              .byte $73,$76,$6F,$70,$66,$98,$00,$B0
0006A4  2  66 98 00 B0  
0006A8  2  62 6E 98 00              .byte $62,$6E,$98,$00,$65,$76,$66,$6F
0006AC  2  65 76 66 6F  
0006B0  2  00 6E BE 70              .byte $00,$6E,$BE,$70,$6A,$A2,$00,$C0
0006B4  2  6A A2 00 C0  
0006B8  2  ED 03 61 62              .byte $ED,$03,$61,$62,$7A,$00,$66,$0D
0006BC  2  7A 00 66 0D  
0006C0  2  60 0D 6E 0D              .byte $60,$0D,$6E,$0D,$86,$00,$45,$44
0006C4  2  86 00 45 44  
0006C8  2  70 00 45 4B              .byte $70,$00,$45,$4B,$70,$00,$4A,$03
0006CC  2  70 00 4A 03  
0006D0  2  70 60 6C 6C              .byte $70,$60,$6C,$6C,$73,$70,$00,$AA
0006D4  2  73 70 00 AA  
0006D8  2  60 62 73 66              .byte $60,$62,$73,$66,$03,$60,$62,$73
0006DC  2  03 60 62 73  
0006E0  2  70 76 A2 00              .byte $70,$76,$A2,$00,$5A,$61,$6C,$6E
0006E4  2  5A 61 6C 6E  
0006E8  2  61 00 5A 8D              .byte $61,$00,$5A,$8D,$00,$5F,$AF,$64
0006EC  2  00 5F AF 64  
0006F0  2  03 F4 00 59              .byte $03,$F4,$00,$59,$03,$9E,$00,$62
0006F4  2  03 9E 00 62  
0006F8  2  55 00 6F 6F              .byte $55,$00,$6F,$6F,$00,$E6,$19,$23
0006FC  2  00 E6 19 23  
000700  2               L0700:
000700  2  00 AF D8 AF              .byte $00,$AF,$D8,$AF,$64,$03,$49,$00
000704  2  64 03 49 00  
000708  2  B1 B3 64 7A              .byte $B1,$B3,$64,$7A,$03,$00,$64,$62
00070C  2  03 00 64 62  
000710  2  B6 60 B4 60              .byte $B6,$60,$B4,$60,$00,$2E,$DF,$04
000714  2  00 2E DF 04  
000718  2  70 03 6D 62              .byte $70,$03,$6D,$62,$6E,$66,$1C,$03
00071C  2  6E 66 1C 03  
000720  2  00 67 6C 60              .byte $00,$67,$6C,$60,$68,$00,$26,$A2
000724  2  68 00 26 A2  
000728  2  64 A3 03 E8              .byte $64,$A3,$03,$E8,$B2,$AB,$19,$00
00072C  2  B2 AB 19 00  
000730  2  DF 03 27 2E              .byte $DF,$03,$27,$2E,$2E,$2E,$25,$3C
000734  2  2E 2E 25 3C  
000738  2  03 86 2A 21              .byte $03,$86,$2A,$21,$2E,$9E,$86,$2A
00073C  2  2E 9E 86 2A  
000740  2  20 2E 60 BC              .byte $20,$2E,$60,$BC,$AE,$B4,$BC,$2A
000744  2  AE B4 BC 2A  
000748  2  00 6A BF 6E              .byte $00,$6A,$BF,$6E,$00,$03,$03,$6F
00074C  2  00 03 03 6F  
000750  2  6C 62 67 03              .byte $6C,$62,$67,$03,$6D,$66,$74,$03
000754  2  6D 66 74 03  
000758  2  DF 03 C2 2E              .byte $DF,$03,$C2,$2E,$2E,$00,$25,$5F
00075C  2  2E 00 25 5F  
000760  2  BB 00 B7 B4              .byte $BB,$00,$B7,$B4,$6D,$64,$19,$00
000764  2  6D 64 19 00  
000768  2  03 BC 03 00              .byte $03,$BC,$03,$00,$2E,$2B,$EC,$6E
00076C  2  2E 2B EC 6E  
000770  2  B1 77 19 25              .byte $B1,$77,$19,$25,$00,$60,$A2,$B8
000774  2  00 60 A2 B8  
000778  2  00 6C 65 65              .byte $00,$6C,$65,$65,$B1,$67,$B3,$00
00077C  2  B1 67 B3 00  
000780  2  65 76 64 6A              .byte $65,$76,$64,$6A,$B4,$B5,$00,$6B
000784  2  B4 B5 00 6B  
000788  2  A9 6E A2 70              .byte $A9,$6E,$A2,$70,$70,$00,$6E,$6C
00078C  2  70 00 6E 6C  
000790  2  E8 6F 7A 03              .byte $E8,$6F,$7A,$03,$35,$00,$8F,$00
000794  2  35 00 8F 00  
000798  2  88 00 62 61              .byte $88,$00,$62,$61,$6C,$B5,$03,$88
00079C  2  6C B5 03 88  
0007A0  2  00 D8 73 66              .byte $00,$D8,$73,$66,$77,$B1,$77,$00
0007A4  2  77 B1 77 00  
0007A8  2  67 B8 A0 71              .byte $67,$B8,$A0,$71,$6C,$AB,$00,$67
0007AC  2  6C AB 00 67  
0007B0  2  66 62 67 6F              .byte $66,$62,$67,$6F,$7A,$00,$0E,$0E
0007B4  2  7A 00 0E 0E  
0007B8  2  0E 0E 03 66              .byte $0E,$0E,$03,$66,$03,$6F,$03,$6A
0007BC  2  03 6F 03 6A  
0007C0  2  03 77 03 66              .byte $03,$77,$03,$66,$03,$0E,$0E,$0E
0007C4  2  03 0E 0E 0E  
0007C8  2  0E 00 73 AD              .byte $0E,$00,$73,$AD,$70,$B1,$77,$00
0007CC  2  70 B1 77 00  
0007D0  2  2B 64 62 6E              .byte $2B,$64,$62,$6E,$66,$03,$6C,$B5
0007D4  2  66 03 6C B5  
0007D8  2  71 00 73 71              .byte $71,$00,$73,$71,$AA,$70,$03,$65
0007DC  2  AA 70 03 65  
0007E0  2  6A AD 03 BA              .byte $6A,$AD,$03,$BA,$03,$70,$73,$62
0007E4  2  03 70 73 62  
0007E8  2  A6 0F DF 0D              .byte $A6,$0F,$DF,$0D,$2E,$2E,$00,$0B
0007EC  2  2E 2E 00 0B  
0007F0  2  60 0A 03 62              .byte $60,$0A,$03,$62,$60,$BA,$6D,$A4
0007F4  2  60 BA 6D A4  
0007F8  2  65 77 03 12              .byte $65,$77,$03,$12,$1A,$1B,$17,$00
0007FC  2  1A 1B 17 00  
000800  2               
000800  2               ;------------------------------------------------
000800  2               ; End strings in game
000800  2               ;------------------------------------------------
000800  2               
000800  2               L0800:
000800  2  00 00 00 00              .byte $00,$00,$00,$00,$11,$11,$00,$00
000804  2  11 11 00 00  
000808  2  00 00 00 00              .byte $00,$00,$00,$00,$FF,$00,$00,$00
00080C  2  FF 00 00 00  
000810  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000814  2  00 00 00 00  
000818  2  64 FF 00 00              .byte $64,$FF,$00,$00,$05,$FF,$01,$00
00081C  2  05 FF 01 00  
000820  2  00 3A 00 00              .byte $00,$3A,$00,$00,$00,$07,$00,$00
000824  2  00 07 00 00  
000828  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00082C  2  00 00 00 00  
000830  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000834  2  00 00 00 00  
000838  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00083C  2  00 00 00 00  
000840  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000844  2  00 00 00 00  
000848  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00084C  2  00 00 00 00  
000850  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000854  2  00 00 00 00  
000858  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00085C  2  00 00 00 00  
000860  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000864  2  00 00 00 00  
000868  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00086C  2  00 00 00 00  
000870  2  64 06 90 64              .byte $64,$06,$90,$64,$06,$90,$64,$06
000874  2  06 90 64 06  
000878  2  90 64 06 00              .byte $90,$64,$06,$00,$00,$00,$00,$90
00087C  2  00 00 00 90  
000880  2  00 00 00 00              .byte $00,$00,$00,$00,$00
000884  2  00           
000885  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000889  2  00 00 00 00  
00088D  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000891  2  00 00 00 00  
000895  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000899  2  00 00 00 00  
00089D  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0008A1  2  00 00 00 00  
0008A5  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0008A9  2  00 00 00 00  
0008AD  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0008B1  2  00 00 00 00  
0008B5  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0008B9  2  00 00 00 00  
0008BD  2  00 00 00 01              .byte $00,$00,$00,$01,$00,$6F,$F8,$04
0008C1  2  00 6F F8 04  
0008C5  2  01 08 7E 00              .byte $01,$08,$7E,$00,$00,$82,$7E,$7E
0008C9  2  00 82 7E 7E  
0008CD  2  00 00 00 01              .byte $00,$00,$00,$01,$0E,$EE,$FF,$2C
0008D1  2  0E EE FF 2C  
0008D5  2  20 32 06 01              .byte $20,$32,$06,$01,$00,$FE,$78,$7E
0008D9  2  00 FE 78 7E  
0008DD  2  00 00 00 01              .byte $00,$00,$00,$01,$01,$FF,$FD,$11
0008E1  2  01 FF FD 11  
0008E5  2  20 80 01 00              .byte $20,$80,$01,$00,$00,$FF,$01,$01
0008E9  2  00 FF 01 01  
0008ED  2  00 00 00 01              .byte $00,$00,$00,$01,$04,$F8,$2C,$04
0008F1  2  04 F8 2C 04  
0008F5  2  06 08 16 00              .byte $06,$08,$16,$00,$00,$81,$7E,$00
0008F9  2  00 81 7E 00  
0008FD  2  00 00 00                 .byte $00,$00,$00
000900  2               
000900  2               ;------------------------------------------------
000900  2               ; Workspace, will be cleared in program
000900  2               ;------------------------------------------------
000900  2               
000900  2  00           L0900:      .byte $00
000901  2  00           L0901:      .byte $00
000902  2  00 00        L0902:      .byte $00,$00
000904  2  00           L0904:      .byte $00
000905  2  00           L0905:      .byte $00
000906  2  00           L0906:      .byte $00
000907  2  60           L0907:      .byte $60
000908  2  00 00 00 00  L0908:      .byte $00,$00,$00,$00,$00
00090C  2  00           
00090D  2  00 60 00 00  L090D:      .byte $00,$60,$00,$00,$00,$60,$00,$00
000911  2  00 60 00 00  
000915  2  00 60 00 00              .byte $00,$60,$00,$00,$00,$00,$00,$00
000919  2  00 00 00 00  
00091D  2  7F 7F 03 00              .byte $7F,$7F,$03,$00,$46,$0B,$96
000921  2  46 0B 96     
000924  2  00 00 00 00  L0924:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000928  2  00 00 00 00  
00092C  2  00 00 00 00  L092C:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000930  2  00 00 00 00  
000934  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000938  2  00 00 00 00  
00093C  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000940  2  00 00 00 00  
000944  2  00 00 00 00  L0944:      .byte $00,$00,$00,$00,$00,$00
000948  2  00 00        
00094A  2  00           L094A:      .byte $00
00094B  2  00 00 00 00  L094B:      .byte $00,$00,$00,$00,$00,$00,$00,$00
00094F  2  00 00 00 00  
000953  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000957  2  00 00 00 00  
00095B  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00095F  2  00 00 00 00  
000963  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000967  2  00 00 00 00  
00096B  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00096F  2  00 00 00 00  
000973  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000977  2  00 00 00 00  
00097B  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00097F  2  00 00 00 00  
000983  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000987  2  00 00 00 00  
00098B  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00098F  2  00 00 00 00  
000993  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000997  2  00 00 00 00  
00099B  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00099F  2  00 00 00 00  
0009A3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009A7  2  00 00 00 00  
0009AB  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009AF  2  00 00 00 00  
0009B3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009B7  2  00 00 00 00  
0009BB  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009BF  2  00 00 00 00  
0009C3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009C7  2  00 00 00 00  
0009CB  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009CF  2  00 00 00 00  
0009D3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009D7  2  00 00 00 00  
0009DB  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009DF  2  00 00 00 00  
0009E3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009E7  2  00 00 00 00  
0009EB  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009EF  2  00 00 00 00  
0009F3  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0009F7  2  00 00 00 00  
0009FB  2  00 00 00 00              .byte $00,$00,$00,$00,$00
0009FF  2  00           
000A00  2               
000A00  2               ;------------------------------------------------
000A00  2               ; Parameter block for OSFILE
000A00  2               ;------------------------------------------------
000A00  2               
000A00  2  00 00        L0A00:      .byte $00,$00		; Filename ptr
000A02  2               
000A02  2  00           L0A02:      .byte $00			; Load address
000A03  2  00 00 00     L0A03:      .byte $00,$00,$00
000A06  2               
000A06  2  00 00 00 00  L0A06:      .byte $00,$00,$00,$00	; Exec address
000A0A  2               
000A0A  2  00           L0A0A:      .byte $00			; Start address
000A0B  2  00 00 00     L0A0B:      .byte $00,$00,$00		; data to save
000A0E  2               
000A0E  2  00           L0A0E:      .byte $00			; End address
000A0F  2  00 00 00     L0A0F:      .byte $00,$00,$00		; data to save
000A12  2               
000A12  2               ;------------------------------------------------
000A12  2               
000A12  2  00 00 00 00  L0A12:      .byte $00,$00,$00,$00,$00
000A16  2  00           
000A17  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A1B  2  00 00 00 00  
000A1F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A23  2  00 00 00 00  
000A27  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A2B  2  00 00 00 00  
000A2F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A33  2  00 00 00 00  
000A37  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A3B  2  00 00 00 00  
000A3F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A43  2  00 00 00 00  
000A47  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A4B  2  00 00 00 00  
000A4F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A53  2  00 00 00 00  
000A57  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A5B  2  00 00 00 00  
000A5F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A63  2  00 00 00 00  
000A67  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A6B  2  00 00 00 00  
000A6F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A73  2  00 00 00 00  
000A77  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A7B  2  00 00 00 00  
000A7F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A83  2  00 00 00 00  
000A87  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A8B  2  00 00 00 00  
000A8F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A93  2  00 00 00 00  
000A97  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000A9B  2  00 00 00 00  
000A9F  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AA3  2  00 00 00 00  
000AA7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AAB  2  00 00 00 00  
000AAF  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AB3  2  00 00 00 00  
000AB7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000ABB  2  00 00 00 00  
000ABF  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AC3  2  00 00 00 00  
000AC7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000ACB  2  00 00 00 00  
000ACF  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AD3  2  00 00 00 00  
000AD7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000ADB  2  00 00 00 00  
000ADF  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AE3  2  00 00 00 00  
000AE7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AEB  2  00 00 00 00  
000AEF  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AF3  2  00 00 00 00  
000AF7  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000AFB  2  00 00 00 00  
000AFF  2  00                       .byte $00
000B00  2               L0B00:
000B00  2  00 00 00                 .byte $00,$00,$00
000B03  2  00 00 00 00  L0B03:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000B07  2  00 00 00 00  
000B0B  2  00 00 00                 .byte $00,$00,$00
000B0E  2  00 00 00 00  L0B0E:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000B12  2  00 00 00 00  
000B16  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B1A  2  00 00 00 00  
000B1E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B22  2  00 00 00 00  
000B26  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B2A  2  00 00 00 00  
000B2E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B32  2  00 00 00 00  
000B36  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B3A  2  00 00 00 00  
000B3E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B42  2  00 00 00 00  
000B46  2  39 7D 62 7D              .byte $39,$7D,$62,$7D,$5F,$7D,$62,$80
000B4A  2  5F 7D 62 80  
000B4E  2  67 7D 5F 81              .byte $67,$7D,$5F,$81,$59,$81,$59,$82
000B52  2  59 81 59 82  
000B56  2  58 80 67 80              .byte $58,$80,$67,$80,$67,$81,$65,$80
000B5A  2  67 81 65 80  
000B5E  2  67 81 65 82              .byte $67,$81,$65,$82,$60,$82,$5B,$82
000B62  2  60 82 5B 82  
000B66  2  60 82 5B 82              .byte $60,$82,$5B,$82,$58,$82,$58,$80
000B6A  2  58 82 58 80  
000B6E  2  5E 80 5E 80              .byte $5E,$80,$5E,$80,$61,$80,$67,$80
000B72  2  61 80 67 80  
000B76  2  61 7D 5F 80              .byte $61,$7D,$5F,$80,$5E,$7D,$62,$80
000B7A  2  5E 7D 62 80  
000B7E  2  61 83 62 80              .byte $61,$83,$62,$80,$61,$7F
000B82  2  61 7F        
000B84  2               
000B84  2  60 80                    .byte $60,$80
000B86  2               
000B86  2  61 83 61 80              .byte $61,$83,$61,$80,$61,$81
000B8A  2  61 81        
000B8C  2               
000B8C  2  60 80                    .byte $60,$80
000B8E  2               
000B8E  2  60 00 00 00              .byte $60,$00,$00,$00,$00,$00,$00,$00
000B92  2  00 00 00 00  
000B96  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000B9A  2  00 00 00 00  
000B9E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BA2  2  00 00 00 00  
000BA6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BAA  2  00 00 00 00  
000BAE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BB2  2  00 00 00 00  
000BB6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BBA  2  00 00 00 00  
000BBE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BC2  2  00 00 00 00  
000BC6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00
000BCA  2  00 00        
000BCC  2  00 00 00 00  L0BCC:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000BD0  2  00 00 00 00  
000BD4  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
000BD8  2  00 00 00 00  
000BDC  2  00 00 00                 .byte $00,$00,$00
000BDF  2               
000BDF  2  00           L0BDF:      .byte $00
000BE0  2  06           L0BE0:      .byte $06
000BE1  2  00           L0BE1:      .byte $00
000BE2  2  00           L0BE2:      .byte $00
000BE3  2  00 00 00 00  L0BE3:      .byte $00,$00,$00,$00,$00,$00,$00,$00
000BE7  2  00 00 00 00  
000BEB  2  00 00                    .byte $00,$00
000BED  2               
000BED  2               ;-------------------------------------------------
000BED  2               
000BED  2  00           L0BED:      .byte $00		; var
000BEE  2               
000BEE  2               ;-------------------------------------------------
000BEE  2               
000BEE  2  00           L0BEE:      .byte $00
000BEF  2  00 00 00 00  L0BEF:      .byte $00,$00,$00,$00,$01
000BF3  2  01           
000BF4  2               
000BF4  2               ;-------------------------------------------------
000BF4  2               
000BF4  2  00           L0BF4:      .byte $00		; var
000BF5  2               
000BF5  2               ;-------------------------------------------------
000BF5  2               
000BF5  2  00           L0BF5:      .byte $00
000BF6  2  00           L0BF6:      .byte $00
000BF7  2  00           L0BF7:      .byte $00
000BF8  2  00           L0BF8:      .byte $00
000BF9  2  00           L0BF9:      .byte $00
000BFA  2  00           L0BFA:      .byte $00
000BFB  2  00           L0BFB:      .byte $00
000BFC  2  00           L0BFC:      .byte $00
000BFD  2  00           L0BFD:      .byte $00
000BFE  2  00           L0BFE:      .byte $00
000BFF  2  00           L0BFF:      .byte $00
000C00  2               
000C00  2               ;-------------------------------------------------
000C00  2               
000C00  2  02           L0C00:      .byte $02		; Missile locked on target ($ff)
000C01  2  AD           L0C01:      .byte $AD		; Current view
000C02  2  0D           L0C02:      .byte $0D		; var
000C03  2  0D           L0C03:      .byte $0D		; Cabine temp
000C04  2  8D           L0C04:      .byte $8D		; var
000C05  2  05           L0C05:      .byte $05		; var
000C06  2  00           L0C06:      .byte $00		; var
000C07  2  00           L0C07:      .byte $00		; var
000C08  2               
000C08  2               ;-------------------------------------------------
000C08  2               
000C08  2  0D           L0C08:      .byte $0D
000C09  2  85           L0C09:      .byte $85
000C0A  2  71           L0C0A:      .byte $71
000C0B  2               
000C0B  2  A5 08        L0C0B:      lda L0008              ; A9 08
000C0D  2  85 70                    sta L0070              ; 85 70
000C0F  2  A2 40                    ldx #$40               ; A2 40
000C11  2  A0 00                    ldy #$00               ; A0 00
000C13  2  60                       rts                    ; 60
000C14  2               
000C14  2  6C 03 0B                 .byte $6C,$03,$0B
000C17  2  20 0E 0B                 .byte $20,$0E,$0B
000C1A  2  6C 89 00                 .byte $6C,$89,$00
000C1D  2  0B 05 6C                 .byte $0B,$05,$6C
000C20  2  CE 90 47                 .byte $CE,$90,$47
000C23  2  C9 81 A5                 .byte $C9,$81,$A5
000C26  2  D4 D0 0B                 .byte $D4,$D0,$0B
000C29  2  01 CD F7                 .byte $01,$CD,$F7
000C2C  2  D0 1B C0                 .byte $D0,$1B,$C0
000C2F  2  C8 0D 73                 .byte $C8,$0D,$73
000C32  2  79 18                    .byte $79,$18
000C34  2               
000C34  2  98           L0C34:      .byte $98
000C35  2  E3 D0 0B                 .byte $E3,$D0,$0B
000C38  2  02 CD F5                 .byte $02,$CD,$F5
000C3B  2  D0 CA 71                 .byte $D0,$CA,$71
000C3E  2  E6 FA D0                 .byte $E6,$FA,$D0
000C41  2  C8 70                    .byte $C8,$70
000C43  2               L0C43:
000C43  2  71 18                    adc (L0018),y
000C45  2  98                       tya                    ; 98
000C46  2  70 84                    bvs L0BCC              ; 70 84
000C48  2  0D 08 6C                 ora $6c08
000C4B  2  58                       cli                    ; 58
000C4C  2  FF FC                    .byte $FF,$FC
000C4E  2  6C 0D 09                 jmp (L090D)            ; 6C 0D 09
000C51  2  8D 06 F0                 .byte $8D,$06,$F0
000C54  2  4E D3 CD                 .byte $4E,$D3,$CD
000C57  2  F5 10                    sbc L0010,X            ; F5 10
000C59  2  CA                       dex                    ; CA
000C5A  2  71 E6                    adc (L00E6),Y          ; 71 E6
000C5C  2  FA                       .byte $FA
000C5D  2               
000C5D  2  D0           L0C5D:      .byte $D0
000C5E  2               
000C5E  2               ;--------------------------------------------
000C5E  2               
000C5E  2  FF           L0C5E:      .byte $FF		; var
000C5F  2               
000C5F  2               ;--------------------------------------------
000C5F  2               
000C5F  2  70 71                    bvs L0CD2              ; 70 71
000C61  2  18                       clc                    ; 18
000C62  2  98                       tya                    ; 98
000C63  2  01 B9                    .byte $01,$B9
000C65  2  0B 4B                    .byte $0B,$4B
000C67  2  6E A9 D8                 .byte $6E,$A9,$D8
000C6A  2  09 9F                    ora #$9F               ; 09 9F
000C6C  2  42                       .byte $42
000C6D  2  65 02                    adc L0002              ; 65 02
000C6F  2  8D 03 02                 sta L0203              ; 8D 03 02
000C72  2  8D 07 02                 sta L0207              ; 8D 07 02
000C75  2               
000C75  2  A9 60                    lda #$60               ; A9 60
000C77  2               
000C77  2  85 88                    sta L0088              ; 85 88
000C79  2  A9 00                    lda #$00               ; A9 00
000C7B  2  8D 25 02                 sta L0225              ; 8D 25 02
000C7E  2  8D 29 02                 sta L0229              ; 8D 29 02
000C81  2  A9 88                    lda #$88               ; A9 88
000C83  2  8D 24 02                 sta L0224              ; 8D 24 02
000C86  2               
000C86  2               ;--------------------------------------------
000C86  2               
000C86  2  FF           L0C86:      .byte $FF		; var
000C87  2               
000C87  2               ;--------------------------------------------
000C87  2               
000C87  2  28                       plp                    ; 28
000C88  2  02                       .byte $02
000C89  2  58                       cli                    ; 58
000C8A  2  A9 20                    lda #$20               ; A9 20
000C8C  2  2C                       .byte $2C
000C8D  2               
000C8D  2  D0 65                    .byte $D0,$65
000C8F  2  8D 4B 1E                 sta L1E38+1              ; 8D 39 1E
000C92  2  4A                       lsr A                  ; 4A
000C93  2  A2 03                    ldx #$03               ; A2 03
000C95  2  86 79                    stx L0079              ; 86 79
000C97  2  86 84                    stx L0084              ; 86 84
000C99  2  86 86                    stx L0086              ; 86 86
000C9B  2               
000C9B  2  A2 00                    ldx #$00               ; A2 00
000C9D  2  A0 00                    ldy #$00               ; A0 00
000C9F  2  20 27 11                 jsr LFFF4              ; OSBYTE
000CA2  2               
000CA2  2  A2 FF                    ldx #$FF               ; A2 FF
000CA4  2  A9 95                    lda #$95               ; A9 95
000CA6  2  20 65 1C                 jsr L1C7D              ; 20 7D 1C
000CA9  2  A9 90                    lda #$90               ; A9 90
000CAB  2  20 37 1C                 jsr L1C4E+1              ; 20 4F 1C
000CAE  2  2C           L0CAE:      .byte $2C
000CAF  2               L0CAF:
000CAF  2  D0 92                    bne L0C43
000CB1  2  A9 F7                    lda #$F7               ; A9 F7
000CB3  2  A2 00                    ldx #$00               ; A2 00
000CB5  2  20 37 1C     L0CB5:      jsr L1C4E+1              ; 20 4F 1C
000CB8  2               
000CB8  2  A9 8F                    lda #$8F               ; Check NMI claim by ROM
000CBA  2  A2 0C                    ldx #$0C               ; Return ROM nr in Y
000CBC  2  A0 FF                    ldy #$FF
000CBE  2  20 27 11                 jsr LFFF4
000CC1  2               
000CC1  2  A9 0D                    lda #$0D               ; A9 0D
000CC3  2  A2 00                    ldx #$00               ; A2 00
000CC5  2  20 37 1C                 jsr L1C4E+1              ; 20 4F 1C
000CC8  2               
000CC8  2  A9 E1                    lda #$E1               ; A9 E1
000CCA  2  A2 80                    ldx #$80               ; A2 80
000CCC  2  20 37 1C                 jsr L1C4E+1              ; 20 4F 1C
000CCF  2               
000CCF  2  80           L0CCF:      .byte $80		; X-pos print char
000CD0  2  FE           L0CD0:      .byte $FE		; Y-pos print char
000CD1  2  A2           L0CD1:      .byte $A2
000CD2  2               
000CD2  2               ;--------------------------------------------
000CD2  2               
000CD2  2  FF           L0CD2:      .byte $FF		; Energy FS
000CD3  2  FF           L0CD3:      .byte $FF		; Energy AS
000CD4  2  FF           L0CD4:      .byte $FF		; Energy 1
000CD5  2               
000CD5  2               ;--------------------------------------------
000CD5  2               
000CD5  2  20           L0CD5:      .byte $20		; Laser X
000CD6  2  F4           L0CD6:      .byte $F4		; Laser Y
000CD7  2  CA           L0CD7:      .byte $CA
000CD8  2  C2           L0CD8:      .byte $C2
000CD9  2  04           L0CD9:      .byte $04
000CDA  2  84           L0CDA:      .byte $84
000CDB  2  05           L0CDB:      .byte $05
000CDC  2  A9           L0CDC:      .byte $A9
000CDD  2  C8           L0CDD:      .byte $C8
000CDE  2  A2           L0CDE:      .byte $A2		; Max equipment items (4-9)
000CDF  2               
000CDF  2  46           L0CDF:      .byte $46
000CE0  2  0B 4F        L0CE0:      .byte $0B,$4F
000CE2  2  1C           L0CE2:      .byte $1C
000CE3  2               
000CE3  2  E0 03        L0CE3:      cpx #$03               ; E0 03
000CE5  2  D0 DD                    bne L0CC4              ; D0 DD
000CE7  2  A9 0D                    lda #$0D               ; A9 0D
000CE9  2               
000CE9  2  A2           L0CE9:      .byte $A2		; Planet status
000CEA  2               
000CEA  2  02           L0CEA:      .byte $02		; Government type
000CEB  2  20           L0CEB:      .byte $20		; Tech.level
000CEC  2  4F           L0CEC:      .byte $4F		; Population
000CED  2  FF                       .byte $FF
000CEE  2  A2           L0CEE:      .byte $A2		; Gross productivity-lb
000CEF  2  1C           L0CEF:      .byte $1C		; Gross productivity-hb
000CF0  2               
000CF0  2  9A           L0CF0:      txs                    ; 9A
000CF1  2  E8           L0CF1:      inx                    ; E8
000CF2  2  A0 00        L0CF2:      ldy #$00               ; A0 00
000CF4  2  B9 21 20                 lda L1FF4,Y            ; B9 F4 1F
000CF7  2  55 26                    eor L0026,X            ; 55 26
000CF9  2  CA                       dex                    ; CA
000CFA  2  C8                       iny                    ; C8
000CFB  2  C0 21                    cpy #$21               ; C0 21
000CFD  2  D0 B0                    bne L0CAF              ; D0 B0
000CFF  2  A9                       .byte $A9
000D00  2               
000D00  2  40           L0D00:      .byte $40
000D01  2  00           L0D01:      .byte $00
000D02  2  47 DB        L0D02:      .byte $47,$DB
000D04  2               
000D04  2  C6 63        L0D04:      .byte <keyscan,>keyscan
000D06  2               
000D06  2  00 00        L0D06:      .byte $00,$00
000D08  2               
000D08  2               ;---------------------------------------------
000D08  2               ; Address pointers
000D08  2               ;---------------------------------------------
000D08  2               
000D08  2  F7 40                    .word L3FB5		; B5 3F
000D0A  2  E0 1C                    .word L1CF8		; F8 1C
000D0C  2  25 0D                    .word L0D25		; 25 0D
000D0E  2  F7 40                    .word L3FB8		; B8 3F
000D10  2               
000D10  2               ;---------------------------------------------
000D10  2               
000D10  2               L0D10:
000D10  2  08                       php                    ; 08
000D11  2  2C 01 0D                 bit L0D01              ; 2C 01 0D
000D14  2  30 02                    bmi L0D18              ; 30 02
000D16  2  28                       plp                    ; 28
000D17  2  60                       rts                    ; 60
000D18  2               
000D18  2               L0D18:
000D18  2  28                       plp                    ; 28
000D19  2  6C 04 0D                 jmp (L0D04)            ; 6C 04 0D
000D1C  2               
000D1C  2               ;---------------------------------------------
000D1C  2               ; ELITEA
000D1C  2               ;---------------------------------------------
000D1C  2               
000D1C  2  F0 00        L0D1C:      .byte $F0,$00
000D1E  2  00           L0D1E:      .byte $00
000D1F  2  00           L0D1F:      .byte $00
000D20  2  00 00 00     L0D20:      .byte $00,$00,$00
000D23  2  00           L0D23:      .byte $00
000D24  2  00           L0D24:      .byte $00
000D25  2               
000D25  2               L0D25:
000D25  2  AD 06 0D                 lda L0D06              ; AD 06 0D
000D28  2  49 FF                    eor #$FF               ; 49 FF
000D2A  2  8D 06 0D                 sta L0D06              ; 8D 06 0D
000D2D  2  0D 01 0D                 ora L0D01              ; 0D 01 0D
000D30  2  30 0B                    bmi L0D3D              ; 30 0B
000D32  2  AD 05 FE                 lda LFE05              ; AD 05 FE !!!! Keyboard!!!
000D35  2  09 20                    ora #$20               ; 09 20
000D37  2  8D 05 FE                 sta LFE05              ; 8D 05 FE
000D3A  2  A5 FC                    lda L00FC              ; A5 FC
000D3C  2  40                       rti                    ; 40
000D3D  2               
000D3D  2  6C 02 0D     L0D3D:      jmp (L0D02)            ; 6C 02 0D
000D40  2               
000D40  2  AD 00 09     L0D40:      lda L0900              ; AD 00 09
000D43  2  85 00                    sta $00                ; 85 00
000D45  2  A9 00                    lda #$00               ; A9 00
000D47  2  A2 01                    ldx #$01               ; A2 01
000D49  2  DE FD 0B     L0D49:      dec L0BFD,X            ; DE FD 0B
000D4C  2  10 06                    bpl L0D54              ; 10 06
000D4E  2  9D FD 0B                 sta L0BFD,X            ; 9D FD 0B
000D51  2  9D FB 0B                 sta L0BFB,X            ; 9D FB 0B
000D54  2  CA           L0D54:      dex                    ; CA
000D55  2  10 F2                    bpl L0D49              ; 10 F2
000D57  2  A6 AC                    ldx L00AC              ; A6 AC
000D59  2  20 0D 26                 jsr L25E0              ; 20 E0 25
000D5C  2  20 0D 26                 jsr L25E0              ; 20 E0 25
000D5F  2  8A                       txa                    ; 8A
000D60  2  49 80                    eor #$80               ; 49 80
000D62  2  A8                       tay                    ; A8
000D63  2  29 80                    and #$80               ; 29 80
000D65  2               
000D65  2  4C 70 0D                 jmp L0D70              ; 4C 70 0D
000D68  2               
000D68  2  A1 BB                    .byte $A1,$BB
000D6A  2  80 00                    .byte $80,$00
000D6C  2  90 01                    .byte $90,$01
000D6E  2  D6 F1                    .byte $D6,$F1
000D70  2               
000D70  2  85 88        L0D70:      sta L0088              ; 85 88
000D72  2  86 AC                    stx L00AC              ; 86 AC
000D74  2  49 80                    eor #$80               ; 49 80
000D76  2  85 89                    sta L0089              ; 85 89
000D78  2  98                       tya                    ; 98
000D79  2  10 05                    bpl L0D80              ; 10 05
000D7B  2  49 FF                    eor #$FF               ; 49 FF
000D7D  2  18                       clc                    ; 18
000D7E  2  69 01                    adc #$01               ; 69 01
000D80  2  4A           L0D80:      lsr A                  ; 4A
000D81  2  4A                       lsr A                  ; 4A
000D82  2  C9 08                    cmp #$08               ; C9 08
000D84  2  B0 02                    bcs L0D88              ; B0 02
000D86  2  4A                       lsr A                  ; 4A
000D87  2  18                       clc                    ; 18
000D88  2  85 87        L0D88:      sta L0087              ; 85 87
000D8A  2  05 88                    ora L0088              ; 05 88
000D8C  2  85 AE                    sta L00AE              ; 85 AE
000D8E  2  A6 AD                    ldx L00AD              ; A6 AD
000D90  2  20 0D 26                 jsr L25E0              ; 20 E0 25
000D93  2  8A                       txa                    ; 8A
000D94  2  49 80                    eor #$80               ; 49 80
000D96  2  A8                       tay                    ; A8
000D97  2  29 80                    and #$80               ; 29 80
000D99  2  86 AD                    stx L00AD              ; 86 AD
000D9B  2  85 8B                    sta L008B              ; 85 8B
000D9D  2  49 80                    eor #$80               ; 49 80
000D9F  2  85 8A                    sta L008A              ; 85 8A
000DA1  2  98                       tya                    ; 98
000DA2  2  10 02                    bpl L0DA6              ; 10 02
000DA4  2  49 FF                    eor #$FF               ; 49 FF
000DA6  2  69 04        L0DA6:      adc #$04               ; 69 04
000DA8  2  4A                       lsr A                  ; 4A
000DA9  2  4A                       lsr A                  ; 4A
000DAA  2  4A                       lsr A                  ; 4A
000DAB  2  4A                       lsr A                  ; 4A
000DAC  2  C9 03                    cmp #$03               ; C9 03
000DAE  2  B0 01                    bcs L0DB1              ; B0 01
000DB0  2  4A                       lsr A                  ; 4A
000DB1  2  85 2B        L0DB1:      sta L002B              ; 85 2B
000DB3  2  05 8A                    ora L008A              ; 05 8A
000DB5  2  85 2A                    sta L002A              ; 85 2A
000DB7  2  A5 43                    lda L0043              ; A5 43
000DB9  2  F0 08                    beq L0DC3              ; F0 08
000DBB  2               
000DBB  2  A5 8C                    lda L008C              ; Get speed
000DBD  2  C9 28                    cmp #$28               ; C9 28
000DBF  2  B0 02                    bcs L0DC3              ; B0 02
000DC1  2  E6 8C                    inc L008C              ; Increment speed
000DC3  2  A5 42        L0DC3:      lda L0042              ; A5 42
000DC5  2  F0 06                    beq L0DCD              ; F0 06
000DC7  2  C6 8C                    dec L008C              ; Decrement speed
000DC9  2  D0 02                    bne L0DCD              ; D0 02
000DCB  2  E6 8C                    inc L008C              ; Increment speed
000DCD  2  A5 4C        L0DCD:      lda L004C              ; A5 4C
000DCF  2  2D 33 03                 and L0333              ; 2D 33 03
000DD2  2  F0 0D                    beq L0DE1              ; F0 0D
000DD4  2  20 24 3A                 jsr L3902              ; 20 02 39
000DD7  2  A9 28                    lda #$28               ; ???
000DD9  2  20 17 44                 jsr L4281              ; Make sound
000DDC  2  A9 00                    lda #$00               ; A9 00
000DDE  2  8D 00 0C                 sta L0C00              ; Missile locked on target
000DE1  2  A5 52        L0DE1:      lda L0052              ; A5 52
000DE3  2  10 11                    bpl L0DF6              ; 10 11
000DE5  2  A5 4B                    lda L004B              ; A5 4B
000DE7  2  F0 0D                    beq L0DF6              ; F0 0D
000DE9  2  AE 33 03                 ldx L0333              ; AE 33 03
000DEC  2  F0 08                    beq L0DF6              ; F0 08
000DEE  2  8D 00 0C                 sta L0C00              ; Missile locked on target
000DF1  2               
000DF1  2  A0 0D                    ldy #$0D               ; Sprite=locked
000DF3  2  20 65 3A                 jsr L393F              ; Plot missiles in panel
000DF6  2               
000DF6  2  A5 4D        L0DF6:      lda L004D              ; A5 4D
000DF8  2  F0 07                    beq L0E01              ; F0 07
000DFA  2  A5 52                    lda L0052              ; A5 52
000DFC  2  30 2C                    bmi L0E2A              ; 30 2C
000DFE  2  20 3B 21                 jsr L210E              ; 20 0E 21
000E01  2  A5 49        L0E01:      lda L0049              ; A5 49
000E03  2  F0 03                    beq L0E08              ; F0 03
000E05  2  0E 2A 03                 asl L032A              ; Energy Bomb item
000E08  2  A5 4A        L0E08:      lda L004A              ; A5 4A
000E0A  2  2D 2E 03                 and L032E              ; Escape Capsule item
000E0D  2  F0 03                    beq L0E12              ; F0 03
000E0F  2  4C CD 1E                 jmp L1EA1              ; 4C A1 1E
000E12  2  A5 4F        L0E12:      lda L004F              ; A5 4F
000E14  2  F0 03                    beq L0E19              ; F0 03
000E16  2  20 AB 26                 jsr L267E              ; 20 7E 26
000E19  2  A5 4E        L0E19:      lda L004E              ; A5 4E
000E1B  2  2D 28 03                 and L0328              ; E.C.M.System item
000E1E  2  F0 0A                    beq L0E2A              ; F0 0A
000E20  2  A5 30                    lda L0030              ; E mark in panel
000E22  2  D0 06                    bne L0E2A              ; D0 06
000E24  2  CE FF 0B                 dec L0BFF              ; CE FF 0B
000E27  2  20 34 3A                 jsr L3912              ; 20 12 39
000E2A  2  A5 50        L0E2A:      lda L0050              ; A5 50
000E2C  2  2D 2C 03                 and L032C              ; Docking computer item
000E2F  2  2D F4 0B                 and L0BF4              ; 2D F4 0B
000E32  2  F0 08                    beq L0E3C              ; F0 08
000E34  2  AD 44 09                 lda L0944              ; AD 44 09
000E37  2  30 03                    bmi L0E3C              ; 30 03
000E39  2  4C 49 0F                 jmp L0F49              ; 4C 49 0F
000E3C  2  A9 00        L0E3C:      lda #$00               ; A9 00
000E3E  2  85 51                    sta L0051              ; 85 51
000E40  2  85 8D                    sta L008D              ; 85 8D
000E42  2  A5 8C                    lda L008C              ; Get speed
000E44  2  4A                       lsr A                  ; 4A
000E45  2  66 8D                    ror L008D              ; 66 8D
000E47  2  4A                       lsr A                  ; 4A
000E48  2  66 8D                    ror L008D              ; 66 8D
000E4A  2  85 8E                    sta L008E              ; 85 8E
000E4C  2  AD 02 0C                 lda L0C02              ; AD 02 0C
000E4F  2  D0 2D                    bne L0E7E              ; D0 2D
000E51  2  A5 48                    lda L0048              ; A5 48
000E53  2  F0 29                    beq L0E7E              ; F0 29
000E55  2               
000E55  2  AD 03 0C                 lda L0C03              ; Cabine temp
000E58  2  C9 F2                    cmp #$F2               ; C9 F2
000E5A  2  B0 22                    bcs L0E7E              ; B0 22
000E5C  2               
000E5C  2  AE 01 0C                 ldx L0C01              ; Current view
000E5F  2  BD 10 03                 lda L0310,X            ; Laser item
000E62  2  F0 1A                    beq L0E7E              ; F0 1A
000E64  2               
000E64  2  48                       pha                    ; 48
000E65  2  29 7F                    and #$7F               ; 29 7F
000E67  2  85 51                    sta L0051              ; 85 51
000E69  2  8D ED 0B                 sta L0BED              ; 8D ED 0B
000E6C  2  A9 00                    lda #$00               ; Laser sound
000E6E  2  20 17 44                 jsr L4281              ; Make sound
000E71  2  20 09 27                 jsr L26DC              ; 20 DC 26
000E74  2  68                       pla                    ; 68
000E75  2  10 02                    bpl L0E79              ; 10 02
000E77  2  A9 00                    lda #$00               ; A9 00
000E79  2  29 FA        L0E79:      and #$FA               ; 29 FA
000E7B  2  8D 02 0C                 sta L0C02              ; 8D 02 0C
000E7E  2  A2 00        L0E7E:      ldx #$00               ; A2 00
000E80  2  86 A3        L0E80:      stx L00A3              ; 86 A3
000E82  2  BD E0 0B                 lda L0BE0,X            ; BD E0 0B
000E85  2  D0 03                    bne L0E8A              ; D0 03
000E87  2  4C 2C 10                 jmp L102C              ; 4C 2C 10
000E8A  2               
000E8A  2  85 AB        L0E8A:      sta L00AB              ; TYPE
000E8C  2  20 6C 39                 jsr L384A              ; Set galaxy pointer $20/21
000E8F  2  A0 23                    ldy #$23               ; A0 23
000E91  2  B1 20        L0E91:      lda (L0020),Y          ; B1 20
000E93  2  99 53 00                 sta L0053,Y            ; Galaxy data
000E96  2  88                       dey                    ; 88
000E97  2  10 F8                    bpl L0E91              ; 10 F8
000E99  2  A5 AB                    lda L00AB              ; TYPE
000E9B  2  30 24                    bmi L0EC1              ; 30 24
000E9D  2  0A                       asl A                  ; 0A
000E9E  2  A8                       tay                    ; A8
000E9F  2               
000E9F  2  B9 58 50                 lda L4ED2,Y            ; 3D Object pointer
000EA2  2  85 1E                    sta L001E
000EA4  2  B9 59 50                 lda L4ED3,Y
000EA7  2  85 1F                    sta L001F
000EA9  2               
000EA9  2  AD 2A 03                 lda L032A              ; Energy Bomb item
000EAC  2  10 13                    bpl L0EC1              ; 10 13
000EAE  2  C0 0E                    cpy #$0E               ; C0 0E
000EB0  2  F0 0F                    beq L0EC1              ; F0 0F
000EB2  2  A5 72                    lda L0072              ; A5 72
000EB4  2  29 20                    and #$20               ; 29 20
000EB6  2  D0 09                    bne L0EC1              ; D0 09
000EB8  2  A5 72                    lda L0072              ; A5 72
000EBA  2  09 80                    ora #$80               ; 09 80
000EBC  2  85 72                    sta L0072              ; 85 72
000EBE  2  20 EF 43                 jsr L4259              ; 20 59 42
000EC1  2  20 57 11     L0EC1:      jsr L1157              ; 20 57 11
000EC4  2  A0 23                    ldy #$23               ; A0 23
000EC6  2  B9 53 00     L0EC6:      lda L0053,Y            ; Galaxy data
000EC9  2  91 20                    sta (L0020),Y          ; 91 20
000ECB  2  88                       dey                    ; 88
000ECC  2  10 F8                    bpl L0EC6              ; 10 F8
000ECE  2  A5 72                    lda L0072              ; A5 72
000ED0  2  29 A0                    and #$A0               ; 29 A0
000ED2  2  20 7C 40                 jsr L3F40              ; 20 40 3F
000ED5  2  D0 51                    bne L0F28              ; D0 51
000ED7  2  A5 53                    lda L0053              ; Galaxy data
000ED9  2  05 56                    ora L0056              ; 05 56
000EDB  2  05 59                    ora L0059              ; 05 59
000EDD  2  30 49                    bmi L0F28              ; 30 49
000EDF  2  A6 AB                    ldx L00AB              ; TYPE
000EE1  2  30 45                    bmi L0F28              ; 30 45
000EE3  2  E0 07                    cpx #$07               ; E0 07
000EE5  2  F0 44                    beq L0F2B              ; F0 44
000EE7  2  29 C0                    and #$C0               ; 29 C0
000EE9  2  D0 3D                    bne L0F28              ; D0 3D
000EEB  2  E0 08                    cpx #$08               ; E0 08
000EED  2  F0 39                    beq L0F28              ; F0 39
000EEF  2  E0 0A                    cpx #$0A               ; E0 0A
000EF1  2  B0 03                    bcs L0EF6              ; B0 03
000EF3  2  4C 73 0F                 jmp L0F73              ; 4C 73 0F
000EF6  2  AD 29 03     L0EF6:      lda L0329              ; Fuel scoops item
000EF9  2  25 58                    and L0058              ; 25 58
000EFB  2  10 76                    bpl L0F73              ; 10 76
000EFD  2  A9 03                    lda #$03               ; A9 03
000EFF  2  E0 0B                    cpx #$0B               ; E0 0B
000F01  2  D0 02                    bne L0F05              ; D0 02
000F03  2  F0 05                    beq L0F0A              ; F0 05
000F05  2  20 52 3E     L0F05:      jsr L3D24              ; Randomize $1,$2,$3
000F08  2  29 07                    and #$07               ; 29 07
000F0A  2  8D DC 0C     L0F0A:      sta L0CDC              ; 8D DC 0C
000F0D  2  A9 01                    lda #$01               ; A9 01
000F0F  2  20 94 29                 jsr L294A              ; 20 4A 29
000F12  2  A0 4E                    ldy #$4E               ; A0 4E
000F14  2  B0 4B                    bcs L0F61              ; B0 4B
000F16  2  AC DC 0C                 ldy L0CDC              ; AC DC 0C
000F19  2  79 17 03                 adc L0317,Y            ; Inventory
000F1C  2  99 17 03                 sta L0317,Y            ; Inventory
000F1F  2  98                       tya                    ; 98
000F20  2  69 D0                    adc #$D0               ; 69 D0
000F22  2  20 48 45                 jsr L43C2              ; 20 C2 43
000F25  2               
000F25  2  4C 64 0F                 jmp L0F64              ; 4C 64 0F
000F28  2  4C 82 0F     L0F28:      jmp L0F82              ; 4C 82 0F
000F2B  2  AD 44 09     L0F2B:      lda L0944              ; AD 44 09
000F2E  2  30 28                    bmi L0F58              ; 30 28
000F30  2  A5 61                    lda L0061              ; A5 61
000F32  2  C9 D6                    cmp #$D6               ; C9 D6
000F34  2  90 22                    bcc L0F58              ; 90 22
000F36  2  20 88 38                 jsr L3762              ; 20 62 37
000F39  2  A5 33                    lda L0033              ; A5 33
000F3B  2  30 1B                    bmi L0F58              ; 30 1B
000F3D  2  C9 59                    cmp #$59               ; C9 59
000F3F  2  90 17                    bcc L0F58              ; 90 17
000F41  2  A5 63                    lda L0063              ; A5 63
000F43  2  29 7F                    and #$7F               ; 29 7F
000F45  2  C9 50                    cmp #$50               ; C9 50
000F47  2  90 0F                    bcc L0F58              ; 90 0F
000F49  2  A9 00        L0F49:      lda #$00               ; A9 00
000F4B  2  85 2F                    sta L002F              ; Hyperspace timer
000F4D  2  A9 08                    lda #$08               ; A9 08
000F4F  2  20 25 22                 jsr L21F8              ; 20 F8 21
000F52  2  20 A7 3D                 jsr L3C79              ; 20 79 3C
000F55  2  4C 53 41                 jmp L400D              ; Jump to status screen
000F58  2               
000F58  2  A5 8C        L0F58:      lda L008C              ; Get speed
000F5A  2  C9 05                    cmp #$05
000F5C  2  90 0D                    bcc L0F6B              ; If speed<5, jump
000F5E  2  4C 83 40                 jmp L3F47              ; Else death
000F61  2               
000F61  2  20 DB 43     L0F61:      jsr L4245              ; 20 45 42
000F64  2  06 72        L0F64:      asl L0072              ; 06 72
000F66  2  38                       sec                    ; 38
000F67  2  66 72                    ror L0072              ; 66 72
000F69  2  D0 17                    bne L0F82              ; D0 17
000F6B  2               
000F6B  2  A9 01        L0F6B:      lda #$01               ; Reset speed
000F6D  2  85 8C                    sta L008C              ; Set speed
000F6F  2               
000F6F  2  A9 05                    lda #$05
000F71  2  D0 09                    bne L0F7C              ; Forced jump
000F73  2               
000F73  2  06 72        L0F73:      asl L0072              ; 06 72
000F75  2  38                       sec                    ; 38
000F76  2  66 72                    ror L0072              ; 66 72
000F78  2  A5 76                    lda L0076              ; A5 76
000F7A  2  38                       sec                    ; 38
000F7B  2  6A                       ror A                  ; 6A
000F7C  2               
000F7C  2  20 1E 39     L0F7C:      jsr L37FC              ; 20 FC 37
000F7F  2  20 DB 43                 jsr L4245              ; 20 45 42
000F82  2               
000F82  2  A5 A6        L0F82:      lda L00A6              ; Headerstatus
000F84  2  D0 5A                    bne L0FE0              ; D0 5A
000F86  2               
000F86  2  20 5D 27                 jsr L2730              ; 20 30 27
000F89  2               
000F89  2  20 D6 20                 jsr L20A9              ; 20 A9 20
000F8C  2  90 4F                    bcc L0FDD              ; 90 4F
000F8E  2  AD 00 0C                 lda L0C00              ; Missile locked on target
000F91  2  F0 0A                    beq L0F9D              ; F0 0A
000F93  2  20 15 44                 jsr L427F              ; Make beep sound
000F96  2  A6 A3                    ldx L00A3              ; A6 A3
000F98  2  A0 11                    ldy #$11               ; A0 11
000F9A  2  20 28 3A                 jsr L3906              ; 20 06 39
000F9D  2  A5 51        L0F9D:      lda L0051              ; A5 51
000F9F  2  F0 3C                    beq L0FDD              ; F0 3C
000FA1  2  A2 0F                    ldx #$0F               ; A2 0F
000FA3  2  20 FE 43                 jsr L4268              ; 20 68 42
000FA6  2  A5 76                    lda L0076              ; A5 76
000FA8  2  38                       sec                    ; 38
000FA9  2  E5 51                    sbc L0051              ; E5 51
000FAB  2  B0 29                    bcs L0FD6              ; B0 29
000FAD  2  A5 AB                    lda L00AB              ; TYPE
000FAF  2  C9 07                    cmp #$07               ; C9 07
000FB1  2  F0 25                    beq L0FD8              ; F0 25
000FB3  2  A5 72                    lda L0072              ; A5 72
000FB5  2  09 80                    ora #$80               ; 09 80
000FB7  2  85 72                    sta L0072              ; 85 72
000FB9  2  B0 22                    bcs L0FDD              ; B0 22
000FBB  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
000FBE  2  10 13                    bpl L0FD3              ; 10 13
000FC0  2  A0 00                    ldy #$00               ; A0 00
000FC2  2  31 1E                    and (L001E),Y          ; 31 1E
000FC4  2  85 B4                    sta L00B4              ; 85 B4
000FC6  2  F0 0B        L0FC6:      beq L0FD3              ; F0 0B
000FC8  2  A2 0A                    ldx #$0A               ; A2 0A
000FCA  2  A9 00                    lda #$00               ; A9 00
000FCC  2  20 8F 21                 jsr L2162              ; 20 62 21
000FCF  2  C6 B4                    dec L00B4              ; C6 B4
000FD1  2  10 F3                    bpl L0FC6              ; 10 F3
000FD3  2  20 EF 43     L0FD3:      jsr L4259              ; 20 59 42
000FD6  2  85 76        L0FD6:      sta L0076              ; 85 76
000FD8  2  A5 AB        L0FD8:      lda L00AB              ; TYPE
000FDA  2  20 5A 21                 jsr L212D              ; 20 2D 21
000FDD  2  20 4E 48     L0FDD:      jsr L46C8              ; 20 C8 46
000FE0  2  A0 23        L0FE0:      ldy #$23               ; A0 23
000FE2  2  A5 76                    lda L0076              ; A5 76
000FE4  2  91 20                    sta (L0020),Y          ; 91 20
000FE6  2  A5 72                    lda L0072              ; A5 72
000FE8  2  10 2D                    bpl L1017              ; 10 2D
000FEA  2  29 20                    and #$20               ; 29 20
000FEC  2  F0 29                    beq L1017              ; F0 29
000FEE  2  A5 AB                    lda L00AB              ; TYPE
000FF0  2  C9 02                    cmp #$02               ; C9 02
000FF2  2  D0 08                    bne L0FFC              ; D0 08
000FF4  2  AD 34 03                 lda L0334              ; AD 34 03
000FF7  2  09 40                    ora #$40               ; 09 40
000FF9  2  8D 34 03                 sta L0334              ; 8D 34 03
000FFC  2  AD 06 0C     L0FFC:      lda L0C06              ; AD 06 0C
000FFF  2  D0 13                    bne L1014              ; D0 13
001001  2  A0 0A                    ldy #$0A               ; A0 0A
001003  2  B1 1E                    lda (L001E),Y          ; B1 1E
001005  2  F0 0D                    beq L1014              ; F0 0D
001007  2  AA                       tax                    ; AA
001008  2  C8                       iny                    ; C8
001009  2  B1 1E                    lda (L001E),Y          ; B1 1E
00100B  2  A8                       tay                    ; A8
00100C  2  20 B2 32                 jsr L3232              ; Add X,Y to cash
00100F  2               
00100F  2  A9 00                    lda #$00               ; Text 'xxx.x CR'
001011  2  20 48 45                 jsr L43C2              ; Print at bottomline
001014  2  4C 78 3C     L1014:      jmp L3B4A              ; 4C 4A 3B
001017  2               
001017  2  A5 AB        L1017:      lda L00AB              ; TYPE
001019  2  30 05                    bmi L1020              ; 30 05
00101B  2  20 6F 40                 jsr L3F33              ; 20 33 3F
00101E  2  90 F4                    bcc L1014              ; 90 F4
001020  2               
001020  2  A0 1F        L1020:      ldy #$1F               ; A0 1F
001022  2  A5 72                    lda L0072              ; A5 72
001024  2  91 20                    sta (L0020),Y          ; 91 20
001026  2  A6 A3                    ldx L00A3              ; A6 A3
001028  2  E8                       inx                    ; E8
001029  2  4C 80 0E                 jmp L0E80              ; 4C 80 0E
00102C  2               
00102C  2  AD 2A 03     L102C:      lda L032A              ; Energy Bomb item
00102F  2  10 03                    bpl L1034              ; 10 03
001031  2  0E 2A 03                 asl L032A              ; Energy Bomb item
001034  2               
001034  2  A5 A9        L1034:      lda L00A9              ; A5 A9
001036  2  29 07                    and #$07               ; 29 07
001038  2  D0 65                    bne L109F              ; D0 65
00103A  2  AE D4 0C                 ldx L0CD4              ; Energy 1
00103D  2  10 12                    bpl L1051              ; 10 12
00103F  2               
00103F  2  AE D3 0C                 ldx L0CD3              ; Energy AS
001042  2  20 4E 38                 jsr L3728              ; 20 28 37
001045  2  8E D3 0C                 stx L0CD3              ; Energy AS
001048  2               
001048  2  AE D2 0C                 ldx L0CD2              ; Energy FS
00104B  2  20 4E 38                 jsr L3728              ; 20 28 37
00104E  2  8E D2 0C                 stx L0CD2              ; Energy FS
001051  2               
001051  2  38           L1051:      sec                    ; 38
001052  2  AD 2B 03                 lda L032B              ; Energy Unit item
001055  2  6D D4 0C                 adc L0CD4              ; Energy 1
001058  2  B0 03                    bcs L105D              ; B0 03
00105A  2  8D D4 0C                 sta L0CD4              ; Energy 1
00105D  2  A5 A9        L105D:      lda L00A9              ; A5 A9
00105F  2  29 1F                    and #$1F               ; 29 1F
001061  2  D0 40                    bne L10A3              ; D0 40
001063  2  AD F4 0B                 lda L0BF4              ; AD F4 0B
001066  2  D0 34                    bne L109C              ; D0 34
001068  2  A8                       tay                    ; A8
001069  2  20 2A 11                 jsr L112A              ; 20 2A 11
00106C  2  D0 2E                    bne L109C              ; D0 2E
00106E  2  A2 1C                    ldx #$1C               ; A2 1C
001070  2  BD 00 09     L1070:      lda L0900,X            ; BD 00 09
001073  2  95 53                    sta L0053,X            ; Galaxy data
001075  2  CA                       dex                    ; CA
001076  2  10 F8                    bpl L1070              ; 10 F8
001078  2  E8                       inx                    ; E8
001079  2  A0 09                    ldy #$09               ; A0 09
00107B  2  20 07 11                 jsr L1107              ; 20 07 11
00107E  2  D0 1C                    bne L109C              ; D0 1C
001080  2  A2 03                    ldx #$03               ; A2 03
001082  2  A0 0B                    ldy #$0B               ; A0 0B
001084  2  20 07 11                 jsr L1107              ; 20 07 11
001087  2  D0 13                    bne L109C              ; D0 13
001089  2  A2 06                    ldx #$06               ; A2 06
00108B  2  A0 0D                    ldy #$0D               ; A0 0D
00108D  2  20 07 11                 jsr L1107              ; 20 07 11
001090  2  D0 0A                    bne L109C              ; D0 0A
001092  2  A9 C0                    lda #$C0               ; A9 C0
001094  2  20 71 40                 jsr L3F35              ; 20 35 3F
001097  2  90 03                    bcc L109C              ; 90 03
001099  2  20 7A 39                 jsr L3858              ; 20 58 38
00109C  2  4C D5 10     L109C:      jmp L10D5              ; 4C D5 10
00109F  2  A5 A9        L109F:      lda L00A9              ; A5 A9
0010A1  2  29 1F                    and #$1F               ; 29 1F
0010A3  2  C9 0A        L10A3:      cmp #$0A               ; C9 0A
0010A5  2  D0 2E                    bne L10D5              ; D0 2E
0010A7  2  A9 32                    lda #$32               ; A9 32
0010A9  2  CD D4 0C                 cmp L0CD4              ; Energy 1
0010AC  2  90 04                    bcc L10B2              ; 90 04
0010AE  2  0A                       asl A                  ; 0A
0010AF  2  20 48 45                 jsr L43C2              ; 20 C2 43
0010B2  2  A0 FF        L10B2:      ldy #$FF               ; A0 FF
0010B4  2  8C E2 0C                 sty L0CE2              ; 8C E2 0C
0010B7  2  C8                       iny                    ; C8
0010B8  2  20 28 11                 jsr L1128              ; 20 28 11
0010BB  2  D0 18                    bne L10D5              ; D0 18
0010BD  2  20 36 11                 jsr L1136              ; 20 36 11
0010C0  2  B0 13                    bcs L10D5              ; B0 13
0010C2  2  E9 24                    sbc #$24               ; E9 24
0010C4  2  90 0C                    bcc L10D2              ; 90 0C
0010C6  2  85 A1                    sta L00A1              ; 85 A1
0010C8  2  20 7A 47                 jsr L45F4              ; 20 F4 45
0010CB  2  A5 A0                    lda L00A0              ; A5 A0
0010CD  2  8D E2 0C                 sta L0CE2              ; 8D E2 0C
0010D0  2  D0 03                    bne L10D5              ; D0 03
0010D2  2  4C 83 40     L10D2:      jmp L3F47              ; Death
0010D5  2  AD ED 0B     L10D5:      lda L0BED              ; AD ED 0B
0010D8  2  F0 0F                    beq L10E9              ; F0 0F
0010DA  2  AD 02 0C                 lda L0C02              ; AD 02 0C
0010DD  2  C9 08                    cmp #$08               ; C9 08
0010DF  2  B0 08                    bcs L10E9              ; B0 08
0010E1  2               
0010E1  2  20 28 27                 jsr L26FB              ; Draw lines
0010E4  2               
0010E4  2               
0010E4  2  A9 00                    lda #$00               ; A9 00
0010E6  2  8D ED 0B                 sta L0BED              ; 8D ED 0B
0010E9  2               
0010E9  2               L10E9:
0010E9  2  AD FF 0B                 lda L0BFF              ; AD FF 0B
0010EC  2  F0 05                    beq L10F3              ; F0 05
0010EE  2  20 51 38                 jsr L372B              ; 20 2B 37
0010F1  2  F0 0A                    beq L10FD              ; F0 0A
0010F3  2  A5 30        L10F3:      lda L0030              ; E mark in panel
0010F5  2  F0 09                    beq L1100              ; F0 09
0010F7  2  C6 30                    dec L0030              ; E mark in panel
0010F9  2  C6 30                    dec L0030              ; E mark in panel
0010FB  2  D0 03                    bne L1100              ; D0 03
0010FD  2  20 CD 43     L10FD:      jsr L4237              ; 20 37 42
001100  2  A5 A6        L1100:      lda L00A6              ; Headerstatus
001102  2  D0 23                    bne L1127              ; D0 23
001104  2  4C 31 19                 jmp L194C              ; 4C 4C 19
001107  2               
001107  2  B9 53 00     L1107:      lda L0053,Y            ; Galaxy data
00110A  2  0A                       asl A                  ; 0A
00110B  2  85 3E                    sta L003E              ; 85 3E
00110D  2  B9 54 00                 lda L0054,Y            ; B9 54 00
001110  2  2A                       rol A                  ; 2A
001111  2  85 3F                    sta L003F              ; 85 3F
001113  2  A9 00                    lda #$00               ; A9 00
001115  2  6A                       ror A                  ; 6A
001116  2  85 40                    sta L0040              ; 85 40
001118  2  20 4F 13                 jsr L134F              ; 20 4F 13
00111B  2  95 55                    sta L0055,X            ; 95 55
00111D  2  A4 3E                    ldy L003E              ; A4 3E
00111F  2  94 53                    sty L0053,X            ; Galaxy data
001121  2  A4 3F                    ldy L003F              ; A4 3F
001123  2  94 54                    sty L0054,X            ; 94 54
001125  2  29 7F                    and #$7F               ; 29 7F
001127  2  60           L1127:      rts                    ; 60
001128  2               
001128  2  A9 00        L1128:      lda #$00               ; A9 00
00112A  2  19 02 09     L112A:      ora L0902,Y            ; 19 02 09
00112D  2  19 05 09                 ora L0905,Y            ; 19 05 09
001130  2  19 08 09                 ora L0908,Y            ; 19 08 09
001133  2  29 7F                    and #$7F               ; 29 7F
001135  2  60                       rts                    ; 60
001136  2               
001136  2  B9 01 09     L1136:      lda L0901,Y            ; B9 01 09
001139  2  20 1D 24                 jsr L23F0              ; 20 F0 23
00113C  2  85 A1                    sta L00A1              ; 85 A1
00113E  2  B9 04 09                 lda L0904,Y            ; B9 04 09
001141  2  20 1D 24                 jsr L23F0              ; 20 F0 23
001144  2  65 A1                    adc L00A1              ; 65 A1
001146  2  B0 0C                    bcs L1154              ; B0 0C
001148  2  85 A1                    sta L00A1              ; 85 A1
00114A  2  B9 07 09                 lda L0907,Y            ; B9 07 09
00114D  2  20 1D 24                 jsr L23F0              ; 20 F0 23
001150  2  65 A1                    adc L00A1              ; 65 A1
001152  2  90 02                    bcc L1156              ; 90 02
001154  2  A9 FF        L1154:      lda #$FF               ; A9 FF
001156  2  60           L1156:      rts                    ; 60
001157  2               
001157  2  A5 72        L1157:      lda L0072              ; A5 72
001159  2  29 A0                    and #$A0               ; 29 A0
00115B  2  D0 25                    bne L1182              ; D0 25
00115D  2  A5 A9                    lda L00A9              ; A5 A9
00115F  2  45 A3                    eor L00A3              ; 45 A3
001161  2  29 0F                    and #$0F               ; 29 0F
001163  2  D0 03                    bne L1168              ; D0 03
001165  2  20 3B 46                 jsr L44B5              ; 20 B5 44
001168  2  A6 AB        L1168:      ldx L00AB              ; TYPE
00116A  2  10 03                    bpl L116F              ; 10 03
00116C  2  4C D3 14                 jmp L14D3              ; 4C D3 14
00116F  2               
00116F  2  A5 73        L116F:      lda L0073              ; A5 73
001171  2  10 0F                    bpl L1182              ; 10 0F
001173  2  E0 08                    cpx #$08               ; E0 08
001175  2  F0 08                    beq L117F              ; F0 08
001177  2  A5 A9                    lda L00A9              ; A5 A9
001179  2  45 A3                    eor L00A3              ; 45 A3
00117B  2  29 07                    and #$07               ; 29 07
00117D  2  D0 03                    bne L1182              ; D0 03
00117F  2               
00117F  2  20 6F 1F     L117F:      jsr L1F42              ; 20 42 1F
001182  2               
001182  2  20 D6 28     L1182:      jsr L28A4              ; 20 A4 28
001185  2  A5 6E                    lda L006E              ; A5 6E
001187  2  0A                       asl A                  ; 0A
001188  2  0A                       asl A                  ; 0A
001189  2  85 A0                    sta L00A0              ; 85 A0
00118B  2  A5 5D                    lda L005D              ; A5 5D
00118D  2  29 7F                    and #$7F               ; 29 7F
00118F  2  20 57 24                 jsr L242A              ; 20 2A 24
001192  2  85 A1                    sta L00A1              ; 85 A1
001194  2  A5 5D                    lda L005D              ; A5 5D
001196  2  A2 00                    ldx #$00               ; A2 00
001198  2  20 F8 12                 jsr L12F8              ; 20 F8 12
00119B  2  A5 5F                    lda L005F              ; A5 5F
00119D  2  29 7F                    and #$7F               ; 29 7F
00119F  2  20 57 24                 jsr L242A              ; 20 2A 24
0011A2  2  85 A1                    sta L00A1              ; 85 A1
0011A4  2  A5 5F                    lda L005F              ; A5 5F
0011A6  2  A2 03                    ldx #$03               ; A2 03
0011A8  2  20 F8 12                 jsr L12F8              ; 20 F8 12
0011AB  2  A5 61                    lda L0061              ; A5 61
0011AD  2  29 7F                    and #$7F               ; 29 7F
0011AF  2  20 57 24                 jsr L242A              ; 20 2A 24
0011B2  2  85 A1                    sta L00A1              ; 85 A1
0011B4  2  A5 61                    lda L0061              ; A5 61
0011B6  2  A2 06                    ldx #$06               ; A2 06
0011B8  2  20 F8 12                 jsr L12F8              ; 20 F8 12
0011BB  2  A5 6E                    lda L006E              ; A5 6E
0011BD  2  18                       clc                    ; 18
0011BE  2  65 6F                    adc L006F              ; 65 6F
0011C0  2  10 02                    bpl L11C4              ; 10 02
0011C2  2  A9 00                    lda #$00               ; A9 00
0011C4  2  A0 0F        L11C4:      ldy #$0F               ; A0 0F
0011C6  2  D1 1E                    cmp (L001E),Y          ; D1 1E
0011C8  2  90 02                    bcc L11CC              ; 90 02
0011CA  2  B1 1E                    lda (L001E),Y          ; B1 1E
0011CC  2  85 6E        L11CC:      sta L006E              ; 85 6E
0011CE  2  A9 00                    lda #$00               ; A9 00
0011D0  2  85 6F                    sta L006F              ; 85 6F
0011D2  2  A6 87                    ldx L0087              ; A6 87
0011D4  2  A5 53                    lda L0053              ; Galaxy data
0011D6  2  49 FF                    eor #$FF               ; 49 FF
0011D8  2  85 1B                    sta L001B              ; 85 1B
0011DA  2  A5 54                    lda L0054              ; A5 54
0011DC  2  20 87 24                 jsr L245A              ; 20 5A 24
0011DF  2  85 1D                    sta L001D              ; 85 1D
0011E1  2  A5 89                    lda L0089              ; A5 89
0011E3  2  45 55                    eor L0055              ; 45 55
0011E5  2  A2 03                    ldx #$03               ; A2 03
0011E7  2  20 9E 14                 jsr L149E              ; 20 9E 14
0011EA  2  85 BF                    sta L00BF              ; 85 BF
0011EC  2  A5 1C                    lda L001C              ; A5 1C
0011EE  2  85 BD                    sta L00BD              ; 85 BD
0011F0  2  49 FF                    eor #$FF               ; 49 FF
0011F2  2  85 1B                    sta L001B              ; 85 1B
0011F4  2  A5 1D                    lda L001D              ; A5 1D
0011F6  2  85 BE                    sta L00BE              ; 85 BE
0011F8  2  A6 2B                    ldx L002B              ; A6 2B
0011FA  2  20 87 24                 jsr L245A              ; 20 5A 24
0011FD  2  85 1D                    sta L001D              ; 85 1D
0011FF  2  A5 BF                    lda L00BF              ; A5 BF
001201  2  45 8A                    eor L008A              ; 45 8A
001203  2  A2 06                    ldx #$06               ; A2 06
001205  2  20 9E 14                 jsr L149E              ; 20 9E 14
001208  2  85 5B                    sta L005B              ; 85 5B
00120A  2  A5 1C                    lda L001C              ; A5 1C
00120C  2  85 59                    sta L0059              ; 85 59
00120E  2  49 FF                    eor #$FF               ; 49 FF
001210  2  85 1B                    sta L001B              ; 85 1B
001212  2  A5 1D                    lda L001D              ; A5 1D
001214  2  85 5A                    sta L005A              ; 85 5A
001216  2  20 89 24                 jsr L245C              ; 20 5C 24
001219  2  85 1D                    sta L001D              ; 85 1D
00121B  2  A5 BF                    lda L00BF              ; A5 BF
00121D  2  85 58                    sta L0058              ; 85 58
00121F  2  45 8A                    eor L008A              ; 45 8A
001221  2  45 5B                    eor L005B              ; 45 5B
001223  2  10 0F                    bpl L1234              ; 10 0F
001225  2  A5 1C                    lda L001C              ; A5 1C
001227  2  65 BD                    adc L00BD              ; 65 BD
001229  2  85 56                    sta L0056              ; 85 56
00122B  2  A5 1D                    lda L001D              ; A5 1D
00122D  2  65 BE                    adc L00BE              ; 65 BE
00122F  2  85 57                    sta L0057              ; 85 57
001231  2  4C 54 12                 jmp L1254              ; 4C 54 12
001234  2  A5 BD        L1234:      lda L00BD              ; A5 BD
001236  2  E5 1C                    sbc L001C              ; E5 1C
001238  2  85 56                    sta L0056              ; 85 56
00123A  2  A5 BE                    lda L00BE              ; A5 BE
00123C  2  E5 1D                    sbc L001D              ; E5 1D
00123E  2  85 57                    sta L0057              ; 85 57
001240  2  B0 12                    bcs L1254              ; B0 12
001242  2  A9 01                    lda #$01               ; A9 01
001244  2  E5 56                    sbc L0056              ; E5 56
001246  2  85 56                    sta L0056              ; 85 56
001248  2  A9 00                    lda #$00               ; A9 00
00124A  2  E5 57                    sbc L0057              ; E5 57
00124C  2  85 57                    sta L0057              ; 85 57
00124E  2  A5 58                    lda L0058              ; A5 58
001250  2  49 80                    eor #$80               ; 49 80
001252  2  85 58                    sta L0058              ; 85 58
001254  2  A6 87        L1254:      ldx L0087              ; A6 87
001256  2  A5 56                    lda L0056              ; A5 56
001258  2  49 FF                    eor #$FF               ; 49 FF
00125A  2  85 1B                    sta L001B              ; 85 1B
00125C  2  A5 57                    lda L0057              ; A5 57
00125E  2  20 87 24                 jsr L245A              ; 20 5A 24
001261  2  85 1D                    sta L001D              ; 85 1D
001263  2  A5 88                    lda L0088              ; A5 88
001265  2  45 58                    eor L0058              ; 45 58
001267  2  A2 00                    ldx #$00               ; A2 00
001269  2  20 9E 14                 jsr L149E              ; 20 9E 14
00126C  2  85 55                    sta L0055              ; 85 55
00126E  2  A5 1D                    lda L001D              ; A5 1D
001270  2  85 54                    sta L0054              ; 85 54
001272  2  A5 1C                    lda L001C              ; A5 1C
001274  2  85 53                    sta L0053              ; Galaxy data
001276  2  A5 8C        L1276:      lda L008C              ; Get speed
001278  2  85 A1                    sta L00A1              ; 85 A1
00127A  2  A9 80                    lda #$80               ; A9 80
00127C  2  A2 06                    ldx #$06               ; A2 06
00127E  2  20 FA 12                 jsr L12FA              ; 20 FA 12
001281  2               
001281  2  A0 09                    ldy #$09               ; A0 09
001283  2  20 AB 13                 jsr L13AB              ; 20 AB 13
001286  2               
001286  2  A0 0F                    ldy #$0F               ; A0 0F
001288  2  20 AB 13                 jsr L13AB              ; 20 AB 13
00128B  2               
00128B  2  A0 15                    ldy #$15               ; A0 15
00128D  2  20 AB 13                 jsr L13AB              ; 20 AB 13
001290  2               
001290  2  A5 71                    lda L0071              ; A5 71
001292  2  29 80                    and #$80               ; 29 80
001294  2  85 BB                    sta L00BB              ; 85 BB
001296  2  A5 71                    lda L0071              ; A5 71
001298  2  29 7F                    and #$7F               ; 29 7F
00129A  2  F0 1D                    beq L12B9              ; F0 1D
00129C  2  C9 7F                    cmp #$7F               ; C9 7F
00129E  2  E9 00                    sbc #$00               ; E9 00
0012A0  2  05 BB                    ora L00BB              ; 05 BB
0012A2  2  85 71                    sta L0071              ; 85 71
0012A4  2  A2 0F                    ldx #$0F               ; A2 0F
0012A6  2  A0 09                    ldy #$09               ; A0 09
0012A8  2  20 12 14                 jsr L1412              ; 20 12 14
0012AB  2  A2 11                    ldx #$11               ; A2 11
0012AD  2  A0 0B                    ldy #$0B               ; A0 0B
0012AF  2  20 12 14                 jsr L1412              ; 20 12 14
0012B2  2  A2 13                    ldx #$13               ; A2 13
0012B4  2  A0 0D                    ldy #$0D               ; A0 0D
0012B6  2  20 12 14                 jsr L1412              ; 20 12 14
0012B9  2  A5 70        L12B9:      lda L0070              ; A5 70
0012BB  2  29 80                    and #$80               ; 29 80
0012BD  2  85 BB                    sta L00BB              ; 85 BB
0012BF  2  A5 70                    lda L0070              ; A5 70
0012C1  2  29 7F                    and #$7F               ; 29 7F
0012C3  2  F0 1D                    beq L12E2              ; F0 1D
0012C5  2  C9 7F                    cmp #$7F               ; C9 7F
0012C7  2  E9 00                    sbc #$00               ; E9 00
0012C9  2  05 BB                    ora L00BB              ; 05 BB
0012CB  2  85 70                    sta L0070              ; 85 70
0012CD  2  A2 0F                    ldx #$0F               ; A2 0F
0012CF  2  A0 15                    ldy #$15               ; A0 15
0012D1  2  20 12 14                 jsr L1412              ; 20 12 14
0012D4  2  A2 11                    ldx #$11               ; A2 11
0012D6  2  A0 17                    ldy #$17               ; A0 17
0012D8  2  20 12 14                 jsr L1412              ; 20 12 14
0012DB  2  A2 13                    ldx #$13               ; A2 13
0012DD  2  A0 19                    ldy #$19               ; A0 19
0012DF  2  20 12 14                 jsr L1412              ; 20 12 14
0012E2  2  A5 72        L12E2:      lda L0072              ; A5 72
0012E4  2  29 A0                    and #$A0               ; 29 A0
0012E6  2  D0 09                    bne L12F1              ; D0 09
0012E8  2  A5 72                    lda L0072              ; A5 72
0012EA  2  09 10                    ora #$10               ; 09 10
0012EC  2  85 72                    sta L0072              ; 85 72
0012EE  2  4C D6 28                 jmp L28A4              ; 4C A4 28
0012F1  2  A5 72        L12F1:      lda L0072              ; A5 72
0012F3  2  29 EF                    and #$EF               ; 29 EF
0012F5  2  85 72                    sta L0072              ; 85 72
0012F7  2  60                       rts                    ; 60
0012F8  2  29 80        L12F8:      and #$80               ; 29 80
0012FA  2  0A           L12FA:      asl A                  ; 0A
0012FB  2  85 A2                    sta L00A2              ; 85 A2
0012FD  2  A9 00                    lda #$00               ; A9 00
0012FF  2  6A                       ror A                  ; 6A
001300  2  85 D1                    sta L00D1              ; 85 D1
001302  2  46 A2                    lsr L00A2              ; 46 A2
001304  2  55 55                    eor L0055,X            ; 55 55
001306  2  30 15                    bmi L131D              ; 30 15
001308  2  A5 A1                    lda L00A1              ; A5 A1
00130A  2  75 53                    adc L0053,X            ; Galaxy data
00130C  2  95 53                    sta L0053,X            ; Galaxy data
00130E  2  A5 A2                    lda L00A2              ; A5 A2
001310  2  75 54                    adc L0054,X            ; 75 54
001312  2  95 54                    sta L0054,X            ; 95 54
001314  2  B5 55                    lda L0055,X            ; B5 55
001316  2  69 00                    adc #$00               ; 69 00
001318  2  05 D1                    ora L00D1              ; 05 D1
00131A  2  95 55                    sta L0055,X            ; 95 55
00131C  2  60                       rts                    ; 60
00131D  2  B5 53        L131D:      lda L0053,X            ; Galaxy data
00131F  2  38                       sec                    ; 38
001320  2  E5 A1                    sbc L00A1              ; E5 A1
001322  2  95 53                    sta L0053,X            ; Galaxy data
001324  2  B5 54                    lda L0054,X            ; B5 54
001326  2  E5 A2                    sbc L00A2              ; E5 A2
001328  2  95 54                    sta L0054,X            ; 95 54
00132A  2  B5 55                    lda L0055,X            ; B5 55
00132C  2  29 7F                    and #$7F               ; 29 7F
00132E  2  E9 00                    sbc #$00               ; E9 00
001330  2  09 80                    ora #$80               ; 09 80
001332  2  45 D1                    eor L00D1              ; 45 D1
001334  2  95 55                    sta L0055,X            ; 95 55
001336  2  B0 16                    bcs L134E              ; B0 16
001338  2  A9 01                    lda #$01               ; A9 01
00133A  2  F5 53                    sbc L0053,X            ; Galaxy data
00133C  2  95 53                    sta L0053,X            ; Galaxy data
00133E  2  A9 00                    lda #$00               ; A9 00
001340  2  F5 54                    sbc L0054,X            ; F5 54
001342  2  95 54                    sta L0054,X            ; 95 54
001344  2  A9 00                    lda #$00               ; A9 00
001346  2  F5 55                    sbc L0055,X            ; F5 55
001348  2  29 7F                    and #$7F               ; 29 7F
00134A  2  05 D1                    ora L00D1              ; 05 D1
00134C  2  95 55                    sta L0055,X            ; 95 55
00134E  2  60           L134E:      rts                    ; 60
00134F  2  A5 40        L134F:      lda L0040              ; A5 40
001351  2  85 A2                    sta L00A2              ; 85 A2
001353  2  29 80                    and #$80               ; 29 80
001355  2  85 D1                    sta L00D1              ; 85 D1
001357  2  55 55                    eor L0055,X            ; 55 55
001359  2  30 18                    bmi L1373              ; 30 18
00135B  2  A5 3E                    lda L003E              ; A5 3E
00135D  2  18                       clc                    ; 18
00135E  2  75 53                    adc L0053,X            ; Galaxy data
001360  2  85 3E                    sta L003E              ; 85 3E
001362  2  A5 3F                    lda L003F              ; A5 3F
001364  2  75 54                    adc L0054,X            ; 75 54
001366  2  85 3F                    sta L003F              ; 85 3F
001368  2  A5 40                    lda L0040              ; A5 40
00136A  2  75 55                    adc L0055,X            ; 75 55
00136C  2  29 7F                    and #$7F               ; 29 7F
00136E  2  05 D1                    ora L00D1              ; 05 D1
001370  2  85 40                    sta L0040              ; 85 40
001372  2  60                       rts                    ; 60
001373  2  A5 A2        L1373:      lda L00A2              ; A5 A2
001375  2  29 7F                    and #$7F               ; 29 7F
001377  2  85 A2                    sta L00A2              ; 85 A2
001379  2  B5 53                    lda L0053,X            ; Galaxy data
00137B  2  38                       sec                    ; 38
00137C  2  E5 3E                    sbc L003E              ; E5 3E
00137E  2  85 3E                    sta L003E              ; 85 3E
001380  2  B5 54                    lda L0054,X            ; B5 54
001382  2  E5 3F                    sbc L003F              ; E5 3F
001384  2  85 3F                    sta L003F              ; 85 3F
001386  2  B5 55                    lda L0055,X            ; B5 55
001388  2  29 7F                    and #$7F               ; 29 7F
00138A  2  E5 A2                    sbc L00A2              ; E5 A2
00138C  2  09 80                    ora #$80               ; 09 80
00138E  2  45 D1                    eor L00D1              ; 45 D1
001390  2  85 40                    sta L0040              ; 85 40
001392  2  B0 16                    bcs L13AA              ; B0 16
001394  2  A9 01                    lda #$01               ; A9 01
001396  2  E5 3E                    sbc L003E              ; E5 3E
001398  2  85 3E                    sta L003E              ; 85 3E
00139A  2  A9 00                    lda #$00               ; A9 00
00139C  2  E5 3F                    sbc L003F              ; E5 3F
00139E  2  85 3F                    sta L003F              ; 85 3F
0013A0  2  A9 00                    lda #$00               ; A9 00
0013A2  2  E5 40                    sbc L0040              ; E5 40
0013A4  2  29 7F                    and #$7F               ; 29 7F
0013A6  2  05 D1                    ora L00D1              ; 05 D1
0013A8  2  85 40                    sta L0040              ; 85 40
0013AA  2  60           L13AA:      rts                    ; 60
0013AB  2  A5 AE        L13AB:      lda L00AE              ; A5 AE
0013AD  2  85 A0                    sta L00A0              ; 85 A0
0013AF  2  B6 55                    ldx L0055,Y            ; B6 55
0013B1  2  86 A1                    stx L00A1              ; 86 A1
0013B3  2  B6 56                    ldx L0056,Y            ; B6 56
0013B5  2  86 A2                    stx L00A2              ; 86 A2
0013B7  2  B6 53                    ldx L0053,Y            ; Galaxy data
0013B9  2  86 1B                    stx L001B              ; 86 1B
0013BB  2  B9 54 00                 lda L0054,Y            ; B9 54 00
0013BE  2  49 80                    eor #$80               ; 49 80
0013C0  2  20 0A 25                 jsr L24DD              ; 20 DD 24
0013C3  2  99 56 00                 sta L0056,Y            ; 99 56 00
0013C6  2  96 55                    stx L0055,Y            ; 96 55
0013C8  2  86 1B                    stx L001B              ; 86 1B
0013CA  2  B6 53                    ldx L0053,Y            ; Galaxy data
0013CC  2  86 A1                    stx L00A1              ; 86 A1
0013CE  2  B6 54                    ldx L0054,Y            ; B6 54
0013D0  2  86 A2                    stx L00A2              ; 86 A2
0013D2  2  B9 56 00                 lda L0056,Y            ; B9 56 00
0013D5  2  20 0A 25                 jsr L24DD              ; 20 DD 24
0013D8  2  99 54 00                 sta L0054,Y            ; 99 54 00
0013DB  2  96 53                    stx L0053,Y            ; Galaxy data
0013DD  2  86 1B                    stx L001B              ; 86 1B
0013DF  2  A5 2A                    lda L002A              ; A5 2A
0013E1  2  85 A0                    sta L00A0              ; 85 A0
0013E3  2  B6 55                    ldx L0055,Y            ; B6 55
0013E5  2  86 A1                    stx L00A1              ; 86 A1
0013E7  2  B6 56                    ldx L0056,Y            ; B6 56
0013E9  2  86 A2                    stx L00A2              ; 86 A2
0013EB  2  B6 57                    ldx L0057,Y            ; B6 57
0013ED  2  86 1B                    stx L001B              ; 86 1B
0013EF  2  B9 58 00                 lda L0058,Y            ; B9 58 00
0013F2  2  49 80                    eor #$80               ; 49 80
0013F4  2  20 0A 25                 jsr L24DD              ; 20 DD 24
0013F7  2  99 56 00                 sta L0056,Y            ; 99 56 00
0013FA  2  96 55                    stx L0055,Y            ; 96 55
0013FC  2  86 1B                    stx L001B              ; 86 1B
0013FE  2  B6 57                    ldx L0057,Y            ; B6 57
001400  2  86 A1                    stx L00A1              ; 86 A1
001402  2  B6 58                    ldx L0058,Y            ; B6 58
001404  2  86 A2                    stx L00A2              ; 86 A2
001406  2  B9 56 00                 lda L0056,Y            ; B9 56 00
001409  2  20 0A 25                 jsr L24DD              ; 20 DD 24
00140C  2  99 58 00                 sta L0058,Y            ; 99 58 00
00140F  2  96 57                    stx L0057,Y            ; 96 57
001411  2  60                       rts                    ; 60
001412  2  B5 54        L1412:      lda L0054,X            ; B5 54
001414  2  29 7F                    and #$7F               ; 29 7F
001416  2  4A                       lsr A                  ; 4A
001417  2  85 D1                    sta L00D1              ; 85 D1
001419  2  B5 53                    lda L0053,X            ; Galaxy data
00141B  2  38                       sec                    ; 38
00141C  2  E5 D1                    sbc L00D1              ; E5 D1
00141E  2  85 A1                    sta L00A1              ; 85 A1
001420  2  B5 54                    lda L0054,X            ; B5 54
001422  2  E9 00                    sbc #$00               ; E9 00
001424  2  85 A2                    sta L00A2              ; 85 A2
001426  2  B9 53 00                 lda L0053,Y            ; Galaxy data
001429  2  85 1B                    sta L001B              ; 85 1B
00142B  2  B9 54 00                 lda L0054,Y            ; B9 54 00
00142E  2  29 80                    and #$80               ; 29 80
001430  2  85 D1                    sta L00D1              ; 85 D1
001432  2  B9 54 00                 lda L0054,Y            ; B9 54 00
001435  2  29 7F                    and #$7F               ; 29 7F
001437  2  4A                       lsr A                  ; 4A
001438  2  66 1B                    ror L001B              ; 66 1B
00143A  2  4A                       lsr A                  ; 4A
00143B  2  66 1B                    ror L001B              ; 66 1B
00143D  2  4A                       lsr A                  ; 4A
00143E  2  66 1B                    ror L001B              ; 66 1B
001440  2  4A                       lsr A                  ; 4A
001441  2  66 1B                    ror L001B              ; 66 1B
001443  2  05 D1                    ora L00D1              ; 05 D1
001445  2  45 BB                    eor L00BB              ; 45 BB
001447  2  86 A0                    stx L00A0              ; 86 A0
001449  2  20 0D 25                 jsr L24E0              ; 20 E0 24
00144C  2  85 3E                    sta L003E              ; 85 3E
00144E  2  86 3D                    stx L003D              ; 86 3D
001450  2  A6 A0                    ldx L00A0              ; A6 A0
001452  2  B9 54 00                 lda L0054,Y            ; B9 54 00
001455  2  29 7F                    and #$7F               ; 29 7F
001457  2  4A                       lsr A                  ; 4A
001458  2  85 D1                    sta L00D1              ; 85 D1
00145A  2  B9 53 00                 lda L0053,Y            ; Galaxy data
00145D  2  38                       sec                    ; 38
00145E  2  E5 D1                    sbc L00D1              ; E5 D1
001460  2  85 A1                    sta L00A1              ; 85 A1
001462  2  B9 54 00                 lda L0054,Y            ; B9 54 00
001465  2  E9 00                    sbc #$00               ; E9 00
001467  2  85 A2                    sta L00A2              ; 85 A2
001469  2  B5 53                    lda L0053,X            ; Galaxy data
00146B  2  85 1B                    sta L001B              ; 85 1B
00146D  2  B5 54                    lda L0054,X            ; B5 54
00146F  2  29 80                    and #$80               ; 29 80
001471  2  85 D1                    sta L00D1              ; 85 D1
001473  2  B5 54                    lda L0054,X            ; B5 54
001475  2  29 7F                    and #$7F               ; 29 7F
001477  2  4A                       lsr A                  ; 4A
001478  2  66 1B                    ror L001B              ; 66 1B
00147A  2  4A                       lsr A                  ; 4A
00147B  2  66 1B                    ror L001B              ; 66 1B
00147D  2  4A                       lsr A                  ; 4A
00147E  2  66 1B                    ror L001B              ; 66 1B
001480  2  4A                       lsr A                  ; 4A
001481  2  66 1B                    ror L001B              ; 66 1B
001483  2  05 D1                    ora L00D1              ; 05 D1
001485  2  49 80                    eor #$80               ; 49 80
001487  2  45 BB                    eor L00BB              ; 45 BB
001489  2  86 A0                    stx L00A0              ; 86 A0
00148B  2  20 0D 25                 jsr L24E0              ; 20 E0 24
00148E  2  99 54 00                 sta L0054,Y            ; 99 54 00
001491  2  96 53                    stx L0053,Y            ; Galaxy data
001493  2  A6 A0                    ldx L00A0              ; A6 A0
001495  2  A5 3D                    lda L003D              ; A5 3D
001497  2  95 53                    sta L0053,X            ; Galaxy data
001499  2  A5 3E                    lda L003E              ; A5 3E
00149B  2  95 54                    sta L0054,X            ; 95 54
00149D  2  60                       rts                    ; 60
00149E  2  A8           L149E:      tay                    ; A8
00149F  2  55 55                    eor L0055,X            ; 55 55
0014A1  2  30 0F                    bmi L14B2              ; 30 0F
0014A3  2  A5 1C                    lda L001C              ; A5 1C
0014A5  2  18                       clc                    ; 18
0014A6  2  75 53                    adc L0053,X            ; Galaxy data
0014A8  2  85 1C                    sta L001C              ; 85 1C
0014AA  2  A5 1D                    lda L001D              ; A5 1D
0014AC  2  75 54                    adc L0054,X            ; 75 54
0014AE  2  85 1D                    sta L001D              ; 85 1D
0014B0  2  98                       tya                    ; 98
0014B1  2  60                       rts                    ; 60
0014B2  2  B5 53        L14B2:      lda L0053,X            ; Galaxy data
0014B4  2  38                       sec                    ; 38
0014B5  2  E5 1C                    sbc L001C              ; E5 1C
0014B7  2  85 1C                    sta L001C              ; 85 1C
0014B9  2  B5 54                    lda L0054,X            ; B5 54
0014BB  2  E5 1D                    sbc L001D              ; E5 1D
0014BD  2  85 1D                    sta L001D              ; 85 1D
0014BF  2  90 04                    bcc L14C5              ; 90 04
0014C1  2  98                       tya                    ; 98
0014C2  2  49 80                    eor #$80               ; 49 80
0014C4  2  60                       rts                    ; 60
0014C5  2  A9 01        L14C5:      lda #$01               ; A9 01
0014C7  2  E5 1C                    sbc L001C              ; E5 1C
0014C9  2  85 1C                    sta L001C              ; 85 1C
0014CB  2  A9 00                    lda #$00               ; A9 00
0014CD  2  E5 1D                    sbc L001D              ; E5 1D
0014CF  2  85 1D                    sta L001D              ; 85 1D
0014D1  2  98                       tya                    ; 98
0014D2  2  60           L14D2:      rts                    ; 60
0014D3  2  8A           L14D3:      txa                    ; 8A
0014D4  2  4A                       lsr A                  ; 4A
0014D5  2  B0 FB                    bcs L14D2              ; B0 FB
0014D7  2  A5 AE                    lda L00AE              ; A5 AE
0014D9  2  49 80                    eor #$80               ; 49 80
0014DB  2  85 A0                    sta L00A0              ; 85 A0
0014DD  2  A5 53                    lda L0053              ; Galaxy data
0014DF  2  85 1B                    sta L001B              ; 85 1B
0014E1  2  A5 54                    lda L0054              ; A5 54
0014E3  2  85 1C                    sta L001C              ; 85 1C
0014E5  2  A5 55                    lda L0055              ; A5 55
0014E7  2  20 92 23                 jsr L2365              ; 20 65 23
0014EA  2  A2 03                    ldx #$03               ; A2 03
0014EC  2  20 4F 13                 jsr L134F              ; 20 4F 13
0014EF  2  A5 3E                    lda L003E              ; A5 3E
0014F1  2  85 BD                    sta L00BD              ; 85 BD
0014F3  2  85 1B                    sta L001B              ; 85 1B
0014F5  2  A5 3F                    lda L003F              ; A5 3F
0014F7  2  85 BE                    sta L00BE              ; 85 BE
0014F9  2  85 1C                    sta L001C              ; 85 1C
0014FB  2  A5 2A                    lda L002A              ; A5 2A
0014FD  2  85 A0                    sta L00A0              ; 85 A0
0014FF  2  A5 40                    lda L0040              ; A5 40
001501  2  85 BF                    sta L00BF              ; 85 BF
001503  2  20 92 23                 jsr L2365              ; 20 65 23
001506  2  A2 06                    ldx #$06               ; A2 06
001508  2  20 4F 13                 jsr L134F              ; 20 4F 13
00150B  2  A5 3E                    lda L003E              ; A5 3E
00150D  2  85 1B                    sta L001B              ; 85 1B
00150F  2  85 59                    sta L0059              ; 85 59
001511  2  A5 3F                    lda L003F              ; A5 3F
001513  2  85 1C                    sta L001C              ; 85 1C
001515  2  85 5A                    sta L005A              ; 85 5A
001517  2  A5 40                    lda L0040              ; A5 40
001519  2  85 5B                    sta L005B              ; 85 5B
00151B  2  49 80                    eor #$80               ; 49 80
00151D  2  20 92 23                 jsr L2365              ; 20 65 23
001520  2  A5 40                    lda L0040              ; A5 40
001522  2  29 80                    and #$80               ; 29 80
001524  2  85 D1                    sta L00D1              ; 85 D1
001526  2  45 BF                    eor L00BF              ; 45 BF
001528  2  30 17                    bmi L1541              ; 30 17
00152A  2  A5 3D                    lda L003D              ; A5 3D
00152C  2  65 BC                    adc L00BC              ; 65 BC
00152E  2  A5 3E                    lda L003E              ; A5 3E
001530  2  65 BD                    adc L00BD              ; 65 BD
001532  2  85 56                    sta L0056              ; 85 56
001534  2  A5 3F                    lda L003F              ; A5 3F
001536  2  65 BE                    adc L00BE              ; 65 BE
001538  2  85 57                    sta L0057              ; 85 57
00153A  2  A5 40                    lda L0040              ; A5 40
00153C  2  65 BF                    adc L00BF              ; 65 BF
00153E  2  4C 74 15                 jmp L1574              ; 4C 74 15
001541  2  A5 3D        L1541:      lda L003D              ; A5 3D
001543  2  38                       sec                    ; 38
001544  2  E5 BC                    sbc L00BC              ; E5 BC
001546  2  A5 3E                    lda L003E              ; A5 3E
001548  2  E5 BD                    sbc L00BD              ; E5 BD
00154A  2  85 56                    sta L0056              ; 85 56
00154C  2  A5 3F                    lda L003F              ; A5 3F
00154E  2  E5 BE                    sbc L00BE              ; E5 BE
001550  2  85 57                    sta L0057              ; 85 57
001552  2  A5 BF                    lda L00BF              ; A5 BF
001554  2  29 7F                    and #$7F               ; 29 7F
001556  2  85 1B                    sta L001B              ; 85 1B
001558  2  A5 40                    lda L0040              ; A5 40
00155A  2  29 7F                    and #$7F               ; 29 7F
00155C  2  E5 1B                    sbc L001B              ; E5 1B
00155E  2  85 1B                    sta L001B              ; 85 1B
001560  2  B0 12                    bcs L1574              ; B0 12
001562  2  A9 01                    lda #$01               ; A9 01
001564  2  E5 56                    sbc L0056              ; E5 56
001566  2  85 56                    sta L0056              ; 85 56
001568  2  A9 00                    lda #$00               ; A9 00
00156A  2  E5 57                    sbc L0057              ; E5 57
00156C  2  85 57                    sta L0057              ; 85 57
00156E  2  A9 00                    lda #$00               ; A9 00
001570  2  E5 1B                    sbc L001B              ; E5 1B
001572  2  09 80                    ora #$80               ; 09 80
001574  2  45 D1        L1574:      eor L00D1              ; 45 D1
001576  2  85 58                    sta L0058              ; 85 58
001578  2  A5 AE                    lda L00AE              ; A5 AE
00157A  2  85 A0                    sta L00A0              ; 85 A0
00157C  2  A5 56                    lda L0056              ; A5 56
00157E  2  85 1B                    sta L001B              ; 85 1B
001580  2  A5 57                    lda L0057              ; A5 57
001582  2  85 1C                    sta L001C              ; 85 1C
001584  2  A5 58                    lda L0058              ; A5 58
001586  2  20 92 23                 jsr L2365              ; 20 65 23
001589  2  A2 00                    ldx #$00               ; A2 00
00158B  2  20 4F 13                 jsr L134F              ; 20 4F 13
00158E  2  A5 3E                    lda L003E              ; A5 3E
001590  2  85 53                    sta L0053              ; Galaxy data
001592  2  A5 3F                    lda L003F              ; A5 3F
001594  2  85 54                    sta L0054              ; 85 54
001596  2  A5 40                    lda L0040              ; A5 40
001598  2  85 55                    sta L0055              ; 85 55
00159A  2  4C 76 12                 jmp L1276              ; 4C 76 12
00159D  2               
00159D  2               ;------------------------------------------------
00159D  2               ; Commander data
00159D  2               ; Start ELITEB.TXT
00159D  2               ;------------------------------------------------
00159D  2               
00159D  2  4A 41 4D 45  L159D:      .byte "JAMESON"
0015A1  2  53 4F 4E     
0015A4  2  0D           L15A4:      .byte $0D
0015A5  2               
0015A5  2  00           L15A5:      .byte $00
0015A6  2  14 AD 4A 5A              .byte $14,$AD,$4A,$5A,$48,$02,$53
0015AA  2  48 02 53     
0015AD  2  B7 00 00 03              .byte $B7,$00,$00,$03,$E8,$46,$00,$00
0015B1  2  E8 46 00 00  
0015B5  2  0F 00 00 00              .byte $0F,$00,$00,$00,$00,$00,$16,$00
0015B9  2  00 00 16 00  
0015BD  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0015C1  2  00 00 00 00  
0015C5  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0015C9  2  00 00 00 00  
0015CD  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0015D1  2  00 00 00 00  
0015D5  2  00 00 00 03              .byte $00,$00,$00,$03,$00,$10,$0F,$11
0015D9  2  00 10 0F 11  
0015DD  2  00 03 1C 0E              .byte $00,$03,$1C,$0E,$00,$00,$0A,$00
0015E1  2  00 00 0A 00  
0015E5  2  11 3A 07 09              .byte $11,$3A,$07,$09,$08,$00,$00,$00
0015E9  2  08 00 00 00  
0015ED  2  00 80                    .byte $00,$80
0015EF  2               
0015EF  2  AA           L15EF:      .byte $AA
0015F0  2  03           L15F0:      .byte $03		; Checksum data
0015F1  2               
0015F1  2               ;------------------------------------------------
0015F1  2               ; Galaxy
0015F1  2               ;------------------------------------------------
0015F1  2               
0015F1  2               L15F1:
0015F1  2  00 09 24 09              .word L0900+0*36,L0900+1*36,L0900+2*36,L0900+3*36,L0900+4*36,L0900+5*36
0015F5  2  48 09 6C 09  
0015F9  2  90 09 B4 09  
0015FD  2  D8 09 FC 09              .word L0900+6*36,L0900+7*36,L0900+8*36,L0900+9*36,L0900+10*36,L0900+11*36
001601  2  20 0A 44 0A  
001605  2  68 0A 8C 0A  
001609  2  B0 0A                    .word L0900+12*36
00160B  2               
00160B  2               ;------------------------------------------------
00160B  2               ; Pixeldata mask line
00160B  2               ;------------------------------------------------
00160B  2               
00160B  2  80 40 20 10  L160B:      .byte $80,$40,$20,$10,$08,$04,$02,$01
00160F  2  08 04 02 01  
001613  2               
001613  2               ;------------------------------------------------
001613  2               
001613  2  80 40        L1613:      .byte $80,$40
001615  2               
001615  2               ;------------------------------------------------
001615  2               ; Pixeldata gyro pointer
001615  2               ;------------------------------------------------
001615  2               
001615  2  C0 30 0C 03  L1615:      .byte $C0,$30,$0C,$03
001619  2               
001619  2               ;------------------------------------------------
001619  2               ; Pixeldata mask circle
001619  2               ;------------------------------------------------
001619  2               
001619  2  C0 C0 60 30  L1619:      .byte $C0,$C0,$60,$30,$18,$0C,$06,$03
00161D  2  18 0C 06 03  
001621  2               
001621  2               ;------------------------------------------------
001621  2               ; General line plot routine
001621  2               ;
001621  2               ;  L001B = dx
001621  2               ;  L00A0 = dy
001621  2               ;
001621  2               ;  L0031 = X1
001621  2               ;  L0032 = Y1
001621  2               ;  L0033 = X2
001621  2               ;  L0034 = Y2
001621  2               ;
001621  2               ;  L00A1 = Pixel data
001621  2               ;  L00B1 = Swap
001621  2               ;------------------------------------------------
001621  2               
001621  2               maskbyte:
001621  2  00           	.byte 0
001622  2               wipebyte:
001622  2  00           	.byte 0
001623  2               
001623  2  84 A4        L1621:      sty L00A4              ; YSAV
001625  2               
001625  2  A9 80                    lda #$80               ; Set vars
001627  2  85 A2                    sta L00A2
001629  2  85 07                    sta L0007
00162B  2               
00162B  2  0A                       asl A                  ; Swap=0
00162C  2  85 B1                    sta L00B1
00162E  2               
00162E  2  A5 33                    lda L0033              ; Calculate dx
001630  2  E5 31                    sbc L0031              ; x1
001632  2  B0 04                    bcs L1636              ; If x2<x1, invert dx
001634  2               
001634  2  49 FF                    eor #$FF               ; Negative
001636  2  69 01                    adc #$01
001638  2  85 1B        L1636:      sta L001B              ; Store dx
00163A  2               
00163A  2  38                       sec                    ; Calculate dy
00163B  2  A5 34                    lda L0034
00163D  2  E5 32                    sbc L0032
00163F  2  B0 04                    bcs L1643              ; If y2<y1, invert dy
001641  2               
001641  2  49 FF                    eor #$FF               ; Negative
001643  2  69 01                    adc #$01
001645  2  85 A0        L1643:      sta L00A0              ; Store dy
001647  2               
001647  2  C5 1B                    cmp L001B              ; Check if dx<dy
001649  2  90 03                    bcc L164C              ; Plot line dx>dy
00164B  2  4C 14 17                 jmp L1722              ; Plot line dx<=dy
00164E  2               
00164E  2               ;--------------------------------------------
00164E  2               ; Plot line dx>dy (Horizontal)
00164E  2               ;--------------------------------------------
00164E  2               
00164E  2  A6 31        L164C:      ldx L0031              ; Check if x1<x2
001650  2  E4 33                    cpx L0033
001652  2  90 11                    bcc L1663              ; Jump if x1<x2
001654  2               
001654  2  C6 B1                    dec L00B1              ; Swap=-1
001656  2               
001656  2  A5 33                    lda L0033              ; Switch x1<>x2, y1<>y2
001658  2  85 31                    sta L0031
00165A  2  86 33                    stx L0033
00165C  2  AA                       tax
00165D  2  A5 34                    lda L0034
00165F  2  A4 32                    ldy L0032
001661  2  85 32                    sta L0032
001663  2  84 34                    sty L0034
001665  2               
001665  2  A5 32        L1663:      lda L0032              ; Convert x,y -> screenaddress
001667  2  4A                       lsr A
001668  2  4A                       lsr A
001669  2  4A                       lsr A
00166A  2  18           	clc
00166B  2  69 80        	adc #>$8000
00166D  2  85 08                    sta L0008
00166F  2  A5 32        	lda L0032
001671  2  29 07        	and #$07
001673  2  A8           	tay
001674  2               
001674  2               ;            lsr A
001674  2               ;            ror L0007
001674  2               ;            lsr A
001674  2               ;            ror L0007
001674  2               ;            adc L0008
001674  2               ;            adc #$58               ; Add hb-screenaddress
001674  2               ;            sta L0008
001674  2               ;
001674  2               ;            txa
001674  2               ;            and #$F8
001674  2               ;            adc L0007
001674  2               ;            sta L0007
001674  2               ;            bcc L1681
001674  2               ;            inc L0008
001674  2               
001674  2  8A           	txa
001675  2  4A           	lsr a
001676  2  4A           	lsr a
001677  2  4A           	lsr a
001678  2  85 07        	sta L0007
00167A  2               L1681:
00167A  2               ;            lda L0032              ; Get line ptr
00167A  2               ;            and #$07
00167A  2               ;            tay
00167A  2               
00167A  2  8A                       txa                    ; Get pixel ptr
00167B  2  29 07                    and #$07
00167D  2  AA                       tax
00167E  2               
00167E  2  BD 0B 16                 lda L160B,X            ; Get pixelmask
001681  2  85 A1                    sta L00A1              ; Pixeldata
001683  2               
001683  2  A5 A0                    lda L00A0              ; A5 A0
001685  2  A2 FE                    ldx #$FE               ; A2 FE
001687  2  86 A0                    stx L00A0              ; 86 A0
001689  2  0A           L1695:      asl A                  ; 0A
00168A  2  B0 04                    bcs L169C              ; B0 04
00168C  2  C5 1B                    cmp L001B              ; C5 1B
00168E  2  90 03                    bcc L169F              ; 90 03
001690  2  E5 1B        L169C:      sbc L001B              ; E5 1B
001692  2  38                       sec                    ; 38
001693  2  26 A0        L169F:      rol L00A0              ; 26 A0
001695  2  B0 F2                    bcs L1695              ; B0 F2
001697  2  A6 1B                    ldx L001B              ; A6 1B
001699  2  E8                       inx                    ; E8
00169A  2               
00169A  2  A5 34                    lda L0034              ; Get y2
00169C  2  E5 32                    sbc L0032              ; Check if y2>y1
00169E  2  B0 39                    bcs L16E6              ; If y2>y1 jump
0016A0  2               
0016A0  2  A5 B1                    lda L00B1              ; Get Swap
0016A2  2  D0 18                    bne L16B7              ; If <>0 jump
0016A4  2  CA                       dex
0016A5  2               L16B1:
0016A5  2               
0016A5  2  A5 08        	lda L0008
0016A7  2  CD 21 16     	cmp maskbyte		; MAKE VAR!!!
0016AA  2  B0 10        	bcs L16B7
0016AC  2               
0016AC  2  8C E3 17     	sty tmp_y
0016AF  2  B9 DB 17     	lda rowbyte,y
0016B2  2  A8           	tay
0016B3  2  A5 A1                    lda L00A1              ; Get pixel mask
0016B5  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
0016B7  2  91 07                    sta (L0007),Y
0016B9  2  AC E3 17     	ldy tmp_y
0016BC  2               
0016BC  2  46 A1        L16B7:      lsr L00A1              ; Shift pixelmask
0016BE  2  90 04                    bcc L16C7              ; Check overflow
0016C0  2  66 A1                    ror L00A1              ; Reset pixel mask
0016C2  2               
0016C2  2               ;            lda L0007              ; Select 1 byte to the right
0016C2  2               ;            adc #$08
0016C2  2               ;            sta L0007
0016C2  2               ;            bcc L16C7
0016C2  2               ;            inc L0008
0016C2  2               
0016C2  2  E6 07        	inc L0007
0016C4  2               
0016C4  2  A5 A2        L16C7:      lda L00A2              ; ??
0016C6  2  65 A0                    adc L00A0
0016C8  2  85 A2                    sta L00A2
0016CA  2  90 07                    bcc L16E0
0016CC  2               
0016CC  2  88                       dey                    ; Select 1 line up
0016CD  2  10 04                    bpl L16E0              ; If no top line cross, skip
0016CF  2               
0016CF  2               ;            lda L0007              ; Top line cross
0016CF  2               ;            sbc #$40
0016CF  2               ;            sta L0007
0016CF  2               ;            lda L0008
0016CF  2               ;            sbc #$01
0016CF  2               ;            sta L0008
0016CF  2  C6 08        	dec L0008
0016D1  2  A0 07                    ldy #$07
0016D3  2               
0016D3  2  CA           L16E0:      dex                    ; Next pixel
0016D4  2  D0 CF                    bne L16B1              ; If not last pixel repeat
0016D6  2               
0016D6  2  A4 A4                    ldy L00A4              ; YSAV
0016D8  2  60                       rts
0016D9  2               
0016D9  2               ;----------------------------------------------
0016D9  2               
0016D9  2  A5 B1        L16E6:      lda L00B1              ; Get Swap
0016DB  2  F0 18                    beq L16F1
0016DD  2  CA                       dex
0016DE  2               L16EB:
0016DE  2  A5 08        	lda L0008
0016E0  2  CD 21 16     	cmp maskbyte		; MAKE VAR!!!
0016E3  2  B0 10        	bcs L16F1
0016E5  2               
0016E5  2  8C E3 17     	sty tmp_y
0016E8  2  B9 DB 17     	lda rowbyte,y
0016EB  2  A8           	tay
0016EC  2  A5 A1                    lda L00A1              ; Get pixel mask
0016EE  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
0016F0  2  91 07                    sta (L0007),Y
0016F2  2  AC E3 17     	ldy tmp_y
0016F5  2               
0016F5  2  46 A1        L16F1:      lsr L00A1              ; Shift pixelmask
0016F7  2  90 04                    bcc L1701              ; Check overflow
0016F9  2  66 A1                    ror L00A1              ; Reset pixel mask
0016FB  2               
0016FB  2               ;            lda L0007              ; Select 1 byte to the right
0016FB  2               ;            adc #$08
0016FB  2               ;            sta L0007
0016FB  2               ;            bcc L1701
0016FB  2               ;            inc L0008
0016FB  2  E6 07        	inc L0007
0016FD  2               
0016FD  2  A5 A2        L1701:      lda L00A2              ; ??
0016FF  2  65 A0                    adc L00A0
001701  2  85 A2                    sta L00A2
001703  2  90 09                    bcc L171C
001705  2               
001705  2  C8                       iny                    ; Select 1 line below
001706  2  C0 08                    cpy #$08               ; Check bottom line cross
001708  2  D0 04                    bne L171C              ; If not, skip
00170A  2               
00170A  2               ;            lda L0007              ; Bottom border cross
00170A  2               ;            adc #$3F
00170A  2               ;            sta L0007
00170A  2               ;            lda L0008
00170A  2               ;            adc #$01
00170A  2               ;            sta L0008
00170A  2  E6 08        	inc L0008
00170C  2  A0 00                    ldy #$00
00170E  2               
00170E  2  CA           L171C:      dex                    ; Next pixel
00170F  2  D0 CD                    bne L16EB              ; If not last pixel repeat
001711  2               
001711  2  A4 A4                    ldy L00A4              ; YSAV
001713  2  60                       rts
001714  2               
001714  2               ;--------------------------------------------
001714  2               ; Plot line dx<dy vertical
001714  2               ;--------------------------------------------
001714  2               
001714  2  A4 32        L1722:      ldy L0032              ; Check if y1>y2
001716  2  98                       tya
001717  2  A6 31                    ldx L0031
001719  2  C4 34                    cpy L0034
00171B  2  B0 10                    bcs L173B              ; Jump if y1>y2
00171D  2               
00171D  2  C6 B1                    dec L00B1              ; Swap=-1
00171F  2               
00171F  2  A5 33                    lda L0033              ; Switch x1<>x2, y1<>y2
001721  2  85 31                    sta L0031
001723  2  86 33                    stx L0033
001725  2  AA                       tax
001726  2  A5 34                    lda L0034
001728  2  85 32                    sta L0032
00172A  2  84 34                    sty L0034
00172C  2  A8                       tay
00172D  2               
00172D  2  4A           L173B:      lsr A                  ; Convert x,y -> screenaddress
00172E  2  4A                       lsr A
00172F  2  4A                       lsr A
001730  2  18           	clc
001731  2  69 80        	adc #>$8000
001733  2  85 08                    sta L0008
001735  2               ;            lsr A
001735  2               ;            ror L0007
001735  2               ;            lsr A
001735  2               ;            ror L0007
001735  2               ;            adc L0008
001735  2               ;            adc #$58               ; Add hb-screenaddress
001735  2               ;            sta L0008
001735  2  8A                       txa
001736  2               ;            and #$F8
001736  2               ;            adc L0007
001736  2               ;            sta L0007
001736  2               ;            bcc L1757
001736  2               ;            inc L0008
001736  2  4A           	lsr a
001737  2  4A           	lsr a
001738  2  4A           	lsr a
001739  2  85 07        	sta L0007
00173B  2               L1757:
00173B  2               ;            lda L0032              ; Get line ptr
00173B  2               ;            and #$07
00173B  2               ;            tay
00173B  2               
00173B  2  8A                       txa                    ; Get pixel ptr
00173C  2  29 07                    and #$07
00173E  2  AA                       tax
00173F  2               
00173F  2  BD 0B 16                 lda L160B,X            ; Get pixelmask
001742  2  85 A1                    sta L00A1              ; Pixeldata
001744  2               
001744  2  A5 32        	lda L0032
001746  2  29 07        	and #$07
001748  2  A8           	tay
001749  2               
001749  2  A5 1B                    lda L001B              ; A5 1B
00174B  2  A2 01                    ldx #$01               ; A2 01
00174D  2  86 1B                    stx L001B              ; 86 1B
00174F  2  0A           L176B:      asl A                  ; 0A
001750  2  B0 04                    bcs L1772              ; B0 04
001752  2  C5 A0                    cmp L00A0              ; C5 A0
001754  2  90 03                    bcc L1775              ; 90 03
001756  2  E5 A0        L1772:      sbc L00A0              ; E5 A0
001758  2  38                       sec                    ; 38
001759  2  26 1B        L1775:      rol L001B              ; 26 1B
00175B  2  90 F2                    bcc L176B              ; 90 F2
00175D  2  A6 A0                    ldx L00A0              ; A6 A0
00175F  2  E8                       inx                    ; E8
001760  2               
001760  2  A5 33                    lda L0033              ; Get x2
001762  2  E5 31                    sbc L0031              ; Check if x2<x1
001764  2  90 3B                    bcc L17BE              ; If x2<x1 jump
001766  2               
001766  2  18                       clc
001767  2  A5 B1                    lda L00B1              ; Get Swap
001769  2  F0 18                    beq L178E              ; If =0 jump
00176B  2               
00176B  2  CA                       dex                    ; Next pixel
00176C  2               L1788:
00176C  2  A5 08        	lda L0008
00176E  2  CD 21 16     	cmp maskbyte		; MAKE VAR!!!
001771  2  B0 10        	bcs L178E
001773  2               
001773  2  8C E3 17     	sty tmp_y
001776  2  B9 DB 17     	lda rowbyte,y
001779  2  A8           	tay
00177A  2  A5 A1                    lda L00A1              ; Get pixel mask
00177C  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
00177E  2  91 07                    sta (L0007),Y
001780  2  AC E3 17     	ldy tmp_y
001783  2               
001783  2  88           L178E:      dey                    ; Select 1 line up
001784  2  10 04                    bpl L179F              ; If no top line cross, skip
001786  2               
001786  2               ;            lda L0007              ; Select byte left/up
001786  2               ;            sbc #$3F
001786  2               ;            sta L0007
001786  2               ;            lda L0008
001786  2               ;            sbc #$01
001786  2               ;            sta L0008
001786  2  C6 08        	dec L0008
001788  2  A0 07                    ldy #$07
00178A  2               
00178A  2  A5 A2        L179F:      lda L00A2              ; ??
00178C  2  65 1B                    adc L001B              ; 65 1B
00178E  2  85 A2                    sta L00A2              ; 85 A2
001790  2  90 09                    bcc L17B8              ; 90 11
001792  2               
001792  2  46 A1                    lsr L00A1              ; Shift pixelmask
001794  2  90 05                    bcc L17B8              ; Check overflow
001796  2  66 A1                    ror L00A1              ; Reset pixel mask
001798  2               
001798  2               ;            lda L0007              ; Select 1 byte to the right
001798  2               ;            adc #$08
001798  2               ;            sta L0007
001798  2               ;            bcc L17B8
001798  2               ;            inc L0008
001798  2  E6 07        	inc L0007
00179A  2               
00179A  2  18                       clc
00179B  2               
00179B  2  CA           L17B8:      dex                    ; Next pixel
00179C  2  D0 CE                    bne L1788              ; If not last pixel, repeat
00179E  2               
00179E  2  A4 A4                    ldy L00A4              ; YSAV
0017A0  2  60                       rts
0017A1  2               
0017A1  2               ;--------------------------------------------
0017A1  2               
0017A1  2  A5 B1        L17BE:      lda L00B1              ; Get Swap
0017A3  2  F0 18                    beq L17C9              ; if =0, jump
0017A5  2               
0017A5  2  CA                       dex                    ; Next pixel
0017A6  2               L17C3:
0017A6  2  A5 08        	lda L0008
0017A8  2  CD 21 16     	cmp maskbyte		; MAKE VAR!!!
0017AB  2  B0 10        	bcs L17C9
0017AD  2               
0017AD  2  8C E3 17     	sty tmp_y
0017B0  2  B9 DB 17     	lda rowbyte,y
0017B3  2  A8           	tay
0017B4  2  A5 A1                    lda L00A1              ; Get pixelmask
0017B6  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
0017B8  2  91 07                    sta (L0007),Y
0017BA  2  AC E3 17     	ldy tmp_y
0017BD  2               
0017BD  2  88           L17C9:      dey                    ; Select 1 line up
0017BE  2  10 04                    bpl L17DA              ; If no top line cross, skip
0017C0  2  C6 08        	dec L0008
0017C2  2               ;            lda L0007              ; Select 1 byte left/up
0017C2  2               ;            sbc #$3F
0017C2  2               ;            sta L0007
0017C2  2               ;            lda L0008
0017C2  2               ;            sbc #$01
0017C2  2               ;            sta L0008
0017C2  2  A0 07                    ldy #$07
0017C4  2               
0017C4  2  A5 A2        L17DA:      lda L00A2              ; ??
0017C6  2  65 1B                    adc L001B
0017C8  2  85 A2                    sta L00A2
0017CA  2  90 09                    bcc L17F3
0017CC  2               
0017CC  2  06 A1                    asl L00A1              ; Shift pixelmask
0017CE  2  90 05                    bcc L17F3              ; Check overflow
0017D0  2  26 A1                    rol L00A1              ; Reset pixelmask
0017D2  2               
0017D2  2               ;            lda L0007              ; Select 1 byte to the left
0017D2  2               ;            sbc #$07
0017D2  2               ;            sta L0007
0017D2  2               ;            bcs L17F2
0017D2  2               ;            dec L0008
0017D2  2  C6 07        	dec L0007
0017D4  2               
0017D4  2  18           L17F2:      clc
0017D5  2               
0017D5  2  CA           L17F3:      dex                    ; Next pixel
0017D6  2  D0 CE                    bne L17C3              ; If not last pixel, repeat
0017D8  2               
0017D8  2  A4 A4                    ldy L00A4              ; YSAV
0017DA  2  60                       rts
0017DB  2               
0017DB  2               rowbyte:
0017DB  2  00 20 40 60  	.byte $00,$20,$40,$60,$80,$a0,$c0,$e0
0017DF  2  80 A0 C0 E0  
0017E3  2               tmp_y:
0017E3  2  00           	.byte 0
0017E4  2               
0017E4  2               ;--------------------------------------------
0017E4  2               ; Flush input buffer
0017E4  2               ;--------------------------------------------
0017E4  2               
0017E4  2               L17F9:
0017E4  2               ;            lda #$0F               ; *FX 15,15
0017E4  2               ;            tax
0017E4  2               ;            jmp LFFF4              ; OSBYTE
0017E4  2               
0017E4  2               ;--------------------------------------------
0017E4  2               ; Plot header as token
0017E4  2               ; Draw line under header (2,19)-(254,19)
0017E4  2               ;
0017E4  2               ; A = Token
0017E4  2               ;--------------------------------------------
0017E4  2               
0017E4  2               L17FF:
0017E4  2  20 F1 35     	jsr L34CB		; De-token
0017E7  2               L1802:
0017E7  2  A9 10        	lda #$10		; CHAR6x8 #$13
0017E9  2  D0 02        	bne L180A		; Forced jump
0017EB  2               L1806:
0017EB  2  A9 14        	lda #$14		; Line pos beneath header CHAR6x8 #$17
0017ED  2               ;            inc L002D		; Cursor Y CHAR6x8
0017ED  2               
0017ED  2               L180A:
0017ED  2  85 32        	sta L0032		; Set y1
0017EF  2               
0017EF  2  A2 02        	ldx #$02
0017F1  2  86 31        	stx L0031		; Set x1
0017F3  2               
0017F3  2  A2 FE        	ldx #$FE
0017F5  2  86 33        	stx L0033		; Set x2
0017F7  2               L1814:
0017F7  2  A6 32        	ldx L0032		; Get y1
0017F9  2  86 34        	stx L0034		; Set y2
0017FB  2  4C 23 16     	jmp L1621		; Plot line
0017FE  2               
0017FE  2               ;--------------------------------------------
0017FE  2               ;
0017FE  2               ;--------------------------------------------
0017FE  2               
0017FE  2  20 0D 25     L181B:      jsr L24E0              ; 20 E0 24
001801  2               
001801  2  85 27                    sta L0027              ; 85 27
001803  2  8A                       txa                    ; 8A
001804  2  99 AE 0C                 sta L0CAE,Y            ; 99 AE 0C
001807  2               
001807  2               ;--------------------------------------------
001807  2               ; Pixel 2
001807  2               ;--------------------------------------------
001807  2               
001807  2               L1824:
001807  2  A5 31        	lda L0031		; Get x1
001809  2  10 05        	bpl L182D		; If x1<128, jump
00180B  2  49 7F        	eor #$7F		; Else negative
00180D  2  18           	clc
00180E  2  69 01        	adc #$01
001810  2               L182D:
001810  2  49 80        	eor #$80		; 128<=x1<=255
001812  2  AA           	tax			; AA
001813  2               
001813  2  A5 32        	lda L0032		; Get y1
001815  2  29 7F        	and #$7F		; 0<=y1<=127
001817  2               
001817  2               ;	cmp #$60
001817  2  C9 43        	cmp #$43		; CHAR8x6
001819  2  B0 5C        	bcs L1892		; If y1>=96, jump
00181B  2               
00181B  2  A5 32        	lda L0032		; Get y1
00181D  2               ;	cmp #$73		; CHAR8x6
00181D  2  10 04        	bpl L1840		; If y1<128, jump
00181F  2  49 7F        	eor #$7F		; Else negative
001821  2  69 01        	adc #$01
001823  2               L1840:
001823  2  85 D1        	sta L00D1              ; 85 D1
001825  2               ;	lda #$61               ; A9 61
001825  2  A9 44        	lda #$44               ; A9 61
001827  2  E5 D1        	sbc L00D1              ; E5 D1
001829  2               
001829  2               ;--------------------------------------------
001829  2               ; Pixel
001829  2               ;
001829  2               ; X=x, A=y
001829  2               ;--------------------------------------------
001829  2               
001829  2               L1846:
001829  2  84 06                    sty L0006              ; Store Y
00182B  2               
00182B  2  48           	pha			; Save Y-coord
00182C  2               
00182C  2  4A           	lsr a			; Calculate hb-screen
00182D  2  4A           	lsr a			; hb=$80+Y/8
00182E  2  4A           	lsr a
00182F  2  18           	clc
001830  2  69 80        	adc #>$8000
001832  2  85 08        	sta L0008
001834  2               
001834  2  68           	pla			; Y=line pointer
001835  2  29 07        	and #$07
001837  2  A8           	tay
001838  2               
001838  2  8A           	txa			; Calculate lb-screen
001839  2  4A           	lsr a			; lb=X/8
00183A  2  4A           	lsr a
00183B  2  4A           	lsr a
00183C  2  85 07        	sta L0007
00183E  2               L1869:
00183E  2  8A           	txa                    ; Set pixel mask ptr
00183F  2  29 07        	and #$07
001841  2  AA           	tax
001842  2               
001842  2  A5 A7        	lda L00A7
001844  2  C9 90        	cmp #$90
001846  2  B0 1C        	bcs L1889
001848  2               
001848  2  8C E3 17     	sty tmp_y
00184B  2  B9 DB 17     	lda rowbyte,y
00184E  2  A8           	tay
00184F  2  BD 19 16     	lda L1619,X		; Get pixel mask
001852  2  51 07        	eor (L0007),Y		; Plot pixel on screen
001854  2  91 07        	sta (L0007),Y
001856  2  AC E3 17     	ldy tmp_y
001859  2               
001859  2  A5 A7        	lda L00A7
00185B  2  C9 50        	cmp #$50
00185D  2  B0 16        	bcs L1890
00185F  2               
00185F  2  88           	dey			; Point to 1 line up
001860  2  10 02        	bpl L1889		; If no page boundry, skip
001862  2               
001862  2  A0 01        	ldy #$01		; Reset line ptr
001864  2               L1889:
001864  2  8C E3 17     	sty tmp_y
001867  2  B9 DB 17     	lda rowbyte,y
00186A  2  A8           	tay
00186B  2  BD 19 16     	lda L1619,X		; Get pixel mask
00186E  2  51 07        	eor (L0007),Y		; Plot pixel on screen
001870  2  91 07        	sta (L0007),Y
001872  2  AC E3 17     	ldy tmp_y
001875  2               L1890:
001875  2  A4 06        	ldy L0006		; A4 06
001877  2               L1892:
001877  2  60           	rts
001878  2               
001878  2               ;--------------------------------------------
001878  2               ; BLINE
001878  2               ;--------------------------------------------
001878  2               
001878  2  8A           L1893:      txa                    ; 8A
001879  2  65 E0                    adc L00E0              ; 65 E0
00187B  2  85 84                    sta L0084              ; 85 84
00187D  2  A5 E1                    lda L00E1              ; A5 E1
00187F  2  65 D1                    adc L00D1              ; 65 D1
001881  2  85 85                    sta L0085              ; 85 85
001883  2               
001883  2  A5 B3                    lda L00B3              ; Flag
001885  2  F0 12                    beq L18B4              ; F0 12
001887  2  E6 B3                    inc L00B3              ; E6 B3
001889  2               
001889  2  A4 77        L18A4:      ldy L0077              ; LSP
00188B  2  A9 FF                    lda #$FF               ; A9 FF
00188D  2  D9 85 0C                 cmp L0C85,Y            ; D9 85 0C
001890  2  F0 68                    beq L1915              ; F0 68
001892  2  99 86 0C                 sta L0C86,Y            ; 99 86 0C
001895  2  E6 77                    inc L0077              ; E6 77
001897  2  D0 61                    bne L1915              ; D0 61
001899  2               
001899  2  A5 7E        L18B4:      lda L007E              ; VDU stat
00189B  2  85 31                    sta L0031              ; Set x1
00189D  2  A5 7F                    lda L007F              ; A5 7F
00189F  2  85 32                    sta L0032              ; Set y1
0018A1  2  A5 80                    lda L0080              ; A5 80
0018A3  2  85 33                    sta L0033              ; 85 33
0018A5  2  A5 81                    lda L0081              ; A5 81
0018A7  2  85 34                    sta L0034              ; 85 34
0018A9  2  A5 82                    lda L0082              ; A5 82
0018AB  2  85 35                    sta L0035              ; 85 35
0018AD  2  A5 83                    lda L0083              ; A5 83
0018AF  2  85 36                    sta L0036              ; 85 36
0018B1  2  A5 84                    lda L0084              ; A5 84
0018B3  2  85 37                    sta L0037              ; 85 37
0018B5  2  A5 85                    lda L0085              ; A5 85
0018B7  2  85 38                    sta L0038              ; 85 38
0018B9  2  20 32 4F                 jsr L4DAC              ; 20 AC 4D
0018BC  2  B0 CB                    bcs L18A4              ; B0 CB
0018BE  2  A5 B1                    lda L00B1              ; A5 B1
0018C0  2  F0 10                    beq L18ED              ; F0 10
0018C2  2  A5 31                    lda L0031              ; Get x1
0018C4  2  A4 33                    ldy L0033              ; A4 33
0018C6  2  85 33                    sta L0033              ; 85 33
0018C8  2  84 31                    sty L0031              ; Set x1
0018CA  2  A5 32                    lda L0032              ; Get y1
0018CC  2  A4 34                    ldy L0034              ; A4 34
0018CE  2  85 34                    sta L0034              ; 85 34
0018D0  2  84 32                    sty L0032              ; Set y1
0018D2  2  A4 77        L18ED:      ldy L0077              ; A4 77
0018D4  2  B9 85 0C                 lda L0C85,Y            ; B9 85 0C
0018D7  2  C9 FF                    cmp #$FF               ; C9 FF
0018D9  2  D0 0B                    bne L1901              ; D0 0B
0018DB  2  A5 31                    lda L0031              ; Get x1
0018DD  2  99 5E 0C                 sta L0C5E,Y            ; 99 5E 0C
0018E0  2  A5 32                    lda L0032              ; Get y1
0018E2  2  99 86 0C                 sta L0C86,Y            ; 99 86 0C
0018E5  2  C8                       iny                    ; C8
0018E6  2               
0018E6  2  A5 33        L1901:      lda L0033              ; A5 33
0018E8  2  99 5E 0C                 sta L0C5E,Y            ; 99 5E 0C
0018EB  2  A5 34                    lda L0034              ; A5 34
0018ED  2  99 86 0C                 sta L0C86,Y            ; 99 86 0C
0018F0  2  C8                       iny                    ; C8
0018F1  2  84 77                    sty L0077              ; 84 77
0018F3  2  20 23 16                 jsr L1621              ; Plot line
0018F6  2               
0018F6  2  A5 A8                    lda L00A8              ; A5 A8
0018F8  2  D0 8F                    bne L18A4              ; D0 8F
0018FA  2  A5 82        L1915:      lda L0082              ; A5 82
0018FC  2  85 7E                    sta L007E              ; VDU stat
0018FE  2  A5 83                    lda L0083              ; A5 83
001900  2  85 7F                    sta L007F              ; 85 7F
001902  2  A5 84                    lda L0084              ; A5 84
001904  2  85 80                    sta L0080              ; 85 80
001906  2  A5 85                    lda L0085              ; A5 85
001908  2  85 81                    sta L0081              ; 85 81
00190A  2  A5 B4                    lda L00B4              ; A5 B4
00190C  2  18                       clc                    ; 18
00190D  2  65 B6                    adc L00B6              ; 65 B6
00190F  2  85 B4                    sta L00B4              ; 85 B4
001911  2  60                       rts                    ; 60
001912  2               
001912  2               ;-----------------------------------------
001912  2               ; Flip
001912  2               ;-----------------------------------------
001912  2               
001912  2  A0 0A        L192D:      ldy #$0A               ; A0 0A
001914  2  BE 62 03     L192F:      ldx L0362,Y            ; Get stars Y
001917  2  B9 4C 03                 lda L034C,Y            ; Get stars X
00191A  2  85 32                    sta L0032              ; Set y1
00191C  2  99 62 03                 sta L0362,Y            ; Set stars Y
00191F  2  8A                       txa                    ; 8A
001920  2  85 31                    sta L0031              ; Set x1
001922  2  99 4C 03                 sta L034C,Y            ; Set stars X
001925  2  B9 B9 0C                 lda L0CB9,Y            ; Get stars Z
001928  2  85 A7                    sta L00A7              ; 85 A7
00192A  2  20 07 18                 jsr L1824              ; Plot pixels
00192D  2  88                       dey                    ; 88
00192E  2  D0 E4                    bne L192F              ; D0 E4
001930  2  60                       rts                    ; 60
001931  2               
001931  2               ;-----------------------------------------
001931  2               
001931  2  AE 01 0C     L194C:      ldx L0C01              ; Current view
001934  2  F0 09                    beq L195A              ; F0 09
001936  2  CA                       dex                    ; CA
001937  2  D0 03                    bne L1957              ; D0 03
001939  2  4C 2B 1A                 jmp L1A46              ; 4C 46 1A
00193C  2  4C 6A 22     L1957:      jmp L223D              ; 4C 3D 22
00193F  2  A0 0A        L195A:      ldy #$0A               ; A0 0A
001941  2               
001941  2  20 6C 25     L195C:      jsr L253F              ; 20 3F 25
001944  2  A5 A1                    lda L00A1              ; A5 A1
001946  2  46 1B                    lsr L001B              ; 46 1B
001948  2  6A                       ror A                  ; 6A
001949  2  46 1B                    lsr L001B              ; 46 1B
00194B  2  6A                       ror A                  ; 6A
00194C  2  09 01                    ora #$01               ; 09 01
00194E  2  85 A0                    sta L00A0              ; 85 A0
001950  2  B9 C4 0C                 lda L0CC4,Y            ; B9 C4 0C
001953  2  E5 8D                    sbc L008D              ; E5 8D
001955  2  99 C4 0C                 sta L0CC4,Y            ; 99 C4 0C
001958  2  B9 B9 0C                 lda L0CB9,Y            ; Get stars Z
00195B  2  85 A7                    sta L00A7              ; 85 A7
00195D  2  E5 8E                    sbc L008E              ; E5 8E
00195F  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
001962  2  20 27 24                 jsr L23FA              ; 20 FA 23
001965  2  85 27                    sta L0027              ; 85 27
001967  2               
001967  2  A5 1B                    lda L001B              ; A5 1B
001969  2  79 AE 0C                 adc L0CAE,Y            ; 79 AE 0C
00196C  2  85 26                    sta L0026              ; 85 26
00196E  2  85 A1                    sta L00A1              ; 85 A1
001970  2  A5 32                    lda L0032              ; Get y1
001972  2  65 27                    adc L0027              ; 65 27
001974  2  85 27                    sta L0027              ; 85 27
001976  2  85 A2                    sta L00A2              ; 85 A2
001978  2  B9 4C 03                 lda L034C,Y            ; Set stars X
00197B  2  85 31                    sta L0031              ; Set x1
00197D  2  20 2C 24                 jsr L23FF              ; 20 FF 23
001980  2               
001980  2  85 25                    sta L0025              ; 85 25
001982  2  A5 1B                    lda L001B              ; A5 1B
001984  2  79 57 03                 adc L0357,Y            ; 79 57 03
001987  2  85 24                    sta L0024              ; 85 24
001989  2  A5 31                    lda L0031              ; Get x1
00198B  2  65 25                    adc L0025              ; 65 25
00198D  2  85 25                    sta L0025              ; 85 25
00198F  2  45 89                    eor L0089              ; 45 89
001991  2  20 D6 23                 jsr L23A9              ; 20 A9 23
001994  2  20 0D 25                 jsr L24E0              ; 20 E0 24
001997  2  85 27                    sta L0027              ; 85 27
001999  2  86 26                    stx L0026              ; 86 26
00199B  2  45 88                    eor L0088              ; 45 88
00199D  2  20 CE 23                 jsr L23A1              ; 20 A1 23
0019A0  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0019A3  2  85 25                    sta L0025              ; 85 25
0019A5  2  86 24                    stx L0024              ; 86 24
0019A7  2  A6 2B                    ldx L002B              ; A6 2B
0019A9  2  A5 27                    lda L0027              ; A5 27
0019AB  2  45 8B                    eor L008B              ; 45 8B
0019AD  2  20 D8 23                 jsr L23AB              ; 20 AB 23
0019B0  2  85 A0                    sta L00A0              ; 85 A0
0019B2  2  20 AE 24                 jsr L2481              ; 20 81 24
0019B5  2  06 1B                    asl L001B              ; 06 1B
0019B7  2  2A                       rol A                  ; 2A
0019B8  2  85 D1                    sta L00D1              ; 85 D1
0019BA  2  A9 00                    lda #$00               ; A9 00
0019BC  2  6A                       ror A                  ; 6A
0019BD  2  05 D1                    ora L00D1              ; 05 D1
0019BF  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0019C2  2  85 25                    sta L0025              ; 85 25
0019C4  2  8A                       txa                    ; 8A
0019C5  2  99 57 03                 sta L0357,Y            ; 99 57 03
0019C8  2  A5 26                    lda L0026              ; A5 26
0019CA  2  85 A1                    sta L00A1              ; 85 A1
0019CC  2  A5 27                    lda L0027              ; A5 27
0019CE  2  85 A2                    sta L00A2              ; 85 A2
0019D0  2  A9 00                    lda #$00               ; A9 00
0019D2  2  85 1B                    sta L001B              ; 85 1B
0019D4  2  A5 2A                    lda L002A              ; A5 2A
0019D6  2  49 80                    eor #$80               ; 49 80
0019D8  2  20 FE 17                 jsr L181B              ; 20 1B 18
0019DB  2  A5 25                    lda L0025              ; A5 25
0019DD  2  85 31                    sta L0031              ; Set x1
0019DF  2  99 4C 03                 sta L034C,Y            ; Set stars X
0019E2  2  29 7F                    and #$7F               ; 29 7F
0019E4  2  C9 78                    cmp #$78               ; C9 78
0019E6  2  B0 20                    bcs L1A23              ; B0 20
0019E8  2  A5 27                    lda L0027              ; A5 27
0019EA  2  99 62 03                 sta L0362,Y            ; Set stars Y
0019ED  2  85 32                    sta L0032              ; Set y1
0019EF  2  29 7F                    and #$7F               ; 29 7F
0019F1  2  C9 78                    cmp #$78               ; C9 78
0019F3  2  B0 13                    bcs L1A23              ; B0 13
0019F5  2  B9 B9 0C                 lda L0CB9,Y            ; Get stars Z
0019F8  2  C9 10                    cmp #$10               ; C9 10
0019FA  2  90 0C                    bcc L1A23              ; 90 0C
0019FC  2  85 A7                    sta L00A7              ; 85 A7
0019FE  2               
0019FE  2  20 07 18     L1A19:      jsr L1824              ; Plot pixels
001A01  2  88                       dey
001A02  2  F0 03                    beq L1A22
001A04  2  4C 41 19                 jmp L195C              ; 4C 5C 19
001A07  2               
001A07  2  60           L1A22:      rts
001A08  2               
001A08  2               ;--------------------------------------------
001A08  2               ; Kill
001A08  2               ;--------------------------------------------
001A08  2               
001A08  2               L1A23:
001A08  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001A0B  2  09 04                    ora #$04
001A0D  2  85 32                    sta L0032              ; Set y1
001A0F  2  99 62 03                 sta L0362,Y            ; Set stars Y
001A12  2               
001A12  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001A15  2  09 08                    ora #$08
001A17  2  85 31                    sta L0031              ; Set x1
001A19  2  99 4C 03                 sta L034C,Y            ; Set stars X
001A1C  2               
001A1C  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001A1F  2  09 90                    ora #$90
001A21  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
001A24  2  85 A7                    sta L00A7
001A26  2  A5 32                    lda L0032              ; Get y1
001A28  2  4C FE 19                 jmp L1A19              ; Plot pixels
001A2B  2               
001A2B  2               ;--------------------------------------------
001A2B  2               ; Plot 10 stars
001A2B  2               ;--------------------------------------------
001A2B  2               
001A2B  2  A0 0A        L1A46:      ldy #$0A               ; Set counter
001A2D  2               
001A2D  2  20 6C 25     L1A48:      jsr L253F              ; 20 3F 25
001A30  2               
001A30  2  A5 A1                    lda L00A1              ; A5 A1
001A32  2  46 1B                    lsr L001B              ; 46 1B
001A34  2  6A                       ror A                  ; 6A
001A35  2  46 1B                    lsr L001B              ; 46 1B
001A37  2  6A                       ror A                  ; 6A
001A38  2  09 01                    ora #$01               ; 09 01
001A3A  2  85 A0                    sta L00A0              ; 85 A0
001A3C  2  B9 4C 03                 lda L034C,Y            ; Set stars X
001A3F  2  85 31                    sta L0031              ; Set x1
001A41  2               
001A41  2  20 2C 24                 jsr L23FF              ; 20 FF 23
001A44  2  85 25                    sta L0025              ; 85 25
001A46  2  B9 57 03                 lda L0357,Y            ; B9 57 03
001A49  2  E5 1B                    sbc L001B              ; E5 1B
001A4B  2  85 24                    sta L0024              ; 85 24
001A4D  2               
001A4D  2  A5 31                    lda L0031              ; Get x1
001A4F  2  E5 25                    sbc L0025              ; E5 25
001A51  2  85 25                    sta L0025              ; 85 25
001A53  2  20 27 24                 jsr L23FA              ; 20 FA 23
001A56  2  85 27                    sta L0027              ; 85 27
001A58  2               
001A58  2  B9 AE 0C                 lda L0CAE,Y            ; B9 AE 0C
001A5B  2  E5 1B                    sbc L001B              ; E5 1B
001A5D  2  85 26                    sta L0026              ; 85 26
001A5F  2  85 A1                    sta L00A1              ; 85 A1
001A61  2               
001A61  2  A5 32                    lda L0032              ; Get y1
001A63  2  E5 27                    sbc L0027              ; E5 27
001A65  2  85 27                    sta L0027              ; 85 27
001A67  2  85 A2                    sta L00A2              ; 85 A2
001A69  2               
001A69  2  B9 C4 0C                 lda L0CC4,Y            ; B9 C4 0C
001A6C  2  65 8D                    adc L008D              ; 65 8D
001A6E  2  99 C4 0C                 sta L0CC4,Y            ; 99 C4 0C
001A71  2               
001A71  2  B9 B9 0C                 lda L0CB9,Y            ; Get stars Z
001A74  2  85 A7                    sta L00A7              ; 85 A7
001A76  2  65 8E                    adc L008E              ; 65 8E
001A78  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
001A7B  2               
001A7B  2  A5 25                    lda L0025              ; A5 25
001A7D  2  45 88                    eor L0088              ; 45 88
001A7F  2  20 D6 23                 jsr L23A9              ; 20 A9 23
001A82  2  20 0D 25                 jsr L24E0              ; 20 E0 24
001A85  2  85 27                    sta L0027              ; 85 27
001A87  2  86 26                    stx L0026              ; 86 26
001A89  2  45 89                    eor L0089              ; 45 89
001A8B  2  20 CE 23                 jsr L23A1              ; 20 A1 23
001A8E  2  20 0D 25                 jsr L24E0              ; 20 E0 24
001A91  2  85 25                    sta L0025              ; 85 25
001A93  2  86 24                    stx L0024              ; 86 24
001A95  2  A5 27                    lda L0027              ; A5 27
001A97  2  45 8B                    eor L008B              ; 45 8B
001A99  2  A6 2B                    ldx L002B              ; A6 2B
001A9B  2  20 D8 23                 jsr L23AB              ; 20 AB 23
001A9E  2  85 A0                    sta L00A0              ; 85 A0
001AA0  2  A5 25                    lda L0025              ; A5 25
001AA2  2  85 A2                    sta L00A2              ; 85 A2
001AA4  2  49 80                    eor #$80               ; 49 80
001AA6  2  20 B2 24                 jsr L2485              ; 20 85 24
001AA9  2  06 1B                    asl L001B              ; 06 1B
001AAB  2  2A                       rol A                  ; 2A
001AAC  2  85 D1                    sta L00D1              ; 85 D1
001AAE  2  A9 00                    lda #$00               ; A9 00
001AB0  2  6A                       ror A                  ; 6A
001AB1  2  05 D1                    ora L00D1              ; 05 D1
001AB3  2  20 0D 25                 jsr L24E0              ; 20 E0 24
001AB6  2  85 25                    sta L0025              ; 85 25
001AB8  2  8A                       txa                    ; 8A
001AB9  2  99 57 03                 sta L0357,Y            ; 99 57 03
001ABC  2  A5 26                    lda L0026              ; A5 26
001ABE  2  85 A1                    sta L00A1              ; 85 A1
001AC0  2  A5 27                    lda L0027              ; A5 27
001AC2  2  85 A2                    sta L00A2              ; 85 A2
001AC4  2  A9 00                    lda #$00               ; A9 00
001AC6  2  85 1B                    sta L001B              ; 85 1B
001AC8  2  A5 2A                    lda L002A              ; A5 2A
001ACA  2  20 FE 17                 jsr L181B              ; 20 1B 18
001ACD  2  A5 25                    lda L0025              ; A5 25
001ACF  2  85 31                    sta L0031              ; Set x1
001AD1  2  99 4C 03                 sta L034C,Y            ; Set stars X
001AD4  2  A5 27                    lda L0027              ; A5 27
001AD6  2  99 62 03                 sta L0362,Y            ; Set stars Y
001AD9  2  85 32                    sta L0032              ; Set y1
001ADB  2  29 7F                    and #$7F               ; 29 7F
001ADD  2  C9 6E                    cmp #$6E               ; C9 6E
001ADF  2  B0 13                    bcs L1B0F              ; B0 13
001AE1  2               
001AE1  2  B9 B9 0C                 lda L0CB9,Y            ; Get stars Z
001AE4  2  C9 A0                    cmp #$A0               ; C9 A0
001AE6  2  B0 0C                    bcs L1B0F              ; B0 0C
001AE8  2  85 A7                    sta L00A7              ; 85 A7
001AEA  2  20 07 18     L1B05:      jsr L1824              ; Plot pixels
001AED  2  88                       dey                    ; 88
001AEE  2  F0 03                    beq L1B0E              ; F0 03
001AF0  2  4C 2D 1A                 jmp L1A48              ; 4C 48 1A
001AF3  2  60           L1B0E:      rts                    ; 60
001AF4  2               
001AF4  2  20 52 3E     L1B0F:      jsr L3D24              ; Randomize $1,$2,$3
001AF7  2  29 7F                    and #$7F               ; 29 7F
001AF9  2  69 0A                    adc #$0A               ; 69 0A
001AFB  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
001AFE  2  85 A7                    sta L00A7              ; 85 A7
001B00  2  4A                       lsr A                  ; 4A
001B01  2  B0 14                    bcs L1B32              ; B0 14
001B03  2  4A                       lsr A                  ; 4A
001B04  2  A9 FC                    lda #$FC               ; A9 FC
001B06  2  6A                       ror A                  ; 6A
001B07  2  85 31                    sta L0031              ; Set x1
001B09  2  99 4C 03                 sta L034C,Y            ; Set stars X
001B0C  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001B0F  2  85 32                    sta L0032              ; Set y1
001B11  2  99 62 03                 sta L0362,Y            ; Set stars Y
001B14  2  4C EA 1A                 jmp L1B05              ; 4C 05 1B
001B17  2               
001B17  2  20 52 3E     L1B32:      jsr L3D24              ; Randomize $1,$2,$3
001B1A  2  85 31                    sta L0031              ; Set x1
001B1C  2  99 4C 03                 sta L034C,Y            ; Set stars X
001B1F  2  4A                       lsr A                  ; 4A
001B20  2  A9 E6                    lda #$E6               ; A9 E6
001B22  2  6A                       ror A                  ; 6A
001B23  2  85 32                    sta L0032              ; Set y1
001B25  2  99 62 03                 sta L0362,Y            ; Set stars Y
001B28  2  D0 C0                    bne L1B05              ; Forced jump
001B2A  2               L1B45:
001B2A  2  01 00        	.word 1
001B2C  2  2C 01        	.word 300
001B2E  2  A0 0F        	.word 4000
001B30  2  70 17        	.word 6000
001B32  2  A0 0F        	.word 4000
001B34  2  10 27        	.word 10000
001B36  2  82 14        	.word 5250
001B38  2  10 27        	.word 10000
001B3A  2  28 23        	.word 9000
001B3C  2  98 3A        	.word 15000
001B3E  2  10 27        	.word 10000
001B40  2  50 C3        	.word 50000
001B42  2               
001B42  2  A2 09        L1B5D:      ldx #$09               ; A2 09
001B44  2  C9 19                    cmp #$19               ; C9 19
001B46  2  B0 62                    bcs L1BC2              ; B0 5F
001B48  2  CA                       dex                    ; CA
001B49  2  C9 0A        L1B64:      cmp #$0A               ; C9 0A
001B4B  2  B0 5D                    bcs L1BC2              ; B0 5A
001B4D  2  CA                       dex                    ; CA
001B4E  2  C9 02                    cmp #$02               ; C9 02
001B50  2  B0 58                    bcs L1BC2              ; B0 55
001B52  2  CA                       dex                    ; CA
001B53  2  D0 55                    bne L1BC2              ; D0 52
001B55  2               
001B55  2               ;--------------------------------------------
001B55  2               ; F8=Display status screen
001B55  2               ;--------------------------------------------
001B55  2               
001B55  2               L1B70:
001B55  2  20 B2 34     	jsr restore_panel
001B58  2               
001B58  2  A9 08                    lda #$08
001B5A  2  20 2C 28                 jsr L27FC              ; Clear screen, plot frame
001B5D  2               
001B5D  2  20 6D 2F                 jsr L2F0D              ; Plot line
001B60  2               
001B60  2  A9 07        L1B78:      lda #$07
001B62  2  85 2C                    sta L002C              ; Cursor X
001B64  2               L1B7C:
001B64  2  A9 7E                    lda #$7E               ; Text 'COMMANDER [name]'
001B66  2  20 E4 17                 jsr L17FF              ; Plot header + line
001B69  2               
001B69  2  A9 0F                    lda #$0F
001B6B  2  A4 AF                    ldy L00AF              ; Docked flag
001B6D  2  D0 11                    bne L1B98              ; Forced jump
001B6F  2               
001B6F  2  A9 E6                    lda #$E6               ; Text 'GREEN'
001B71  2  AC F6 0B                 ldy L0BF6              ; AC F6 0B
001B74  2  BE E2 0B                 ldx L0BE2,Y            ; BE E2 0B
001B77  2  F0 07                    beq L1B98              ; F0 07
001B79  2  AC D4 0C                 ldy L0CD4              ; Energy 1
001B7C  2  C0 80                    cpy #$80               ; If energy<#80  text 'RED'
001B7E  2  69 01                    adc #$01               ; If energy>=#80 text 'YELLOW'
001B80  2               L1B98:
001B80  2  20 E6 35                 jsr L34C0              ; De-token
001B83  2               
001B83  2  A9 7D                    lda #$7D               ; Text 'SYSTEM'
001B85  2  20 10 2A                 jsr L29C6              ; De-token+space
001B88  2               
001B88  2  A9 13                    lda #$13               ; A9 13
001B8A  2  AC 34 03                 ldy L0334              ; AC 34 03
001B8D  2  F0 04                    beq L1BAB              ; F0 04
001B8F  2  C0 32                    cpy #$32               ; C0 32
001B91  2  69 01                    adc #$01               ; 69 01
001B93  2  20 E6 35     L1BAB:      jsr L34C0              ; De-token
001B96  2               
001B96  2  A9 10                    lda #$10               ; A9 10
001B98  2  20 10 2A                 jsr L29C6              ; De-token+space
001B9B  2               
001B9B  2  AD 48 03                 lda L0348              ; AD 48 03
001B9E  2  D0 A2                    bne L1B5D              ; D0 A5
001BA0  2  AA                       tax                    ; AA
001BA1  2  AD 47 03                 lda L0347              ; AD 47 03
001BA4  2  4A                       lsr A                  ; 4A
001BA5  2  4A                       lsr A                  ; 4A
001BA6  2  E8           L1BBE:      inx                    ; E8
001BA7  2  4A                       lsr A                  ; 4A
001BA8  2  D0 FC                    bne L1BBE              ; D0 FC
001BAA  2  8A           L1BC2:      txa                    ; 8A
001BAB  2  18                       clc                    ; 18
001BAC  2  69 15                    adc #$15               ; 69 15
001BAE  2  20 E6 35                 jsr L34C0              ; De-token
001BB1  2               
001BB1  2  A9 12                    lda #$12               ; A9 12
001BB3  2  20 0F 1C                 jsr L1C27              ; De-token
001BB6  2               
001BB6  2  AD 2E 03                 lda L032E              ; Escape Capsule item
001BB9  2  F0 05                    beq L1BD8              ; Skip if not present
001BBB  2  A9 70                    lda #$70               ; Text 'EXCAPE CAPSULE'
001BBD  2  20 0F 1C                 jsr L1C27              ; De-token
001BC0  2               
001BC0  2  AD 29 03     L1BD8:      lda L0329              ; Fuel scoops item
001BC3  2  F0 05                    beq L1BE2              ; Skip of not present
001BC5  2  A9 6F                    lda #$6F               ; Text 'FUEL SCOOPS'
001BC7  2  20 0F 1C                 jsr L1C27              ; De-token
001BCA  2               
001BCA  2  AD 28 03     L1BE2:      lda L0328              ; E.C.M.System item
001BCD  2  F0 05                    beq L1BEC              ; Skip if not present
001BCF  2  A9 6C                    lda #$6C               ; Text 'E.C.M.SYSTEM'
001BD1  2  20 0F 1C                 jsr L1C27              ; De-token
001BD4  2               
001BD4  2  A9 71        L1BEC:      lda #$71               ; Text 'ENERGY BOMB'
001BD6  2  85 B7                    sta L00B7              ; 85 B7
001BD8  2  A8           L1BF0:      tay                    ; A8
001BD9  2  BE B9 02                 ldx L02B9,Y            ; BE B9 02
001BDC  2  F0 03                    beq L1BF9              ; Skip if not present
001BDE  2  20 0F 1C                 jsr L1C27              ; De-token
001BE1  2               
001BE1  2  E6 B7        L1BF9:      inc L00B7              ; E6 B7
001BE3  2  A5 B7                    lda L00B7              ; A5 B7
001BE5  2  C9 75                    cmp #$75               ; C9 75
001BE7  2  90 EF                    bcc L1BF0              ; 90 EF
001BE9  2               
001BE9  2  A2 00                    ldx #$00               ; Reset ptr
001BEB  2  86 B4        L1C03:      stx L00B4
001BED  2  BC 10 03                 ldy L0310,X            ; Laser item
001BF0  2  F0 15                    beq L1C1F              ; Skip if not present
001BF2  2  8A                       txa                    ; Convert to string
001BF3  2  18                       clc
001BF4  2  69 60                    adc #$60               ; Text FRONT,REAR,LEFT,RIGHT
001BF6  2  20 10 2A                 jsr L29C6              ; De-token+space
001BF9  2  A9 67                    lda #$67               ; Text 'PULSE LASERS'
001BFB  2               
001BFB  2  A6 B4                    ldx L00B4              ; Get ptr
001BFD  2  BC 10 03                 ldy L0310,X            ; Laser item
001C00  2  10 02                    bpl L1C1C              ; Check bit 7 set
001C02  2  A9 68                    lda #$68               ; Text 'BEAM LASERS'
001C04  2  20 0F 1C     L1C1C:      jsr L1C27              ; De-token
001C07  2               
001C07  2  A6 B4        L1C1F:      ldx L00B4              ; Get ptr
001C09  2  E8                       inx                    ; Next
001C0A  2  E0 04                    cpx #$04               ; All laser items checked?
001C0C  2  90 DD                    bcc L1C03              ; No, repeat
001C0E  2  60                       rts
001C0F  2               
001C0F  2  20 E6 35     L1C27:      jsr L34C0              ; De-token
001C12  2  A2 06                    ldx #$06               ; A2 06
001C14  2  86 2C                    stx L002C              ; Cursor X
001C16  2  60                       rts                    ; 60
001C17  2               
001C17  2  48 76 E8 00  L1C2F:      .byte $48,$76,$E8,$00
001C1B  2               
001C1B  2  A9 03        L1C33:      lda #$03               ; A9 03
001C1D  2  A0 00        L1C35:      ldy #$00               ; A0 00
001C1F  2               
001C1F  2  85 8F        L1C37:      sta L008F              ; 85 8F
001C21  2  A9 00                    lda #$00               ; A9 00
001C23  2  85 3D                    sta L003D              ; 85 3D
001C25  2  85 3E                    sta L003E              ; 85 3E
001C27  2  84 3F                    sty L003F              ; 84 3F
001C29  2  86 40                    stx L0040              ; 86 40
001C2B  2               
001C2B  2  A2 0B        L1C43:      ldx #$0B               ; A2 0B
001C2D  2  86 D1                    stx L00D1              ; 86 D1
001C2F  2  08                       php                    ; 08
001C30  2  90 04                    bcc L1C4E              ; 90 04
001C32  2  C6 D1                    dec L00D1              ; C6 D1
001C34  2  C6 8F                    dec L008F              ; C6 8F
001C36  2               
001C36  2               ;--------------------------------------------
001C36  2               ; L1C4F:
001C36  2               ;        and #$38
001C36  2               ;L1C51:
001C36  2               ;--------------------------------------------
001C36  2               
001C36  2  A9 0B        L1C4E:      lda #$0b
001C38  2  38                       sec
001C39  2               L1C51:
001C39  2  85 A5                    sta L00A5              ; 85 A5
001C3B  2  E5 8F                    sbc L008F              ; E5 8F
001C3D  2  85 8F                    sta L008F              ; 85 8F
001C3F  2  E6 8F                    inc L008F              ; E6 8F
001C41  2  A0 00                    ldy #$00               ; A0 00
001C43  2  84 A2                    sty L00A2              ; 84 A2
001C45  2  4C 87 1C                 jmp L1C9F              ; 4C 9F 1C
001C48  2               
001C48  2               ;--------------------------------------------
001C48  2               
001C48  2  06 40        L1C60:      asl L0040              ; 06 40
001C4A  2  26 3F                    rol L003F              ; 26 3F
001C4C  2  26 3E                    rol L003E              ; 26 3E
001C4E  2  26 3D                    rol L003D              ; 26 3D
001C50  2  26 A2                    rol L00A2              ; 26 A2
001C52  2  A2 03                    ldx #$03               ; A2 03
001C54  2  B5 3D        L1C6C:      lda L003D,X            ; B5 3D
001C56  2  95 31                    sta L0031,X            ; 95 31
001C58  2  CA                       dex                    ; CA
001C59  2  10 F9                    bpl L1C6C              ; 10 F9
001C5B  2  A5 A2                    lda L00A2              ; A5 A2
001C5D  2  85 35                    sta L0035              ; 85 35
001C5F  2  06 40                    asl L0040              ; 06 40
001C61  2  26 3F                    rol L003F              ; 26 3F
001C63  2  26 3E                    rol L003E              ; 26 3E
001C65  2  26 3D        L1C7D:      rol L003D              ; 26 3D
001C67  2  26 A2                    rol L00A2              ; 26 A2
001C69  2  06 40                    asl L0040              ; 06 40
001C6B  2  26 3F                    rol L003F              ; 26 3F
001C6D  2  26 3E                    rol L003E              ; 26 3E
001C6F  2  26 3D                    rol L003D              ; 26 3D
001C71  2  26 A2                    rol L00A2              ; 26 A2
001C73  2  18                       clc                    ; 18
001C74  2  A2 03                    ldx #$03               ; A2 03
001C76  2  B5 3D        L1C8E:      lda L003D,X            ; B5 3D
001C78  2  75 31                    adc L0031,X            ; 75 31
001C7A  2  95 3D                    sta L003D,X            ; 95 3D
001C7C  2  CA                       dex                    ; CA
001C7D  2  10 F7                    bpl L1C8E              ; 10 F7
001C7F  2  A5 35                    lda L0035              ; A5 35
001C81  2  65 A2                    adc L00A2              ; 65 A2
001C83  2  85 A2                    sta L00A2              ; 85 A2
001C85  2  A0 00                    ldy #$00               ; A0 00
001C87  2               
001C87  2  A2 03        L1C9F:      ldx #$03               ; A2 03
001C89  2  38                       sec                    ; 38
001C8A  2  B5 3D        L1CA2:      lda L003D,X            ; B5 3D
001C8C  2  FD 17 1C                 sbc L1C2F,X            ; FD 2F 1C
001C8F  2  95 31                    sta L0031,X            ; 95 31
001C91  2  CA                       dex                    ; CA
001C92  2  10 F6                    bpl L1CA2              ; 10 F6
001C94  2  A5 A2                    lda L00A2              ; A5 A2
001C96  2  E9 17                    sbc #$17               ; E9 17
001C98  2  85 35                    sta L0035              ; 85 35
001C9A  2  90 11                    bcc L1CC5              ; 90 11
001C9C  2  A2 03                    ldx #$03               ; A2 03
001C9E  2  B5 31        L1CB6:      lda L0031,X            ; B5 31
001CA0  2  95 3D                    sta L003D,X            ; 95 3D
001CA2  2  CA                       dex                    ; CA
001CA3  2  10 F9                    bpl L1CB6              ; 10 F9
001CA5  2  A5 35                    lda L0035              ; A5 35
001CA7  2  85 A2                    sta L00A2              ; 85 A2
001CA9  2  C8                       iny                    ; C8
001CAA  2  4C 87 1C                 jmp L1C9F              ; 4C 9F 1C
001CAD  2               
001CAD  2  98           L1CC5:      tya                    ; 98
001CAE  2  D0 0C                    bne L1CD4              ; D0 0C
001CB0  2  A5 D1                    lda L00D1              ; A5 D1
001CB2  2  F0 08                    beq L1CD4              ; F0 08
001CB4  2  C6 8F                    dec L008F              ; C6 8F
001CB6  2  10 0E                    bpl L1CDE              ; 10 0E
001CB8  2               
001CB8  2  A9 20                    lda #$20               ; Character space
001CBA  2  D0 07                    bne L1CDB              ; Print space
001CBC  2               
001CBC  2  A0 00        L1CD4:      ldy #$00               ; A0 00
001CBE  2  84 D1                    sty L00D1              ; 84 D1
001CC0  2  18                       clc                    ; 18
001CC1  2               
001CC1  2  69 30                    adc #$30               ; Convert nr to ASCII
001CC3  2  20 E0 1C     L1CDB:      jsr L1CF8              ; Print character
001CC6  2               
001CC6  2  C6 D1        L1CDE:      dec L00D1              ; C6 D1
001CC8  2  10 02                    bpl L1CE4              ; 10 02
001CCA  2  E6 D1                    inc L00D1              ; E6 D1
001CCC  2  C6 A5        L1CE4:      dec L00A5              ; C6 A5
001CCE  2  30 0D                    bmi L1CF5              ; 30 0D
001CD0  2  D0 08                    bne L1CF2              ; D0 08
001CD2  2  28                       plp                    ; 28
001CD3  2  90 05                    bcc L1CF2              ; 90 05
001CD5  2               
001CD5  2  A9 2E                    lda #$2E               ; Character '.'
001CD7  2  20 E0 1C                 jsr L1CF8              ; Print character
001CDA  2  4C 48 1C     L1CF2:      jmp L1C60              ; 4C 60 1C
001CDD  2               
001CDD  2  60           L1CF5:      rts                    ; 60
001CDE  2               
001CDE  2  A9 07        L1CF6:      lda #$07               ; Bell
001CE0  2               
001CE0  2               ;--------------------------------------------
001CE0  2               ; Print character in A at L002C,L002D
001CE0  2               ;--------------------------------------------
001CE0  2               
001CE0  2  85 D2        L1CF8:      sta L00D2              ; Save char
001CE2  2  8C D0 0C                 sty L0CD0              ; Save Y
001CE5  2  8E CF 0C                 stx L0CCF              ; Save X
001CE8  2               
001CE8  2  A4 7E                    ldy L007E              ; VDU stat
001CEA  2  C0 FF                    cpy #$FF
001CEC  2  D0 03                    bne L1D14
001CEE  2  4C 82 1D     	jmp L1D73
001CF1  2               L1D14:
001CF1  2  C9 07                    cmp #$07               ; Check beep
001CF3  2  D0 03                    bne L1D15
001CF5  2  4C 8C 1D     	jmp L1D7D
001CF8  2               L1D15:
001CF8  2  C9 20                    cmp #$20               ; Check ASCII char
001CFA  2  B0 0C                    bcs L1D1A
001CFC  2               
001CFC  2  C9 0A                    cmp #$0A               ; Check newline
001CFE  2  F0 04                    beq L1D16
001D00  2               
001D00  2  A2 01                    ldx #$01
001D02  2  86 2C                    stx L002C              ; Cursor X
001D04  2               
001D04  2  E6 2D        L1D16:      inc L002D              ; Cursor Y
001D06  2  D0 7A                    bne L1D73              ; D0 59
001D08  2               L1D1A:
001D08  2               ;            tay                    ; A8
001D08  2               ;            ldx #$BF               ; A2 BF
001D08  2               ;            asl A                  ; 0A
001D08  2               ;            asl A                  ; 0A
001D08  2               ;            bcc L1D23              ; 90 02
001D08  2               ;
001D08  2               ;            ldx #$C1               ; A2 C1
001D08  2               L1D23:
001D08  2               ;            asl A                  ; 0A
001D08  2               ;            bcc L1D27              ; 90 01
001D08  2               ;            inx                    ; E8
001D08  2               L1D27:
001D08  2  38           	sec			; Set FONT address $1C/$1D
001D09  2  E9 20        	sbc #$20
001D0B  2  85 1C        	sta L001C
001D0D  2  A9 00        	lda #0
001D0F  2  85 1D        	sta L001D
001D11  2  06 1C        	asl L001C
001D13  2  26 1D        	rol L001D
001D15  2  06 1C        	asl L001C
001D17  2  26 1D        	rol L001D
001D19  2  06 1C        	asl L001C
001D1B  2  26 1D        	rol L001D
001D1D  2  18           	clc
001D1E  2  A9 86        	lda #<FONT
001D20  2  65 1C        	adc L001C
001D22  2  85 1C        	sta L001C
001D24  2  A5 1D        	lda L001D
001D26  2  69 60        	adc #>FONT
001D28  2  85 1D        	sta L001D
001D2A  2               ;            sta L001C              ; 85 1C
001D2A  2               ;            stx L001D              ; 86 1D
001D2A  2               ;            lda #$80               ; A9 80
001D2A  2               ;            sta L0007              ; 85 07
001D2A  2  A5 2D                    lda L002D              ; Cursor Y
001D2C  2               
001D2C  2  C9 20                    cmp #$20              ; Check cursor y
001D2E  2               ;            cmp #$16               ; Check cursor y
001D2E  2  90 06                    bcc L1D3A              ; If <24, jump
001D30  2               
001D30  2  20 2E 28                 jsr L27FE              ; 20 FE 27
001D33  2  4C 82 1D                 jmp L1D73              ; 4C 73 1D
001D36  2               
001D36  2               L1D3A:
001D36  2  24 A6        	bit L00A6		; Correction to 8-line at chart
001D38  2               ;	bvc L1D3B
001D38  2  10 0E        	bpl L1D3B
001D3A  2  18           	clc
001D3B  2  A5 2D        	lda L002D
001D3D  2  69 80        	adc #$80
001D3F  2  85 08        	sta L0008
001D41  2  A5 2C        	lda L002C
001D43  2  85 07        	sta L0007
001D45  2  4C 57 1D     	jmp L1D54
001D48  2               L1D3B:
001D48  2               ;            lsr A                  ;
001D48  2               ;            ror L0007              ; 66 07
001D48  2               ;            lsr A                  ; 4A
001D48  2               ;            ror L0007              ; 66 07
001D48  2               ;            adc L002D              ; 65 2D
001D48  2               ;            adc #$58               ; Add hb-screenaddress
001D48  2               
001D48  2  A6 2D        	ldx L002D		; Convert X,Y -> screenaddress
001D4A  2  BD A6 63     	lda line_hb,x
001D4D  2  85 08                    sta L0008              ; hb-screenaddress
001D4F  2  BD 86 63     	lda line_lb,x
001D52  2  18           	clc
001D53  2  65 2C        	adc L002C		; Cursor X
001D55  2  85 07        	sta L0007
001D57  2               
001D57  2               
001D57  2               ;            lda L002C              ; Get X
001D57  2               ;            asl A                  ; 0A
001D57  2               ;            asl A                  ; 0A
001D57  2               ;            asl A                  ; 0A
001D57  2               ;            adc L0007              ; 65 07
001D57  2               ;            sta L0007              ; 85 07
001D57  2               ;            bcc L1D54              ; 90 02
001D57  2               ;            inc L0008              ; E6 08
001D57  2               
001D57  2               L1D54:
001D57  2  C0 7F                    cpy #$7f               ; Check Y-pos bottom
001D59  2  D0 0B                    bne L1D63
001D5B  2               
001D5B  2  C6 2C                    dec L002C              ; Cursor X
001D5D  2  C6 08                    dec L0008              ; C6 08
001D5F  2               
001D5F  2  A0 F8                    ldy #$F8               ; A0 F8
001D61  2  20 A0 42                 jsr L40E6              ; 20 E6 40
001D64  2  F0 1C                    beq L1D73              ; F0 10
001D66  2               
001D66  2  E6 2C        L1D63:      inc L002C              ; Cursor X
001D68  2  2C                       .byte $2C
001D69  2               
001D69  2               ;---------------------------------------------
001D69  2               ; Character on screen
001D69  2               ;---------------------------------------------
001D69  2               
001D69  2               L1D66:
001D69  2  85 08                    sta L0008              ; 85 08
001D6B  2               
001D6B  2               ;            ldy #$07               ; Set line ptr
001D6B  2  A0 05                    ldy #$05               ; Set line ptr !!!! NEWFONT !!!
001D6D  2               L1D6A:
001D6D  2  B1 1C                    lda (L001C),Y          ; Get pixel mask
001D6F  2  48           	pha
001D70  2               
001D70  2  8C E3 17     	sty tmp_y
001D73  2  B9 DB 17     	lda rowbyte,y
001D76  2  A8           	tay
001D77  2  68           	pla
001D78  2               
001D78  2  51 07                    eor (L0007),Y          ; Plot byte on screen
001D7A  2  91 07                    sta (L0007),Y
001D7C  2               
001D7C  2  AC E3 17     	ldy tmp_y
001D7F  2  88                       dey                    ; Next line
001D80  2  10 EB                    bpl L1D6A
001D82  2               
001D82  2  AC D0 0C     L1D73:      ldy L0CD0              ; Restore y
001D85  2  AE CF 0C                 ldx L0CCF              ; Restore x
001D88  2  A5 D2                    lda L00D2              ; Restore a
001D8A  2  18                       clc
001D8B  2  60           L1D7C:      rts
001D8C  2               
001D8C  2               ;---------------------------------------------
001D8C  2               ; Beep
001D8C  2               ;---------------------------------------------
001D8C  2               
001D8C  2               L1D7D:
001D8C  2  20 15 44                 jsr L427F              ; Make beep sound
001D8F  2               
001D8F  2  4C 82 1D                 jmp L1D73              ; Return to printroutine
001D92  2               
001D92  2               L1D7E:
001D92  2  60           	rts
001D93  2               ;---------------------------------------------
001D93  2               ; Update bars + gyro pointers
001D93  2               ; Right side of panel
001D93  2               ;---------------------------------------------
001D93  2               
001D93  2               L1D83:
001D93  2  24 A6        	bit L00A6		; Correction Charts
001D95  2  70 FB        	bvs L1D7E
001D97  2  30 F9        	bmi L1D7E
001D99  2               
001D99  2  A9 1A        	lda #<$911a		; Set screenadddress $76f0
001D9B  2  85 07                    sta L0007
001D9D  2  A9 91        	lda #>$911a
001D9F  2  85 08                    sta L0008
001DA1  2               
001DA1  2  A5 8C                    lda L008C              ; Get speed
001DA3  2  20 3C 1E                 jsr L1E28              ; Speed bar (SP)
001DA6  2               
001DA6  2  A9 00                    lda #$00               ; A9 00
001DA8  2  85 A1                    sta L00A1              ; 85 A1
001DAA  2  85 1B                    sta L001B              ; 85 1B
001DAC  2               
001DAC  2  A9 08                    lda #$08               ; A9 08
001DAE  2  85 A2                    sta L00A2              ; 85 A2
001DB0  2               
001DB0  2  A5 87                    lda L0087              ; A5 87
001DB2  2  4A                       lsr A                  ; 4A
001DB3  2  4A                       lsr A                  ; 4A
001DB4  2  05 88                    ora L0088              ; 05 88
001DB6  2  49 80                    eor #$80               ; 49 80
001DB8  2  20 0D 25                 jsr L24E0              ; 20 E0 24
001DBB  2  20 8B 1E                 jsr L1E70              ; RL Gyro pointer
001DBE  2               
001DBE  2  A5 2A                    lda L002A              ; A5 2A
001DC0  2  A6 2B                    ldx L002B              ; A6 2B
001DC2  2  F0 02                    beq L1DB0              ; F0 02
001DC4  2               
001DC4  2  E9 01                    sbc #$01               ; E9 01
001DC6  2               
001DC6  2  20 0D 25     L1DB0:      jsr L24E0              ; 20 E0 24
001DC9  2  20 8B 1E                 jsr L1E70              ; DC gyro pointer
001DCC  2               
001DCC  2  A5 A9                    lda L00A9              ; A5 A9
001DCE  2  29 03                    and #$03               ; 29 03
001DD0  2  D0 B9                    bne L1D7C              ; D0 C0
001DD2  2               
001DD2  2  A0 00                    ldy #$00               ; A0 00
001DD4  2  A2 03                    ldx #$03               ; A2 03
001DD6  2  94 37        L1DC0:      sty L0037,X            ; 94 37
001DD8  2  CA                       dex                    ; CA
001DD9  2  10 FB                    bpl L1DC0              ; 10 FB
001DDB  2               
001DDB  2  A2 03                    ldx #$03               ; A2 03
001DDD  2  AD D4 0C                 lda L0CD4              ; Energy 1
001DE0  2  4A                       lsr A                  ; 4A
001DE1  2  85 A0                    sta L00A0              ; 85 A0
001DE3  2  38           L1DCD:      sec                    ; 38
001DE4  2  E9 20                    sbc #$20               ; E9 20
001DE6  2  90 0D                    bcc L1DDF              ; 90 0D
001DE8  2  85 A0                    sta L00A0              ; 85 A0
001DEA  2               
001DEA  2  A9 20                    lda #$20               ; A9 20
001DEC  2  95 37                    sta L0037,X            ; 95 37
001DEE  2  A5 A0                    lda L00A0              ; A5 A0
001DF0  2  CA                       dex                    ; CA
001DF1  2  10 F0                    bpl L1DCD              ; 10 F0
001DF3  2               
001DF3  2  30 04                    bmi L1DE3              ; 30 04
001DF5  2               
001DF5  2  A5 A0        L1DDF:      lda L00A0              ; A5 A0
001DF7  2  95 37                    sta L0037,X            ; 95 37
001DF9  2               
001DF9  2  B9 37 00     L1DE3:      lda L0037,Y            ; Get shieldpower
001DFC  2  84 1B                    sty L001B              ; Save counter
001DFE  2  20 3C 1E                 jsr L1E28              ; Plot energy 1,2,3,4 bars
001E01  2  A4 1B                    ldy L001B              ; Restore counter
001E03  2  C8                       iny                    ; Next bar
001E04  2  C0 04                    cpy #$04               ; All 4 bars plot?
001E06  2  D0 F1                    bne L1DE3              ; Repeat if not last one
001E08  2               
001E08  2               ;---------------------------------------------
001E08  2               ; Left side of panel
001E08  2               ;---------------------------------------------
001E08  2               
001E08  2  A9 91                    lda #>$9102            ; Set screenaddress
001E0A  2  85 08                    sta L0008
001E0C  2  A9 02                    lda #<$9102
001E0E  2  85 07                    sta L0007
001E10  2               
001E10  2  AD D2 0C                 lda L0CD2              ; Energy FS
001E13  2  20 39 1E                 jsr L1E25              ; Plot front shield bar (FS)
001E16  2               
001E16  2  AD D3 0C                 lda L0CD3              ; Energy AS
001E19  2  20 39 1E                 jsr L1E25              ; Plot aft shield bar (AS)
001E1C  2               
001E1C  2  AD 0D 03                 lda L030D              ; Fuel level
001E1F  2  20 3B 1E                 jsr L1E27              ; Plot fuel bar (FU)
001E22  2               
001E22  2  E6 08        	inc L0008
001E24  2               
001E24  2  AD 03 0C                 lda L0C03              ; Cabine temp CT
001E27  2  20 39 1E                 jsr L1E25              ; Plot cabin temperature bar (CT)
001E2A  2               
001E2A  2  A9 F0                    lda #$F0               ; A9 F0
001E2C  2  85 06                    sta L0006              ; 85 06
001E2E  2  85 3E                    sta L003E              ; 85 3E
001E30  2               
001E30  2  AD E2 0C                 lda L0CE2
001E33  2  20 39 1E                 jsr L1E25              ; Plot laser temperature bar (LT)
001E36  2               
001E36  2  4C 5C 38                 jmp L3736              ; Update compas
001E39  2               
001E39  2               ;--------------------------------------------
001E39  2               ; Plot bar in panel
001E39  2               ;
001E39  2               ; A=value bar
001E39  2               ; Entry L1E25 - 32 steps ???
001E39  2               ; Entry L1E27 - 16 steps ???
001E39  2               ;--------------------------------------------
001E39  2               
001E39  2               L1E25:
001E39  2  4A           	lsr A			; Divide by 4
001E3A  2  4A           	lsr A
001E3B  2               L1E27:
001E3B  2  4A           	lsr A			; Divide by 2
001E3C  2               L1E28:
001E3C  2  85 A0        	sta L00A0		; Save bar value
001E3E  2  A2 FF        	ldx #$FF		; Set pixel mask
001E40  2  86 A1        	stx L00A1
001E42  2               
001E42  2  A0 03        	ldy #$03		; Set column counter
001E44  2               L1E32:
001E44  2  A5 A0        	lda L00A0		; Get bar value
001E46  2  C9 08        	cmp #$08		; Check lower limit
001E48  2  90 26        	bcc L1E54		; If lower limit, skip
001E4A  2               L1E38:
001E4A  2  E9 08        	sbc #$08		; Substract 1 step
001E4C  2  85 A0        	sta L00A0		; Store value
001E4E  2               
001E4E  2  A5 A1        	lda L00A1		; Get pixel mask
001E50  2               L1E3E:
001E50  2  A2 02        	ldx #$02		; Line pointer
001E52  2               
001E52  2  8C E3 17     	sty tmp_y		; Save y
001E55  2               
001E55  2  BC DB 17     	ldy rowbyte,x
001E58  2  91 07        	sta (L0007),Y		; Plot pixels line1 on screen
001E5A  2  E8           	inx
001E5B  2               
001E5B  2  BC DB 17     	ldy rowbyte,x
001E5E  2  91 07        	sta (L0007),Y		; Plot pixels line2 on screen
001E60  2  E8           	inx
001E61  2               
001E61  2  BC DB 17     	ldy rowbyte,x
001E64  2  91 07        	sta (L0007),Y		; Plot pixels line3 on screen
001E66  2               
001E66  2  AC E3 17     	ldy tmp_y		; Restore y
001E69  2               
001E69  2  E6 07        	inc L0007		; Next column
001E6B  2               L1E4E:
001E6B  2  88           	dey			; Decrement column counter
001E6C  2  30 1A        	bmi L1E6C		; Jump if last column
001E6E  2  10 D4        	bpl L1E32		; Next column
001E70  2               L1E54:
001E70  2  49 07        	eor #$07		; Invert lower nibble
001E72  2  85 A0        	sta L00A0		; Set value
001E74  2               
001E74  2  A5 A1        	lda L00A1		; Get pixel mask
001E76  2               L1E5A:
001E76  2  0A           	asl A			; Shift pixel mask
001E77  2  C6 A0        	dec L00A0		; Decrement value
001E79  2  10 FB        	bpl L1E5A		; Check if zero
001E7B  2               
001E7B  2  48           	pha			; Save pixel mask
001E7C  2  A9 00        	lda #$00		; Reset pixel mask
001E7E  2  85 A1        	sta L00A1		; Set pixel mask
001E80  2               
001E80  2  A9 63        	lda #$63
001E82  2  85 A0        	sta L00A0		; Reset value
001E84  2               
001E84  2  68           	pla			; Restore pixel mask
001E85  2  4C 50 1E     	jmp L1E3E		; Repeat for next line
001E88  2               L1E6C:
001E88  2  4C 89 29     	jmp L293D		; Point to 8 lines below
001E8B  2               
001E8B  2               ;--------------------------------------------
001E8B  2               ; Plot gyro pointer in panel
001E8B  2               ;
001E8B  2               ; A=gyro value
001E8B  2               ;--------------------------------------------
001E8B  2               
001E8B  2               L1E70:
001E8B  2  85 A0        	sta L00A0		; Save gyro value
001E8D  2               L1E74:
001E8D  2  38           	sec			; Convert value to pos
001E8E  2  A5 A0        	lda L00A0
001E90  2  E9 04        	sbc #$04
001E92  2  B0 0B        	bcs L1E86
001E94  2               
001E94  2  A9 FF        	lda #$FF
001E96  2  A6 A0        	ldx L00A0
001E98  2  85 A0        	sta L00A0
001E9A  2  BD 15 16     	lda L1615,X
001E9D  2  D0 04        	bne L1E8A
001E9F  2               L1E86:
001E9F  2  85 A0        	sta L00A0		; Set gyro pos
001EA1  2  A9 00        	lda #$00		; Reset pixel mask
001EA3  2               L1E8A:
001EA3  2  A2 01        	ldx #$01		; Set linepointer
001EA5  2  8C E3 17     	sty tmp_y		; Save y
001EA8  2               
001EA8  2  BC DB 17     	ldy rowbyte,x
001EAB  2  91 07        	sta (L0007),Y		; Plot pixel on screen
001EAD  2  E8           	inx
001EAE  2               
001EAE  2  BC DB 17     	ldy rowbyte,x
001EB1  2  91 07        	sta (L0007),Y		; Plot pixel on screen
001EB3  2  E8           	inx
001EB4  2               
001EB4  2  BC DB 17     	ldy rowbyte,x
001EB7  2  91 07        	sta (L0007),Y		; Plot pixel on screen
001EB9  2  E8           	inx
001EBA  2               
001EBA  2  BC DB 17     	ldy rowbyte,x
001EBD  2  91 07        	sta (L0007),Y		; Plot pixel on screen
001EBF  2               
001EBF  2  AC E3 17     	ldy tmp_y		; Restore y
001EC2  2               
001EC2  2  E6 07        	inc L0007		; Point to next column
001EC4  2  A5 07        	lda L0007		; Get lb-screen
001EC6  2  C9 1E        	cmp #$1e		; Check limit
001EC8  2  90 C3        	bcc L1E74		; If not, jump
001ECA  2  4C 89 29     	jmp L293D		; Point to 8 lines below
001ECD  2               
001ECD  2               ;--------------------------------------------
001ECD  2               
001ECD  2  20 B1 3D     L1EA1:      jsr L3C83              ; Reset vars
001ED0  2  20 9B 3D                 jsr L3C6D              ; Reset
001ED3  2               
001ED3  2  A9 00                    lda #$00               ; A9 00
001ED5  2  A2 10                    ldx #$10               ; A2 10
001ED7  2  9D 17 03     L1EAB:      sta L0317,X            ; Inventory
001EDA  2  CA                       dex                    ; CA
001EDB  2  10 FA                    bpl L1EAB              ; 10 FA
001EDD  2               
001EDD  2  8D 34 03                 sta L0334              ; 8D 34 03
001EE0  2  8D 2E 03                 sta L032E              ; Escape Capsule item
001EE3  2               
001EE3  2  A9 46                    lda #$46               ; A9 46
001EE5  2  8D 0D 03                 sta L030D              ; Fuel level
001EE8  2               
001EE8  2  4C 53 41                 jmp L400D              ; Jump to status screen
001EEB  2               
001EEB  2               tmp_a:
001EEB  2  00           	.byte 0
001EEC  2               
001EEC  2               ;--------------------------------------------
001EEC  2               ; Start ELITEC.TXT
001EEC  2               ;--------------------------------------------
001EEC  2               
001EEC  2  A9 00        L1EBF:      lda #$00               ; A9 00
001EEE  2  20 7C 40                 jsr L3F40              ; 20 40 3F
001EF1  2  F0 03                    beq L1EC9              ; F0 03
001EF3  2               
001EF3  2  4C B3 1F                 jmp L1F86              ; 4C 86 1F
001EF6  2               
001EF6  2  20 58 1F     L1EC9:      jsr L1F2B              ; 20 2B 1F
001EF9  2               
001EF9  2  20 DB 43                 jsr L4245              ; 20 45 42
001EFC  2               
001EFC  2  A9 FA                    lda #$FA               ; A9 FA
001EFE  2  4C 1E 39                 jmp L37FC              ; 4C FC 37
001F01  2               
001F01  2  A5 30        L1ED4:      lda L0030              ; E mark in panel
001F03  2  D0 43                    bne L1F1B              ; D0 43
001F05  2               
001F05  2  A5 73                    lda L0073              ; A5 73
001F07  2  0A                       asl A                  ; 0A
001F08  2  30 E2                    bmi L1EBF              ; 30 E2
001F0A  2               
001F0A  2  4A                       lsr A                  ; 4A
001F0B  2  AA                       tax                    ; AA
001F0C  2  BD F1 15                 lda L15F1,X            ; Get galaxy pointer
001F0F  2  85 22                    sta L0022              ; Set lb
001F11  2  BD F2 15                 lda L15F1+1,X          ; Get galaxy pointer
001F14  2  85 23                    sta L0023              ; Set hb
001F16  2               
001F16  2  A0 02                    ldy #$02               ; A0 02
001F18  2  20 B2 20                 jsr L2085              ; 20 85 20
001F1B  2               
001F1B  2  A0 05                    ldy #$05               ; A0 05
001F1D  2  20 B2 20                 jsr L2085              ; 20 85 20
001F20  2               
001F20  2  A0 08                    ldy #$08               ; A0 08
001F22  2  20 B2 20                 jsr L2085              ; 20 85 20
001F25  2               
001F25  2  A5 D4                    lda L00D4              ; A5 D4
001F27  2  05 D7                    ora L00D7              ; 05 D7
001F29  2  05 DA                    ora L00DA              ; 05 DA
001F2B  2  29 7F                    and #$7F               ; 29 7F
001F2D  2  05 D3                    ora L00D3              ; 05 D3
001F2F  2  05 D6                    ora L00D6              ; 05 D6
001F31  2  05 D9                    ora L00D9              ; 05 D9
001F33  2  D0 29                    bne L1F31              ; D0 29
001F35  2               
001F35  2  A5 73                    lda L0073              ; A5 73
001F37  2  C9 82                    cmp #$82               ; C9 82
001F39  2  F0 0D                    beq L1F1B              ; F0 0D
001F3B  2               
001F3B  2  A0 1F                    ldy #$1F               ; A0 1F
001F3D  2  B1 22                    lda (L0022),Y          ; B1 22
001F3F  2  2C                       .byte $2C
001F40  2               
001F40  2  39 1F                    .byte $39,$1F
001F42  2  D0 04                    bne L1F1B              ; D0 04
001F44  2               
001F44  2  09 80                    ora #$80               ; 09 80
001F46  2  91 22                    sta (L0022),Y          ; 91 22
001F48  2  A5 53        L1F1B:      lda L0053              ; Galaxy data
001F4A  2  05 56                    ora L0056              ; 05 56
001F4C  2  05 59                    ora L0059              ; 05 59
001F4E  2  D0 05                    bne L1F28              ; D0 05
001F50  2               
001F50  2  A9 50                    lda #$50               ; A9 50
001F52  2  20 1E 39                 jsr L37FC              ; 20 FC 37
001F55  2               
001F55  2  20 EF 43     L1F28:      jsr L4259              ; 20 59 42
001F58  2               
001F58  2  06 72        L1F2B:      asl L0072              ; 06 72
001F5A  2  38                       sec                    ; 38
001F5B  2  66 72                    ror L0072              ; 66 72
001F5D  2               
001F5D  2  60           L1F30:      rts                    ; 60
001F5E  2               
001F5E  2  20 52 3E     L1F31:      jsr L3D24              ; Randomize $1,$2,$3
001F61  2               
001F61  2  C9 10                    cmp #$10               ; C9 10
001F63  2  B0 57                    bcs L1F8F              ; B0 57
001F65  2               
001F65  2  A0 20                    ldy #$20               ; A0 20
001F67  2  B1 22                    lda (L0022),Y          ; B1 22
001F69  2  4A                       lsr A                  ; 4A
001F6A  2  90 50                    bcc L1F8F              ; 90 50
001F6C  2               
001F6C  2  4C 34 3A                 jmp L3912              ; 4C 12 39
001F6F  2               
001F6F  2  E0 08        L1F42:      cpx #$08               ; E0 08
001F71  2  F0 8E                    beq L1ED4              ; F0 8E
001F73  2               
001F73  2  E0 0B                    cpx #$0B               ; E0 0B
001F75  2  D0 06                    bne L1F50              ; D0 06
001F77  2               
001F77  2  20 38 43                 jsr L418C              ; 20 8C 41
001F7A  2               
001F7A  2  4C 71 20                 jmp L2044              ; 4C 44 20
001F7D  2               
001F7D  2  E0 07        L1F50:      cpx #$07               ; E0 07
001F7F  2  D0 15                    bne L1F69              ; D0 15
001F81  2               
001F81  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001F84  2  C9 8C                    cmp #$8C               ; C9 8C
001F86  2  90 D5                    bcc L1F30              ; 90 D5
001F88  2               
001F88  2  AD EF 0B                 lda L0BEF              ; AD EF 0B
001F8B  2  C9 03                    cmp #$03               ; C9 03
001F8D  2  B0 CE                    bcs L1F30              ; B0 CE
001F8F  2               
001F8F  2  A2 02                    ldx #$02               ; A2 02
001F91  2  A9 E1                    lda #$E1               ; A9 E1
001F93  2  4C 8F 21                 jmp L2162              ; 4C 62 21
001F96  2               
001F96  2  E0 06        L1F69:      cpx #$06               ; E0 06
001F98  2  B0 0F                    bcs L1F7C              ; B0 0F
001F9A  2  E0 02                    cpx #$02               ; E0 02
001F9C  2  F0 0B                    beq L1F7C              ; F0 0B
001F9E  2  AD F4 0B                 lda L0BF4              ; AD F4 0B
001FA1  2  F0 06                    beq L1F7C              ; F0 06
001FA3  2  A5 73                    lda L0073              ; A5 73
001FA5  2  29 81                    and #$81               ; 29 81
001FA7  2  85 73                    sta L0073              ; 85 73
001FA9  2  A0 0E        L1F7C:      ldy #$0E               ; A0 0E
001FAB  2  A5 76                    lda L0076              ; A5 76
001FAD  2  D1 1E                    cmp (L001E),Y          ; D1 1E
001FAF  2  B0 02                    bcs L1F86              ; B0 02
001FB1  2  E6 76                    inc L0076              ; E6 76
001FB3  2  A2 08        L1F86:      ldx #$08               ; A2 08
001FB5  2  B5 53        L1F88:      lda L0053,X            ; Galaxy data
001FB7  2  95 D2                    sta L00D2,X            ; 95 D2
001FB9  2  CA                       dex                    ; CA
001FBA  2  10 F9                    bpl L1F88              ; 10 F9
001FBC  2  20 47 43     L1F8F:      jsr L419B              ; 20 9B 41
001FBF  2  A0 0A                    ldy #$0A               ; A0 0A
001FC1  2  20 EE 24                 jsr L24C1              ; 20 C1 24
001FC4  2  85 B4                    sta L00B4              ; 85 B4
001FC6  2  A5 AB                    lda L00AB              ; TYPE
001FC8  2  C9 08                    cmp #$08               ; C9 08
001FCA  2  D0 03                    bne L1FA2              ; D0 03
001FCC  2  4C 59 20                 jmp L202C              ; 4C 2C 20
001FCF  2  20 52 3E     L1FA2:      jsr L3D24              ; Randomize $1,$2,$3
001FD2  2  C9 FA                    cmp #$FA               ; C9 FA
001FD4  2  90 07                    bcc L1FB0              ; 90 07
001FD6  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001FD9  2  09 68                    ora #$68               ; 09 68
001FDB  2  85 70                    sta L0070              ; 85 70
001FDD  2  A0 0E        L1FB0:      ldy #$0E               ; A0 0E
001FDF  2  B1 1E                    lda (L001E),Y          ; B1 1E
001FE1  2  4A                       lsr A                  ; 4A
001FE2  2  C5 76                    cmp L0076              ; C5 76
001FE4  2  90 30                    bcc L1FE9              ; 90 30
001FE6  2  4A                       lsr A                  ; 4A
001FE7  2  4A                       lsr A                  ; 4A
001FE8  2  C5 76                    cmp L0076              ; C5 76
001FEA  2  90 0E                    bcc L1FCD              ; 90 0E
001FEC  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
001FEF  2  C9 E6                    cmp #$E6               ; C9 E6
001FF1  2  90 07                    bcc L1FCD              ; 90 07
001FF3  2  A9 00                    lda #$00               ; A9 00
001FF5  2  85 73                    sta L0073              ; 85 73
001FF7  2  4C 8B 21                 jmp L215E              ; 4C 5E 21
001FFA  2  A5 72        L1FCD:      lda L0072              ; A5 72
001FFC  2  29 07                    and #$07               ; 29 07
001FFE  2  F0 16                    beq L1FE9              ; F0 16
002000  2  85 D1                    sta L00D1              ; 85 D1
002002  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
002005  2  29 1F                    and #$1F               ; 29 1F
002007  2  C5 D1                    cmp L00D1              ; C5 D1
002009  2  B0 0B                    bcs L1FE9              ; B0 0B
00200B  2  A5 30                    lda L0030              ; E mark in panel
00200D  2  D0 07                    bne L1FE9              ; D0 07
00200F  2  C6 72                    dec L0072              ; C6 72
002011  2  A5 AB                    lda L00AB              ; TYPE
002013  2  4C DF 43                 jmp L4249              ; 4C 49 42
002016  2  A9 00        L1FE9:      lda #$00               ; A9 00
002018  2  20 7C 40                 jsr L3F40              ; 20 40 3F
00201B  2  29 E0                    and #$E0               ; 29 E0
00201D  2  D0 23                    bne L2015              ; D0 23
00201F  2  A6 B4                    ldx L00B4              ; A6 B4
002021  2  E0 A0        L1FF4:      cpx #$A0               ; E0 A0
002023  2  90 1D                    bcc L2015              ; 90 1D
002025  2  A5 72                    lda L0072              ; A5 72
002027  2  09 40                    ora #$40               ; 09 40
002029  2  85 72                    sta L0072              ; 85 72
00202B  2  E0 A3                    cpx #$A3               ; E0 A3
00202D  2  90 13                    bcc L2015              ; 90 13
00202F  2  A0 13                    ldy #$13               ; A0 13
002031  2  B1 1E                    lda (L001E),Y          ; B1 1E
002033  2  4A                       lsr A                  ; 4A
002034  2  20 1E 39                 jsr L37FC              ; 20 FC 37
002037  2  C6 6F                    dec L006F              ; C6 6F
002039  2  A5 30                    lda L0030              ; E mark in panel
00203B  2  D0 74                    bne L2084              ; D0 74
00203D  2  A9 08                    lda #$08               ; Enemy fire laser sound
00203F  2  4C 17 44                 jmp L4281              ; Make sound
002042  2  A5 5A        L2015:      lda L005A              ; A5 5A
002044  2  C9 03                    cmp #$03               ; C9 03
002046  2  B0 08                    bcs L2023              ; B0 08
002048  2  A5 54                    lda L0054              ; A5 54
00204A  2  05 57                    ora L0057              ; 05 57
00204C  2  29 FE                    and #$FE               ; 29 FE
00204E  2  F0 21                    beq L2044              ; F0 21
002050  2  20 52 3E     L2023:      jsr L3D24              ; Randomize $1,$2,$3
002053  2  09 80                    ora #$80               ; 09 80
002055  2  C5 73                    cmp L0073              ; C5 73
002057  2  B0 18                    bcs L2044              ; B0 18
002059  2  A5 31        L202C:      lda L0031              ; Get x1
00205B  2  49 80                    eor #$80               ; 49 80
00205D  2  85 31                    sta L0031              ; Set x1
00205F  2  A5 32                    lda L0032              ; Get y1
002061  2  49 80                    eor #$80               ; 49 80
002063  2  85 32                    sta L0032              ; Set y1
002065  2  A5 33                    lda L0033              ; A5 33
002067  2  49 80                    eor #$80               ; 49 80
002069  2  85 33                    sta L0033              ; 85 33
00206B  2  A5 B4                    lda L00B4              ; A5 B4
00206D  2  49 80                    eor #$80               ; 49 80
00206F  2  85 B4                    sta L00B4              ; 85 B4
002071  2  A0 10        L2044:      ldy #$10               ; A0 10
002073  2  20 EE 24                 jsr L24C1              ; 20 C1 24
002076  2  49 80                    eor #$80               ; 49 80
002078  2  29 80                    and #$80               ; 29 80
00207A  2  09 03                    ora #$03               ; 09 03
00207C  2  85 71                    sta L0071              ; 85 71
00207E  2  A5 70                    lda L0070              ; A5 70
002080  2  29 7F                    and #$7F               ; 29 7F
002082  2  C9 10                    cmp #$10               ; C9 10
002084  2  B0 0D                    bcs L2066              ; B0 0D
002086  2  A0 16                    ldy #$16               ; A0 16
002088  2  20 EE 24                 jsr L24C1              ; 20 C1 24
00208B  2               
00208B  2  45 71                    eor L0071              ; 45 71
00208D  2  29 80                    and #$80               ; 29 80
00208F  2  49 85                    eor #$85               ; 49 85
002091  2  85 70                    sta L0070              ; 85 70
002093  2  A5 B4        L2066:      lda L00B4              ; A5 B4
002095  2  30 09                    bmi L2073              ; 30 09
002097  2  C9 16                    cmp #$16               ; C9 16
002099  2  90 05                    bcc L2073              ; 90 05
00209B  2  A9 03                    lda #$03               ; A9 03
00209D  2  85 6F                    sta L006F              ; 85 6F
00209F  2  60                       rts                    ; 60
0020A0  2  29 7F        L2073:      and #$7F               ; 29 7F
0020A2  2  C9 12                    cmp #$12               ; C9 12
0020A4  2  90 0B                    bcc L2084              ; 90 0B
0020A6  2  A9 FF                    lda #$FF               ; A9 FF
0020A8  2  A6 AB                    ldx L00AB              ; TYPE
0020AA  2  E0 08                    cpx #$08               ; E0 08
0020AC  2  D0 01                    bne L2082              ; D0 01
0020AE  2  0A                       asl A                  ; 0A
0020AF  2  85 6F        L2082:      sta L006F              ; 85 6F
0020B1  2  60           L2084:      rts                    ; 60
0020B2  2  B1 22        L2085:      lda (L0022),Y          ; B1 22
0020B4  2  49 80                    eor #$80               ; 49 80
0020B6  2  85 40                    sta L0040              ; 85 40
0020B8  2  88                       dey                    ; 88
0020B9  2  B1 22                    lda (L0022),Y          ; B1 22
0020BB  2  85 3F                    sta L003F              ; 85 3F
0020BD  2  88                       dey                    ; 88
0020BE  2  B1 22                    lda (L0022),Y          ; B1 22
0020C0  2  85 3E                    sta L003E              ; 85 3E
0020C2  2  84 8F                    sty L008F              ; 84 8F
0020C4  2  A6 8F                    ldx L008F              ; A6 8F
0020C6  2  20 4F 13                 jsr L134F              ; 20 4F 13
0020C9  2  A4 8F                    ldy L008F              ; A4 8F
0020CB  2  95 D4                    sta L00D4,X            ; 95 D4
0020CD  2  A5 3F                    lda L003F              ; A5 3F
0020CF  2  95 D3                    sta L00D3,X            ; 95 D3
0020D1  2  A5 3E                    lda L003E              ; A5 3E
0020D3  2  95 D2                    sta L00D2,X            ; 95 D2
0020D5  2  60                       rts                    ; 60
0020D6  2               
0020D6  2  18           L20A9:      clc                    ; 18
0020D7  2  A5 5B                    lda L005B              ; A5 5B
0020D9  2  D0 39                    bne L20E7              ; D0 39
0020DB  2  A5 AB                    lda L00AB              ; TYPE
0020DD  2  30 35                    bmi L20E7              ; 30 35
0020DF  2  A5 72                    lda L0072              ; A5 72
0020E1  2  29 20                    and #$20               ; 29 20
0020E3  2  05 54                    ora L0054              ; 05 54
0020E5  2  05 57                    ora L0057              ; 05 57
0020E7  2  D0 2B                    bne L20E7              ; D0 2B
0020E9  2  A5 53                    lda L0053              ; Galaxy data
0020EB  2  20 1D 24                 jsr L23F0              ; 20 F0 23
0020EE  2  85 A2                    sta L00A2              ; 85 A2
0020F0  2  A5 1B                    lda L001B              ; A5 1B
0020F2  2  85 A1                    sta L00A1              ; 85 A1
0020F4  2  A5 56                    lda L0056              ; A5 56
0020F6  2  20 1D 24                 jsr L23F0              ; 20 F0 23
0020F9  2  AA                       tax                    ; AA
0020FA  2  A5 1B                    lda L001B              ; A5 1B
0020FC  2  65 A1                    adc L00A1              ; 65 A1
0020FE  2  85 A1                    sta L00A1              ; 85 A1
002100  2  8A                       txa                    ; 8A
002101  2  65 A2                    adc L00A2              ; 65 A2
002103  2  B0 7F                    bcs L2157              ; B0 7F
002105  2  85 A2                    sta L00A2              ; 85 A2
002107  2  A0 02                    ldy #$02               ; A0 02
002109  2  B1 1E                    lda (L001E),Y          ; B1 1E
00210B  2  C5 A2                    cmp L00A2              ; C5 A2
00210D  2  D0 05                    bne L20E7              ; D0 05
00210F  2  88                       dey                    ; 88
002110  2  B1 1E                    lda (L001E),Y          ; B1 1E
002112  2  C5 A1                    cmp L00A1              ; C5 A1
002114  2  60           L20E7:      rts                    ; 60
002115  2               
002115  2  20 F4 3D     L20E8:      jsr L3CC6              ; 20 C6 3C
002118  2  A9 1C                    lda #$1C               ; A9 1C
00211A  2  85 56                    sta L0056              ; 85 56
00211C  2  4A                       lsr A                  ; 4A
00211D  2  85 59                    sta L0059              ; 85 59
00211F  2  A9 80                    lda #$80               ; A9 80
002121  2  85 58                    sta L0058              ; 85 58
002123  2  A5 52                    lda L0052              ; A5 52
002125  2  0A                       asl A                  ; 0A
002126  2  09 80                    ora #$80               ; 09 80
002128  2  85 73                    sta L0073              ; 85 73
00212A  2               L20FD:
00212A  2  A9 60                    lda #$60               ; A9 60
00212C  2               
00212C  2  85 61                    sta L0061              ; 85 61
00212E  2  09 80                    ora #$80               ; 09 80
002130  2  85 69                    sta L0069              ; 85 69
002132  2  A5 8C                    lda L008C              ; Get speed
002134  2  2A                       rol A                  ; 2A
002135  2  85 6E                    sta L006E              ; 85 6E
002137  2  8A                       txa                    ; 8A
002138  2  4C 9F 39                 jmp L387D              ; New ship
00213B  2               
00213B  2               ;--------------------------------------------
00213B  2               ;
00213B  2               ;--------------------------------------------
00213B  2               
00213B  2  A2 08        L210E:      ldx #$08               ; A2 08
00213D  2  20 15 21                 jsr L20E8              ; 20 E8 20
002140  2  90 44                    bcc L2159              ; 90 44
002142  2               
002142  2  A6 52                    ldx L0052              ; A6 52
002144  2  20 6C 39                 jsr L384A              ; Set galaxy pointer $20/21
002147  2  BD E0 0B                 lda L0BE0,X            ; BD E0 0B
00214A  2  20 5A 21                 jsr L212D              ; 20 2D 21
00214D  2               
00214D  2  A0 04                    ldy #$04               ; Sprite=clear
00214F  2  20 26 3A                 jsr L3904              ; Plot missile
002152  2  CE 33 03                 dec L0333              ; Decrement missile counter
002155  2  A9 30                    lda #$30               ; Launch sound
002157  2  4C 17 44                 jmp L4281              ; Make sound
00215A  2  C9 07        L212D:      cmp #$07               ; C9 07
00215C  2  F0 1F                    beq L2150              ; F0 1F
00215E  2  B0 B4                    bcs L20E7              ; B0 B4
002160  2  C9 06                    cmp #$06               ; C9 06
002162  2  D0 03                    bne L213A              ; D0 03
002164  2  20 7D 21                 jsr L2150              ; 20 50 21
002167  2  A0 20        L213A:      ldy #$20               ; A0 20
002169  2  B1 20                    lda (L0020),Y          ; B1 20
00216B  2  F0 A7                    beq L20E7              ; F0 A7
00216D  2  09 80                    ora #$80               ; 09 80
00216F  2  91 20                    sta (L0020),Y          ; 91 20
002171  2  A0 1C                    ldy #$1C               ; A0 1C
002173  2  A9 02                    lda #$02               ; A9 02
002175  2  91 20                    sta (L0020),Y          ; 91 20
002177  2  0A                       asl A                  ; 0A
002178  2  A0 1E                    ldy #$1E               ; A0 1E
00217A  2  91 20                    sta (L0020),Y          ; 91 20
00217C  2  60                       rts                    ; 60
00217D  2  0E 44 09     L2150:      asl L0944              ; 0E 44 09
002180  2  38                       sec                    ; 38
002181  2  6E 44 09                 ror L0944              ; 6E 44 09
002184  2  18           L2157:      clc                    ; 18
002185  2  60                       rts                    ; 60
002186  2               
002186  2  A9 C9        L2159:      lda #$C9               ; Text 'MISSILE JAMMED'
002188  2  4C 48 45                 jmp L43C2              ; Print at bottomline
00218B  2               
00218B  2  A2 0B        L215E:      ldx #$0B               ; A2 0B
00218D  2  A9 FE        L2160:      lda #$FE               ; A9 FE
00218F  2  85 06        L2162:      sta L0006              ; 85 06
002191  2  A5 1E                    lda L001E              ; A5 1E
002193  2  48                       pha                    ; 48
002194  2  A5 1F                    lda L001F              ; A5 1F
002196  2  48                       pha                    ; 48
002197  2  A5 20                    lda L0020              ; A5 20
002199  2  48                       pha                    ; 48
00219A  2  A5 21                    lda L0021              ; A5 21
00219C  2  48                       pha                    ; 48
00219D  2  A0 23                    ldy #$23               ; A0 23
00219F  2  B9 53 00     L2172:      lda L0053,Y            ; Galaxy data
0021A2  2  99 00 01                 sta L0100,Y            ; 99 00 01
0021A5  2  B1 20                    lda (L0020),Y          ; B1 20
0021A7  2  99 53 00                 sta L0053,Y            ; Galaxy data
0021AA  2  88                       dey                    ; 88
0021AB  2  10 F2                    bpl L2172              ; 10 F2
0021AD  2  A5 AB                    lda L00AB              ; TYPE
0021AF  2  C9 07                    cmp #$07               ; C9 07
0021B1  2  D0 1D                    bne L21A3              ; D0 1D
0021B3  2  8A                       txa                    ; 8A
0021B4  2  48                       pha                    ; 48
0021B5  2  A9 20                    lda #$20               ; A9 20
0021B7  2  85 6E                    sta L006E              ; 85 6E
0021B9  2  A2 00                    ldx #$00               ; A2 00
0021BB  2  A5 5D                    lda L005D              ; A5 5D
0021BD  2  20 09 22                 jsr L21DC              ; 20 DC 21
0021C0  2  A2 03                    ldx #$03               ; A2 03
0021C2  2  A5 5F                    lda L005F              ; A5 5F
0021C4  2  20 09 22                 jsr L21DC              ; 20 DC 21
0021C7  2  A2 06                    ldx #$06               ; A2 06
0021C9  2  A5 61                    lda L0061              ; A5 61
0021CB  2  20 09 22                 jsr L21DC              ; 20 DC 21
0021CE  2  68                       pla                    ; 68
0021CF  2  AA                       tax                    ; AA
0021D0  2  A5 06        L21A3:      lda L0006              ; A5 06
0021D2  2  85 73                    sta L0073              ; 85 73
0021D4  2  46 70                    lsr L0070              ; 46 70
0021D6  2  06 70                    asl L0070              ; 06 70
0021D8  2  8A                       txa                    ; 8A
0021D9  2  C9 0A                    cmp #$0A               ; C9 0A
0021DB  2  D0 12                    bne L21C2              ; D0 12
0021DD  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
0021E0  2  0A                       asl A                  ; 0A
0021E1  2  85 71                    sta L0071              ; 85 71
0021E3  2  8A                       txa                    ; 8A
0021E4  2  29 0F                    and #$0F               ; 29 0F
0021E6  2  85 6E                    sta L006E              ; 85 6E
0021E8  2  A9 FF                    lda #$FF               ; A9 FF
0021EA  2  6A                       ror A                  ; 6A
0021EB  2  85 70                    sta L0070              ; 85 70
0021ED  2  A9 0A                    lda #$0A               ; A9 0A
0021EF  2  20 9F 39     L21C2:      jsr L387D              ; New ship
0021F2  2  68                       pla                    ; 68
0021F3  2  85 21                    sta L0021              ; 85 21
0021F5  2  68                       pla                    ; 68
0021F6  2  85 20                    sta L0020              ; 85 20
0021F8  2  A2 23                    ldx #$23               ; A2 23
0021FA  2  BD 00 01     L21CD:      lda L0100,X            ; BD 00 01
0021FD  2  95 53                    sta L0053,X            ; Galaxy data
0021FF  2  CA                       dex                    ; CA
002200  2  10 F8                    bpl L21CD              ; 10 F8
002202  2  68                       pla                    ; 68
002203  2  85 1F                    sta L001F              ; 85 1F
002205  2  68                       pla                    ; 68
002206  2  85 1E                    sta L001E              ; 85 1E
002208  2  60                       rts                    ; 60
002209  2  0A           L21DC:      asl A                  ; 0A
00220A  2  85 A1                    sta L00A1              ; 85 A1
00220C  2  A9 00                    lda #$00               ; A9 00
00220E  2  6A                       ror A                  ; 6A
00220F  2  4C FA 12                 jmp L12FA              ; 4C FA 12
002212  2  A9 38        L21E5:      lda #$38               ; ???
002214  2  20 17 44                 jsr L4281              ; Make sound
002217  2  A9 01                    lda #$01               ; A9 01
002219  2  8D 04 0C                 sta L0C04              ; 8D 04 0C
00221C  2  A9 04                    lda #$04               ; A9 04
00221E  2  20 2C 22                 jsr L21FF              ; 20 FF 21
002221  2  CE 04 0C                 dec L0C04              ; CE 04 0C
002224  2  60                       rts                    ; 60
002225  2               
002225  2               ;--------------------------------------------
002225  2               ; Draw launch tunnel + stars
002225  2               ;--------------------------------------------
002225  2               
002225  2  A9 30        L21F8:      lda #$30               ; Launch sound
002227  2  20 17 44                 jsr L4281              ; Make sound
00222A  2               
00222A  2  A9 08                    lda #$08               ; A9 08
00222C  2  85 B6        L21FF:      sta L00B6              ; 85 B6
00222E  2               
00222E  2  20 2E 28                 jsr L27FE              ; Clear screen and skip VIEW text
002231  2  20 34 22                 jsr L2207              ; Draw circles of tunnel
002234  2               
002234  2               L2207:                             ; Wipe circles of tunnel
002234  2  A9 80                    lda #$80
002236  2  85 D2                    sta L00D2              ; Circle X-pos
002238  2               
002238  2               ;            ldx #$60               ; Y=96 Centre screen
002238  2  A2 43                    ldx #$43               ; Y=96 Centre screen
00223A  2  86 E0                    stx L00E0              ; Circle Y-pos
00223C  2               
00223C  2  0A                       asl A                  ; 0A
00223D  2  85 B7                    sta L00B7              ; 85 B7
00223F  2  85 D3                    sta L00D3              ; 85 D3
002241  2  85 E1                    sta L00E1              ; 85 E1
002243  2  20 4F 22     L2216:      jsr L2222              ; Draw circle + next dist
002246  2               
002246  2  E6 B7                    inc L00B7              ; Increment counter
002248  2  A6 B7                    ldx L00B7              ; Load counter
00224A  2  E0 08                    cpx #$08               ; Check if 8x done
00224C  2  D0 F5                    bne L2216              ; If not repeat
00224E  2  60                       rts                    ; 60
00224F  2               
00224F  2               ;--------------------------------------------
00224F  2               ; Draw a circle and calculate offset
00224F  2               ;--------------------------------------------
00224F  2               
00224F  2  A5 B7        L2222:      lda L00B7              ; Get counter
002251  2  29 07                    and #$07               ; Filter to 0-7
002253  2  18                       clc
002254  2  69 08                    adc #$08               ; Add 8
002256  2  85 3D                    sta L003D              ; Set radius
002258  2               
002258  2  A9 01        L222B:      lda #$01               ; A9 01
00225A  2  85 77                    sta L0077              ; 85 77
00225C  2  20 1F 3B                 jsr L39F1              ; Draw circle
00225F  2               
00225F  2  06 3D                    asl L003D              ; Radius*2
002261  2  B0 06                    bcs L223C              ;
002263  2  A5 3D                    lda L003D              ; A5 3D
002265  2  C9 A0                    cmp #$A0               ; C9 A0
002267  2  90 EF                    bcc L222B              ; 90 EF
002269  2  60           L223C:      rts
00226A  2               
00226A  2               ;--------------------------------------------
00226A  2               ;--------------------------------------------
00226A  2               
00226A  2  A9 00        L223D:      lda #$00               ; A9 00
00226C  2  E0 02                    cpx #$02               ; E0 02
00226E  2  6A                       ror A                  ; 6A
00226F  2  85 BA                    sta L00BA              ; 85 BA
002271  2  49 80                    eor #$80               ; 49 80
002273  2  85 BB                    sta L00BB              ; 85 BB
002275  2  20 1D 23                 jsr L22F0              ; 20 F0 22
002278  2               
002278  2  A0 0A                    ldy #$0A               ; Set starcounter to 10
00227A  2  B9 B9 0C     L224D:      lda L0CB9,Y            ; Get stars Z
00227D  2  85 A7                    sta L00A7              ; 85 A7
00227F  2               
00227F  2  4A                       lsr A                  ; 4A
002280  2  4A                       lsr A                  ; 4A
002281  2  4A                       lsr A                  ; 4A
002282  2  20 6F 25                 jsr L2542              ; 20 42 25
002285  2               
002285  2  A5 1B                    lda L001B              ; A5 1B
002287  2  45 BB                    eor L00BB              ; 45 BB
002289  2  85 A2                    sta L00A2              ; 85 A2
00228B  2  B9 57 03                 lda L0357,Y            ; B9 57 03
00228E  2  85 1B                    sta L001B              ; 85 1B
002290  2  B9 4C 03                 lda L034C,Y            ; Set stars X
002293  2  85 31                    sta L0031              ; Set x1
002295  2  20 0D 25                 jsr L24E0              ; 20 E0 24
002298  2               
002298  2  85 A2                    sta L00A2              ; 85 A2
00229A  2  86 A1                    stx L00A1              ; 86 A1
00229C  2  B9 62 03                 lda L0362,Y            ; Get stars Y
00229F  2  85 32                    sta L0032              ; Set y1
0022A1  2  45 8A                    eor L008A              ; 45 8A
0022A3  2  A6 2B                    ldx L002B              ; A6 2B
0022A5  2  20 D8 23                 jsr L23AB              ; 20 AB 23
0022A8  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0022AB  2               
0022AB  2  86 24                    stx L0024              ; 86 24
0022AD  2  85 25                    sta L0025              ; 85 25
0022AF  2  BE AE 0C                 ldx L0CAE,Y            ; BE AE 0C
0022B2  2  86 A1                    stx L00A1              ; 86 A1
0022B4  2  A6 32                    ldx L0032              ; Get y1
0022B6  2  86 A2                    stx L00A2              ; 86 A2
0022B8  2  A6 2B                    ldx L002B              ; A6 2B
0022BA  2  45 8B                    eor L008B              ; 45 8B
0022BC  2  20 D8 23                 jsr L23AB              ; 20 AB 23
0022BF  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0022C2  2               
0022C2  2  86 26                    stx L0026              ; 86 26
0022C4  2  85 27                    sta L0027              ; 85 27
0022C6  2  A6 87                    ldx L0087              ; A6 87
0022C8  2  45 88                    eor L0088              ; 45 88
0022CA  2  20 D8 23                 jsr L23AB              ; 20 AB 23
0022CD  2  85 A0                    sta L00A0              ; 85 A0
0022CF  2  A5 24                    lda L0024              ; A5 24
0022D1  2  85 A1                    sta L00A1              ; 85 A1
0022D3  2  A5 25                    lda L0025              ; A5 25
0022D5  2  85 A2                    sta L00A2              ; 85 A2
0022D7  2  49 80                    eor #$80               ; 49 80
0022D9  2  20 0A 25                 jsr L24DD              ; 20 DD 24
0022DC  2               
0022DC  2  85 25                    sta L0025              ; 85 25
0022DE  2  8A                       txa                    ; 8A
0022DF  2  99 57 03                 sta L0357,Y            ; 99 57 03
0022E2  2  A5 26                    lda L0026              ; A5 26
0022E4  2  85 A1                    sta L00A1              ; 85 A1
0022E6  2  A5 27                    lda L0027              ; A5 27
0022E8  2  85 A2                    sta L00A2              ; 85 A2
0022EA  2  20 0A 25                 jsr L24DD              ; 20 DD 24
0022ED  2               
0022ED  2  85 A2                    sta L00A2              ; 85 A2
0022EF  2  86 A1                    stx L00A1              ; 86 A1
0022F1  2  A9 00                    lda #$00               ; A9 00
0022F3  2  85 1B                    sta L001B              ; 85 1B
0022F5  2  A5 AE                    lda L00AE              ; A5 AE
0022F7  2  20 FE 17                 jsr L181B              ; 20 1B 18
0022FA  2               
0022FA  2  A5 25                    lda L0025              ; A5 25
0022FC  2  99 4C 03                 sta L034C,Y            ; Set stars X
0022FF  2  85 31                    sta L0031              ; Set x1
002301  2  29 7F                    and #$7F               ; 29 7F
002303  2  C9 74                    cmp #$74               ; C9 74
002305  2  B0 31                    bcs L230B              ; B0 31
002307  2  A5 27                    lda L0027              ; A5 27
002309  2  99 62 03                 sta L0362,Y            ; Set stars Y
00230C  2  85 32                    sta L0032              ; Set y1
00230E  2  29 7F                    and #$7F               ; 29 7F
002310  2  C9 74                    cmp #$74               ; C9 74
002312  2  B0 37                    bcs L231E              ; B0 37
002314  2  20 07 18     L22E7:      jsr L1824              ; Plot pixels
002317  2               
002317  2  88                       dey                    ; 88
002318  2  F0 03                    beq L22F0              ; F0 03
00231A  2  4C 7A 22                 jmp L224D              ; 4C 4D 22
00231D  2               
00231D  2  A5 AE        L22F0:      lda L00AE              ; A5 AE
00231F  2  45 BA                    eor L00BA              ; 45 BA
002321  2  85 AE                    sta L00AE              ; 85 AE
002323  2  A5 88                    lda L0088              ; A5 88
002325  2  45 BA                    eor L00BA              ; 45 BA
002327  2  85 88                    sta L0088              ; 85 88
002329  2  49 80                    eor #$80               ; 49 80
00232B  2  85 89                    sta L0089              ; 85 89
00232D  2  A5 8A                    lda L008A              ; A5 8A
00232F  2  45 BA                    eor L00BA              ; 45 BA
002331  2  85 8A                    sta L008A              ; 85 8A
002333  2  49 80                    eor #$80               ; 49 80
002335  2  85 8B                    sta L008B              ; 85 8B
002337  2  60                       rts                    ; 60
002338  2               
002338  2  20 52 3E     L230B:      jsr L3D24              ; Randomize $1,$2,$3
00233B  2  85 32                    sta L0032              ; Set y1
00233D  2  99 62 03                 sta L0362,Y            ; Set stars Y
002340  2  A9 73                    lda #$73               ; A9 73
002342  2  05 BA                    ora L00BA              ; 05 BA
002344  2  85 31                    sta L0031              ; Set x1
002346  2  99 4C 03                 sta L034C,Y            ; Set stars X
002349  2  D0 11                    bne L232F              ; D0 11
00234B  2               
00234B  2  20 52 3E     L231E:      jsr L3D24              ; Randomize $1,$2,$3
00234E  2  85 31                    sta L0031              ; Set x1
002350  2  99 4C 03                 sta L034C,Y            ; Set stars X
002353  2  A9 6E                    lda #$6E               ; A9 6E
002355  2  05 89                    ora L0089              ; 05 89
002357  2  85 32                    sta L0032              ; Set y1
002359  2  99 62 03                 sta L0362,Y            ; Set stars Y
00235C  2               
00235C  2  20 52 3E     L232F:      jsr L3D24              ; Randomize $1,$2,$3
00235F  2  09 08                    ora #$08               ; 09 08
002361  2  85 A7                    sta L00A7              ; 85 A7
002363  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
002366  2  D0 AC                    bne L22E7              ; D0 AC
002368  2               
002368  2               ;------------------------------------------------
002368  2               ; Sine table
002368  2               ;------------------------------------------------
002368  2               
002368  2  00 19 32 4A  L233B:      .byte $00,$19,$32,$4A,$62,$79,$8E,$A2
00236C  2  62 79 8E A2  
002370  2  B5 C6 D5 E2              .byte $B5,$C6,$D5,$E2,$ED,$F5,$FB,$FF
002374  2  ED F5 FB FF  
002378  2  FF FF FB F5              .byte $FF,$FF,$FB,$F5,$ED,$E2,$D5,$C6
00237C  2  ED E2 D5 C6  
002380  2  B5 A2 8E 79              .byte $B5,$A2,$8E,$79,$62,$4A,$32,$19
002384  2  62 4A 32 19  
002388  2               
002388  2               ;------------------------------------------------
002388  2               
002388  2  85 3D        L235B:      sta L003D              ; 85 3D
00238A  2  85 3E                    sta L003E              ; 85 3E
00238C  2  85 3F                    sta L003F              ; 85 3F
00238E  2  85 40                    sta L0040              ; 85 40
002390  2  18                       clc                    ; 18
002391  2  60                       rts                    ; 60
002392  2  85 A1        L2365:      sta L00A1              ; 85 A1
002394  2  29 7F                    and #$7F               ; 29 7F
002396  2  85 3F                    sta L003F              ; 85 3F
002398  2  A5 A0                    lda L00A0              ; A5 A0
00239A  2  29 7F                    and #$7F               ; 29 7F
00239C  2  F0 EA                    beq L235B              ; F0 EA
00239E  2  38                       sec                    ; 38
00239F  2  E9 01                    sbc #$01               ; E9 01
0023A1  2  85 D1                    sta L00D1              ; 85 D1
0023A3  2  A5 1C                    lda L001C              ; A5 1C
0023A5  2  46 3F                    lsr L003F              ; 46 3F
0023A7  2  6A                       ror A                  ; 6A
0023A8  2  85 3E                    sta L003E              ; 85 3E
0023AA  2  A5 1B                    lda L001B              ; A5 1B
0023AC  2  6A                       ror A                  ; 6A
0023AD  2  85 3D                    sta L003D              ; 85 3D
0023AF  2  A9 00                    lda #$00               ; A9 00
0023B1  2  A2 18                    ldx #$18               ; A2 18
0023B3  2  90 02        L2386:      bcc L238A              ; 90 02
0023B5  2  65 D1                    adc L00D1              ; 65 D1
0023B7  2  6A           L238A:      ror A                  ; 6A
0023B8  2  66 3F                    ror L003F              ; 66 3F
0023BA  2  66 3E                    ror L003E              ; 66 3E
0023BC  2  66 3D                    ror L003D              ; 66 3D
0023BE  2  CA                       dex                    ; CA
0023BF  2  D0 F2                    bne L2386              ; D0 F2
0023C1  2  85 D1                    sta L00D1              ; 85 D1
0023C3  2  A5 A1                    lda L00A1              ; A5 A1
0023C5  2  45 A0                    eor L00A0              ; 45 A0
0023C7  2  29 80                    and #$80               ; 29 80
0023C9  2  05 D1                    ora L00D1              ; 05 D1
0023CB  2  85 40                    sta L0040              ; 85 40
0023CD  2  60                       rts                    ; 60
0023CE  2  A6 24        L23A1:      ldx L0024              ; A6 24
0023D0  2  86 A1                    stx L00A1              ; 86 A1
0023D2  2  A6 25                    ldx L0025              ; A6 25
0023D4  2  86 A2                    stx L00A2              ; 86 A2
0023D6  2  A6 87        L23A9:      ldx L0087              ; A6 87
0023D8  2  86 1B        L23AB:      stx L001B              ; 86 1B
0023DA  2  AA                       tax                    ; AA
0023DB  2  29 80                    and #$80               ; 29 80
0023DD  2  85 D1                    sta L00D1              ; 85 D1
0023DF  2  8A                       txa                    ; 8A
0023E0  2  29 7F                    and #$7F               ; 29 7F
0023E2  2  F0 64                    beq L241B              ; F0 64
0023E4  2  AA                       tax                    ; AA
0023E5  2  CA                       dex                    ; CA
0023E6  2  86 06                    stx L0006              ; 86 06
0023E8  2  A9 00                    lda #$00               ; A9 00
0023EA  2  46 1B                    lsr L001B              ; 46 1B
0023EC  2  90 02                    bcc L23C3              ; 90 02
0023EE  2  65 06                    adc L0006              ; 65 06
0023F0  2  6A           L23C3:      ror A                  ; 6A
0023F1  2  66 1B                    ror L001B              ; 66 1B
0023F3  2  90 02                    bcc L23CA              ; 90 02
0023F5  2  65 06                    adc L0006              ; 65 06
0023F7  2  6A           L23CA:      ror A                  ; 6A
0023F8  2  66 1B                    ror L001B              ; 66 1B
0023FA  2  90 02                    bcc L23D1              ; 90 02
0023FC  2  65 06                    adc L0006              ; 65 06
0023FE  2  6A           L23D1:      ror A                  ; 6A
0023FF  2  66 1B                    ror L001B              ; 66 1B
002401  2  90 02                    bcc L23D8              ; 90 02
002403  2  65 06                    adc L0006              ; 65 06
002405  2  6A           L23D8:      ror A                  ; 6A
002406  2  66 1B                    ror L001B              ; 66 1B
002408  2  90 02                    bcc L23DF              ; 90 02
00240A  2  65 06                    adc L0006              ; 65 06
00240C  2  6A           L23DF:      ror A                  ; 6A
00240D  2  66 1B                    ror L001B              ; 66 1B
00240F  2  4A                       lsr A                  ; 4A
002410  2  66 1B                    ror L001B              ; 66 1B
002412  2  4A                       lsr A                  ; 4A
002413  2  66 1B                    ror L001B              ; 66 1B
002415  2  4A                       lsr A                  ; 4A
002416  2  66 1B                    ror L001B              ; 66 1B
002418  2  05 D1                    ora L00D1              ; 05 D1
00241A  2  60                       rts                    ; 60
00241B  2  29 7F        L23EE:      and #$7F               ; 29 7F
00241D  2  85 1B        L23F0:      sta L001B              ; 85 1B
00241F  2  AA                       tax                    ; AA
002420  2  D0 12                    bne L2407              ; D0 12
002422  2  18           L23F5:      clc                    ; 18
002423  2  86 1B                    stx L001B              ; 86 1B
002425  2  8A                       txa                    ; 8A
002426  2  60                       rts                    ; 60
002427  2               
002427  2  B9 62 03     L23FA:      lda L0362,Y            ; Get stars Y
00242A  2  85 32                    sta L0032              ; Set y1
00242C  2               
00242C  2  29 7F        L23FF:      and #$7F               ; 29 7F
00242E  2  85 1B                    sta L001B              ; 85 1B
002430  2               
002430  2  A6 A0        L2403:      ldx L00A0              ; A6 A0
002432  2  F0 EE                    beq L23F5              ; F0 EE
002434  2               
002434  2  CA           L2407:      dex                    ; CA
002435  2  86 D1                    stx L00D1              ; 86 D1
002437  2               
002437  2  A9 00                    lda #$00               ; A9 00
002439  2  A2 08                    ldx #$08               ; A2 08
00243B  2  46 1B                    lsr L001B              ; 46 1B
00243D  2  90 02        L2410:      bcc L2414              ; 90 02
00243F  2  65 D1                    adc L00D1              ; 65 D1
002441  2  6A           L2414:      ror A                  ; 6A
002442  2  66 1B                    ror L001B              ; 66 1B
002444  2  CA                       dex                    ; CA
002445  2  D0 F6                    bne L2410              ; D0 F6
002447  2  60                       rts                    ; 60
002448  2               
002448  2  85 1C        L241B:      sta L001C              ; 85 1C
00244A  2  85 1B                    sta L001B              ; 85 1B
00244C  2  60                       rts                    ; 60
00244D  2               
00244D  2  29 1F        L2420:      and #$1F               ; 29 1F
00244F  2  AA                       tax                    ; AA
002450  2  BD 68 23                 lda L233B,X            ; Get sine value
002453  2  85 A0                    sta L00A0              ; 85 A0
002455  2  A5 3D                    lda L003D              ; A5 3D
002457  2  49 FF        L242A:      eor #$FF               ; 49 FF
002459  2  38                       sec                    ; 38
00245A  2  6A                       ror A                  ; 6A
00245B  2  85 1B                    sta L001B              ; 85 1B
00245D  2  A9 00                    lda #$00               ; A9 00
00245F  2  B0 08        L2432:      bcs L243C              ; B0 08
002461  2  65 A0                    adc L00A0              ; 65 A0
002463  2  6A                       ror A                  ; 6A
002464  2  46 1B                    lsr L001B              ; 46 1B
002466  2  D0 F7                    bne L2432              ; D0 F7
002468  2  60                       rts                    ; 60
002469  2               
002469  2  4A           L243C:      lsr A                  ; 4A
00246A  2  46 1B                    lsr L001B              ; 46 1B
00246C  2  D0 F1                    bne L2432              ; D0 F1
00246E  2  60                       rts                    ; 60
00246F  2               
00246F  2  A6 A0                    ldx L00A0              ; A6 A0
002471  2  F0 AF                    beq L23F5              ; F0 AF
002473  2  CA                       dex                    ; CA
002474  2  86 D1                    stx L00D1              ; 86 D1
002476  2  A9 00                    lda #$00               ; A9 00
002478  2  A2 08                    ldx #$08               ; A2 08
00247A  2  46 1B                    lsr L001B              ; 46 1B
00247C  2  90 02        L244F:      bcc L2453              ; 90 02
00247E  2  65 D1                    adc L00D1              ; 65 D1
002480  2  6A           L2453:      ror A                  ; 6A
002481  2  66 1B                    ror L001B              ; 66 1B
002483  2  CA                       dex                    ; CA
002484  2  D0 F6                    bne L244F              ; D0 F6
002486  2  60                       rts                    ; 60
002487  2  86 A0        L245A:      stx L00A0              ; 86 A0
002489  2  49 FF        L245C:      eor #$FF               ; 49 FF
00248B  2  4A                       lsr A                  ; 4A
00248C  2  85 1C                    sta L001C              ; 85 1C
00248E  2  A9 00                    lda #$00               ; A9 00
002490  2  A2 10                    ldx #$10               ; A2 10
002492  2  66 1B                    ror L001B              ; 66 1B
002494  2  B0 0B        L2467:      bcs L2474              ; B0 0B
002496  2  65 A0                    adc L00A0              ; 65 A0
002498  2  6A                       ror A                  ; 6A
002499  2  66 1C                    ror L001C              ; 66 1C
00249B  2  66 1B                    ror L001B              ; 66 1B
00249D  2  CA                       dex                    ; CA
00249E  2  D0 F4                    bne L2467              ; D0 F4
0024A0  2  60                       rts                    ; 60
0024A1  2  4A           L2474:      lsr A                  ; 4A
0024A2  2  66 1C                    ror L001C              ; 66 1C
0024A4  2  66 1B                    ror L001B              ; 66 1B
0024A6  2  CA                       dex                    ; CA
0024A7  2  D0 EB                    bne L2467              ; D0 EB
0024A9  2  60                       rts                    ; 60
0024AA  2  A6 87                    ldx L0087              ; A6 87
0024AC  2  86 1B                    stx L001B              ; 86 1B
0024AE  2  A6 25        L2481:      ldx L0025              ; A6 25
0024B0  2  86 A2                    stx L00A2              ; 86 A2
0024B2  2  A6 24        L2485:      ldx L0024              ; A6 24
0024B4  2  86 A1                    stx L00A1              ; 86 A1
0024B6  2  AA           L2489:      tax                    ; AA
0024B7  2  29 7F                    and #$7F               ; 29 7F
0024B9  2  4A                       lsr A                  ; 4A
0024BA  2  85 1B                    sta L001B              ; 85 1B
0024BC  2  8A                       txa                    ; 8A
0024BD  2  45 A0                    eor L00A0              ; 45 A0
0024BF  2  29 80                    and #$80               ; 29 80
0024C1  2  85 D1                    sta L00D1              ; 85 D1
0024C3  2  A5 A0                    lda L00A0              ; A5 A0
0024C5  2  29 7F                    and #$7F               ; 29 7F
0024C7  2  F0 18                    beq L24B4              ; F0 18
0024C9  2  AA                       tax                    ; AA
0024CA  2  CA                       dex                    ; CA
0024CB  2  86 06                    stx L0006              ; 86 06
0024CD  2  A9 00                    lda #$00               ; A9 00
0024CF  2  A2 07                    ldx #$07               ; A2 07
0024D1  2  90 02        L24A4:      bcc L24A8              ; 90 02
0024D3  2  65 06                    adc L0006              ; 65 06
0024D5  2  6A           L24A8:      ror A                  ; 6A
0024D6  2  66 1B                    ror L001B              ; 66 1B
0024D8  2  CA                       dex                    ; CA
0024D9  2  D0 F6                    bne L24A4              ; D0 F6
0024DB  2  4A                       lsr A                  ; 4A
0024DC  2  66 1B                    ror L001B              ; 66 1B
0024DE  2  05 D1                    ora L00D1              ; 05 D1
0024E0  2  60                       rts                    ; 60
0024E1  2  85 1B        L24B4:      sta L001B              ; 85 1B
0024E3  2  60                       rts                    ; 60
0024E4  2  20 B6 24     L24B7:      jsr L2489              ; 20 89 24
0024E7  2  85 A2                    sta L00A2              ; 85 A2
0024E9  2  A5 1B                    lda L001B              ; A5 1B
0024EB  2  85 A1                    sta L00A1              ; 85 A1
0024ED  2  60                       rts                    ; 60
0024EE  2  B6 53        L24C1:      ldx L0053,Y            ; Galaxy data
0024F0  2  86 A0                    stx L00A0              ; 86 A0
0024F2  2  A5 31                    lda L0031              ; Get x1
0024F4  2  20 E4 24                 jsr L24B7              ; 20 B7 24
0024F7  2  B6 55                    ldx L0055,Y            ; B6 55
0024F9  2  86 A0                    stx L00A0              ; 86 A0
0024FB  2  A5 32                    lda L0032              ; Get y1
0024FD  2  20 0A 25                 jsr L24DD              ; 20 DD 24
002500  2  85 A2                    sta L00A2              ; 85 A2
002502  2  86 A1                    stx L00A1              ; 86 A1
002504  2  B6 57                    ldx L0057,Y            ; B6 57
002506  2  86 A0                    stx L00A0              ; 86 A0
002508  2  A5 33                    lda L0033              ; A5 33
00250A  2  20 B6 24     L24DD:      jsr L2489              ; 20 89 24
00250D  2               
00250D  2  85 06        L24E0:      sta L0006              ; 85 06
00250F  2  29 80                    and #$80               ; 29 80
002511  2  85 D1                    sta L00D1              ; 85 D1
002513  2  45 A2                    eor L00A2              ; 45 A2
002515  2  30 0D                    bmi L24F7              ; 30 0D
002517  2  A5 A1                    lda L00A1              ; A5 A1
002519  2  18                       clc                    ; 18
00251A  2  65 1B                    adc L001B              ; 65 1B
00251C  2  AA                       tax                    ; AA
00251D  2  A5 A2                    lda L00A2              ; A5 A2
00251F  2  65 06                    adc L0006              ; 65 06
002521  2  05 D1                    ora L00D1              ; 05 D1
002523  2  60                       rts                    ; 60
002524  2               
002524  2  A5 A2        L24F7:      lda L00A2              ; A5 A2
002526  2  29 7F                    and #$7F               ; 29 7F
002528  2  85 8F                    sta L008F              ; 85 8F
00252A  2  A5 1B                    lda L001B              ; A5 1B
00252C  2  38                       sec                    ; 38
00252D  2  E5 A1                    sbc L00A1              ; E5 A1
00252F  2  AA                       tax                    ; AA
002530  2  A5 06                    lda L0006              ; A5 06
002532  2  29 7F                    and #$7F               ; 29 7F
002534  2  E5 8F                    sbc L008F              ; E5 8F
002536  2  B0 0E                    bcs L2519              ; B0 0E
002538  2  85 8F                    sta L008F              ; 85 8F
00253A  2  8A                       txa                    ; 8A
00253B  2  49 FF                    eor #$FF               ; 49 FF
00253D  2  69 01                    adc #$01               ; 69 01
00253F  2  AA                       tax                    ; AA
002540  2  A9 00                    lda #$00               ; A9 00
002542  2  E5 8F                    sbc L008F              ; E5 8F
002544  2  09 80                    ora #$80               ; 09 80
002546  2  45 D1        L2519:      eor L00D1              ; 45 D1
002548  2  60                       rts                    ; 60
002549  2               
002549  2  86 A0        L251C:      stx L00A0              ; 86 A0
00254B  2  49 80                    eor #$80               ; 49 80
00254D  2  20 0A 25                 jsr L24DD              ; 20 DD 24
002550  2  AA                       tax                    ; AA
002551  2  29 80                    and #$80               ; 29 80
002553  2  85 D1                    sta L00D1              ; 85 D1
002555  2  8A                       txa                    ; 8A
002556  2  29 7F                    and #$7F               ; 29 7F
002558  2  A2 FE                    ldx #$FE               ; A2 FE
00255A  2  86 06                    stx L0006              ; 86 06
00255C  2  0A           L252F:      asl A                  ; 0A
00255D  2               
00255D  2  C9 60                    cmp #$60               ; C9 60
00255F  2               
00255F  2  90 02                    bcc L2536              ; 90 02
002561  2  E9 60                    sbc #$60               ; E9 60
002563  2  26 06        L2536:      rol L0006              ; 26 06
002565  2  B0 F5                    bcs L252F              ; B0 F5
002567  2  A5 06                    lda L0006              ; A5 06
002569  2  05 D1                    ora L00D1              ; 05 D1
00256B  2  60                       rts                    ; 60
00256C  2               
00256C  2  B9 B9 0C     L253F:      lda L0CB9,Y            ; Get stars Z
00256F  2  85 A0        L2542:      sta L00A0              ; 85 A0
002571  2  A5 8C                    lda L008C              ; Get speed
002573  2  A2 08        L2546:      ldx #$08               ; A2 08
002575  2  0A                       asl A                  ; 0A
002576  2  85 1B                    sta L001B              ; 85 1B
002578  2  A9 00                    lda #$00               ; A9 00
00257A  2  2A           L254D:      rol A                  ; 2A
00257B  2  B0 04                    bcs L2554              ; B0 04
00257D  2  C5 A0                    cmp L00A0              ; C5 A0
00257F  2  90 03                    bcc L2557              ; 90 03
002581  2  E5 A0        L2554:      sbc L00A0              ; E5 A0
002583  2  38                       sec                    ; 38
002584  2  26 1B        L2557:      rol L001B              ; 26 1B
002586  2  CA                       dex                    ; CA
002587  2  D0 F1                    bne L254D              ; D0 F1
002589  2  4C B5 47                 jmp L462F              ; 4C 2F 46
00258C  2  85 1D        L255F:      sta L001D              ; 85 1D
00258E  2  A5 59                    lda L0059              ; A5 59
002590  2  85 A0                    sta L00A0              ; 85 A0
002592  2  A5 5A                    lda L005A              ; A5 5A
002594  2  85 A1                    sta L00A1              ; 85 A1
002596  2  A5 5B                    lda L005B              ; A5 5B
002598  2  85 A2                    sta L00A2              ; 85 A2
00259A  2  A5 1B                    lda L001B              ; A5 1B
00259C  2  09 01                    ora #$01               ; 09 01
00259E  2  85 1B                    sta L001B              ; 85 1B
0025A0  2  A5 1D                    lda L001D              ; A5 1D
0025A2  2  45 A2                    eor L00A2              ; 45 A2
0025A4  2  29 80                    and #$80               ; 29 80
0025A6  2  85 D1                    sta L00D1              ; 85 D1
0025A8  2  A0 00                    ldy #$00               ; A0 00
0025AA  2  A5 1D                    lda L001D              ; A5 1D
0025AC  2  29 7F                    and #$7F               ; 29 7F
0025AE  2  C9 40        L2581:      cmp #$40               ; C9 40
0025B0  2  B0 08                    bcs L258D              ; B0 08
0025B2  2  06 1B                    asl L001B              ; 06 1B
0025B4  2  26 1C                    rol L001C              ; 26 1C
0025B6  2  2A                       rol A                  ; 2A
0025B7  2  C8                       iny                    ; C8
0025B8  2  D0 F4                    bne L2581              ; D0 F4
0025BA  2  85 1D        L258D:      sta L001D              ; 85 1D
0025BC  2  A5 A2                    lda L00A2              ; A5 A2
0025BE  2  29 7F                    and #$7F               ; 29 7F
0025C0  2  30 08                    bmi L259D              ; 30 08
0025C2  2  88           L2595:      dey                    ; 88
0025C3  2  06 A0                    asl L00A0              ; 06 A0
0025C5  2  26 A1                    rol L00A1              ; 26 A1
0025C7  2  2A                       rol A                  ; 2A
0025C8  2  10 F8                    bpl L2595              ; 10 F8
0025CA  2  85 A0        L259D:      sta L00A0              ; 85 A0
0025CC  2  A9 FE                    lda #$FE               ; A9 FE
0025CE  2  85 A1                    sta L00A1              ; 85 A1
0025D0  2  A5 1D                    lda L001D              ; A5 1D
0025D2  2  20 B9 47                 jsr L4633              ; 20 33 46
0025D5  2  A9 00                    lda #$00               ; A9 00
0025D7  2  85 3E                    sta L003E              ; 85 3E
0025D9  2  85 3F                    sta L003F              ; 85 3F
0025DB  2  85 40                    sta L0040              ; 85 40
0025DD  2  98                       tya                    ; 98
0025DE  2  10 1E                    bpl L25D1              ; 10 1E
0025E0  2  A5 A1                    lda L00A1              ; A5 A1
0025E2  2  0A           L25B5:      asl A                  ; 0A
0025E3  2  26 3E                    rol L003E              ; 26 3E
0025E5  2  26 3F                    rol L003F              ; 26 3F
0025E7  2  26 40                    rol L0040              ; 26 40
0025E9  2  C8                       iny                    ; C8
0025EA  2  D0 F6                    bne L25B5              ; D0 F6
0025EC  2  85 3D                    sta L003D              ; 85 3D
0025EE  2  A5 40                    lda L0040              ; A5 40
0025F0  2  05 D1                    ora L00D1              ; 05 D1
0025F2  2  85 40                    sta L0040              ; 85 40
0025F4  2  60                       rts                    ; 60
0025F5  2  A5 A1        L25C8:      lda L00A1              ; A5 A1
0025F7  2  85 3D                    sta L003D              ; 85 3D
0025F9  2  A5 D1                    lda L00D1              ; A5 D1
0025FB  2  85 40                    sta L0040              ; 85 40
0025FD  2  60                       rts                    ; 60
0025FE  2  F0 F5        L25D1:      beq L25C8              ; F0 F5
002600  2  A5 A1                    lda L00A1              ; A5 A1
002602  2  4A           L25D5:      lsr A                  ; 4A
002603  2  88                       dey                    ; 88
002604  2  D0 FC                    bne L25D5              ; D0 FC
002606  2  85 3D                    sta L003D              ; 85 3D
002608  2  A5 D1                    lda L00D1              ; A5 D1
00260A  2  85 40                    sta L0040              ; 85 40
00260C  2  60                       rts                    ; 60
00260D  2  AD 1E 0D     L25E0:      lda L0D1E              ; AD 1E 0D
002610  2  D0 0C                    bne L25F1              ; D0 0C
002612  2  8A                       txa                    ; 8A
002613  2  10 03                    bpl L25EB              ; 10 03
002615  2  CA                       dex                    ; CA
002616  2  30 06                    bmi L25F1              ; 30 06
002618  2  E8           L25EB:      inx                    ; E8
002619  2  D0 03                    bne L25F1              ; D0 03
00261B  2  CA                       dex                    ; CA
00261C  2  F0 FA                    beq L25EB              ; F0 FA
00261E  2  60           L25F1:      rts                    ; 60
00261F  2               
00261F  2  85 D1        L25F2:      sta L00D1              ; 85 D1
002621  2  8A                       txa                    ; 8A
002622  2  18                       clc                    ; 18
002623  2  65 D1                    adc L00D1              ; 65 D1
002625  2  AA                       tax                    ; AA
002626  2  90 02                    bcc L25FD              ; 90 02
002628  2  A2 FF                    ldx #$FF               ; A2 FF
00262A  2  10 10        L25FD:      bpl L260F              ; 10 10
00262C  2  A5 D1        L25FF:      lda L00D1              ; A5 D1
00262E  2  60                       rts                    ; 60
00262F  2               
00262F  2  85 D1        L2602:      sta L00D1              ; 85 D1
002631  2  8A                       txa                    ; 8A
002632  2  38                       sec                    ; 38
002633  2  E5 D1                    sbc L00D1              ; E5 D1
002635  2  AA                       tax                    ; AA
002636  2  B0 02                    bcs L260D              ; B0 02
002638  2  A2 01                    ldx #$01               ; A2 01
00263A  2  10 F0        L260D:      bpl L25FF              ; 10 F0
00263C  2               
00263C  2  AD 1F 0D     L260F:      lda L0D1F              ; AD 1F 0D
00263F  2  D0 EB                    bne L25FF              ; D0 EB
002641  2  A2 80                    ldx #$80               ; A2 80
002643  2  30 E7                    bmi L25FF              ; 30 E7
002645  2               
002645  2               ;---------------------------------------------
002645  2               ; ARCTAN, A=TAN-1(1B/A0)
002645  2               ;---------------------------------------------
002645  2               
002645  2  A5 1B                    lda L001B              ; A5 1B
002647  2  45 A0                    eor L00A0              ; 45 A0
002649  2  85 06                    sta L0006              ; 85 06
00264B  2  A5 A0                    lda L00A0              ; A5 A0
00264D  2  F0 25                    beq L2647              ; F0 25
00264F  2  0A                       asl A                  ; 0A
002650  2  85 A0                    sta L00A0              ; 85 A0
002652  2  A5 1B                    lda L001B              ; A5 1B
002654  2  0A                       asl A                  ; 0A
002655  2  C5 A0                    cmp L00A0              ; C5 A0
002657  2  B0 09                    bcs L2635              ; B0 09
002659  2  20 7E 26                 jsr L2651              ; 20 51 26
00265C  2  38                       sec                    ; 38
00265D  2  A6 06        L2630:      ldx L0006              ; A6 06
00265F  2  30 16                    bmi L264A              ; 30 16
002661  2  60                       rts                    ; 60
002662  2               
002662  2  A6 A0        L2635:      ldx L00A0              ; A6 A0
002664  2  85 A0                    sta L00A0              ; 85 A0
002666  2  86 1B                    stx L001B              ; 86 1B
002668  2  8A                       txa                    ; 8A
002669  2  20 7E 26                 jsr L2651              ; 20 51 26
00266C  2  85 D1                    sta L00D1              ; 85 D1
00266E  2  A9 40                    lda #$40               ; A9 40
002670  2  E5 D1                    sbc L00D1              ; E5 D1
002672  2  B0 E9                    bcs L2630              ; B0 E9
002674  2  A9 3F        L2647:      lda #$3F               ; A9 3F
002676  2  60                       rts                    ; 60
002677  2               
002677  2  85 D1        L264A:      sta L00D1              ; 85 D1
002679  2  A9 80                    lda #$80               ; A9 80
00267B  2  E5 D1                    sbc L00D1              ; E5 D1
00267D  2  60                       rts                    ; 60
00267E  2               
00267E  2  20 B1 47     L2651:      jsr L462B              ; 20 2B 46
002681  2  A5 A1                    lda L00A1              ; A5 A1
002683  2  4A                       lsr A                  ; 4A
002684  2  4A                       lsr A                  ; 4A
002685  2  4A                       lsr A                  ; 4A
002686  2  AA                       tax                    ; AA
002687  2  BD 8B 26                 lda L265E,X            ; BD 5E 26
00268A  2  60                       rts                    ; 60
00268B  2               
00268B  2               ;--------------------------------------------
00268B  2               ; ATN table
00268B  2               ;--------------------------------------------
00268B  2               
00268B  2  00 01 03 04  L265E:      .byte $00,$01,$03,$04,$05,$06,$08,$09
00268F  2  05 06 08 09  
002693  2  0A 0B 0C 0D              .byte $0A,$0B,$0C,$0D,$0F,$10,$11,$12
002697  2  0F 10 11 12  
00269B  2  13 14 15 16              .byte $13,$14,$15,$16,$17,$18,$19,$19
00269F  2  17 18 19 19  
0026A3  2  1A 1B 1C 1D              .byte $1A,$1B,$1C,$1D,$1D,$1E,$1F,$1F
0026A7  2  1D 1E 1F 1F  
0026AB  2               
0026AB  2               ;--------------------------------------------
0026AB  2               ; WARP
0026AB  2               ;--------------------------------------------
0026AB  2               
0026AB  2  AD F6 0B     L267E:      lda L0BF6              ; AD F6 0B
0026AE  2  18                       clc                    ; 18
0026AF  2  6D F8 0B                 adc L0BF8              ; 6D F8 0B
0026B2  2  18                       clc                    ; 18
0026B3  2  6D F7 0B                 adc L0BF7              ; 6D F7 0B
0026B6  2  AA                       tax                    ; AA
0026B7  2  BD E2 0B                 lda L0BE2,X            ; BD E2 0B
0026BA  2  0D F4 0B                 ora L0BF4              ; 0D F4 0B
0026BD  2  D0 45                    bne L26D7              ; D0 45
0026BF  2  AC 08 09                 ldy L0908              ; AC 08 09
0026C2  2  30 08                    bmi L269F              ; 30 08
0026C4  2  A8                       tay                    ; A8
0026C5  2  20 2A 11                 jsr L112A              ; 20 2A 11
0026C8  2  C9 02                    cmp #$02               ; C9 02
0026CA  2  90 38                    bcc L26D7              ; 90 38
0026CC  2  AC 2C 09     L269F:      ldy L092C              ; AC 2C 09
0026CF  2  30 09                    bmi L26AD              ; 30 09
0026D1  2  A0 24                    ldy #$24               ; A0 24
0026D3  2  20 28 11                 jsr L1128              ; 20 28 11
0026D6  2  C9 02                    cmp #$02               ; C9 02
0026D8  2  90 2A                    bcc L26D7              ; 90 2A
0026DA  2  A9 81        L26AD:      lda #$81               ; A9 81
0026DC  2  85 A2                    sta L00A2              ; 85 A2
0026DE  2  85 A1                    sta L00A1              ; 85 A1
0026E0  2  85 1B                    sta L001B              ; 85 1B
0026E2  2  AD 08 09                 lda L0908              ; AD 08 09
0026E5  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0026E8  2  8D 08 09                 sta L0908              ; 8D 08 09
0026EB  2  AD 2C 09                 lda L092C              ; AD 2C 09
0026EE  2  20 0D 25                 jsr L24E0              ; 20 E0 24
0026F1  2  8D 2C 09                 sta L092C              ; 8D 2C 09
0026F4  2               
0026F4  2  A9 01                    lda #$01               ; A9 01
0026F6  2  85 A6                    sta L00A6              ; Headerstatus
0026F8  2  85 A9                    sta L00A9              ; 85 A9
0026FA  2  4A                       lsr A                  ; 4A
0026FB  2  8D 05 0C                 sta L0C05              ; 8D 05 0C
0026FE  2  AE 01 0C                 ldx L0C01              ; Current view
002701  2  4C F2 27                 jmp L27C5              ; 4C C5 27
002704  2               
002704  2  A9 28        L26D7:      lda #$28               ; ???
002706  2  4C 17 44                 jmp L4281              ; Make sound
002709  2               
002709  2               ;--------------------------------------------
002709  2               ; Plot laserbeams
002709  2               ;--------------------------------------------
002709  2               
002709  2               L26DC:
002709  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
00270C  2  29 07                    and #$07               ; Mask 0-7
00270E  2  69 3F                    adc #$43-4             ; Y+96-4 Centre of screen
002710  2  8D D6 0C                 sta L0CD6              ; Laser Y
002713  2               
002713  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
002716  2  29 07                    and #$07               ; Mask 0-7
002718  2  69 7C                    adc #$80-4             ; X=128-4 Centre of screen
00271A  2  8D D5 0C                 sta L0CD5              ; Laser X
00271D  2               
00271D  2  AD 03 0C                 lda L0C03              ; AD 03 0C
002720  2  69 08                    adc #$08               ; 69 08
002722  2  8D 03 0C                 sta L0C03              ; 8D 03 0C
002725  2  20 51 38                 jsr L372B              ; 20 2B 37
002728  2               L26FB:
002728  2  A5 A6                    lda L00A6              ; Headerstatus
00272A  2  D0 36                    bne L2735              ; D0 36
00272C  2               
00272C  2  A9 20                    lda #$20               ; X-Laser1 left
00272E  2  A0 E0                    ldy #$E0               ; X-Laser1 right
002730  2  20 37 27                 jsr L270A              ; Plot 2 laserbeams
002733  2               
002733  2  A9 30                    lda #$30               ; X-Laser2 left
002735  2  A0 D0                    ldy #$D0               ; X-Laser2 right
002737  2               
002737  2               L270A:                             ; Plot 2 laserbeams
002737  2  85 33                    sta L0033              ; Set x2
002739  2  AD D5 0C                 lda L0CD5              ; Laser X
00273C  2  85 31                    sta L0031              ; Set x1
00273E  2  AD D6 0C                 lda L0CD6              ; Laser Y
002741  2  85 32                    sta L0032              ; Set y1
002743  2  A9 86                    lda #134               ; y2 just above panel
002745  2  85 34                    sta L0034              ; Set y2
002747  2  20 23 16                 jsr L1621              ; Plot line
00274A  2               
00274A  2  AD D5 0C                 lda L0CD5              ; Laser X
00274D  2  85 31                    sta L0031              ; Set x1
00274F  2  AD D6 0C                 lda L0CD6              ; Laser Y
002752  2  85 32                    sta L0032              ; Set y1
002754  2  84 33                    sty L0033              ; Set x2
002756  2  A9 86                    lda #134               ; y2 just above panel
002758  2  85 34                    sta L0034              ; Set y2
00275A  2  4C 23 16                 jmp L1621              ; Plot line
00275D  2               
00275D  2               ;--------------------------------------------
00275D  2               
00275D  2  AE 01 0C     L2730:      ldx L0C01              ; Current view
002760  2  D0 01                    bne L2736              ; D0 01
002762  2  60           L2735:      rts                    ; 60
002763  2               
002763  2               ;--------------------------------------------
002763  2               
002763  2  CA           L2736:      dex                    ; CA
002764  2  D0 31                    bne L276A              ; D0 31
002766  2  A5 55                    lda L0055              ; A5 55
002768  2  49 80                    eor #$80               ; 49 80
00276A  2  85 55                    sta L0055              ; 85 55
00276C  2  A5 5B                    lda L005B              ; A5 5B
00276E  2  49 80                    eor #$80               ; 49 80
002770  2  85 5B                    sta L005B              ; 85 5B
002772  2  A5 5D                    lda L005D              ; A5 5D
002774  2  49 80                    eor #$80               ; 49 80
002776  2  85 5D                    sta L005D              ; 85 5D
002778  2  A5 61                    lda L0061              ; A5 61
00277A  2  49 80                    eor #$80               ; 49 80
00277C  2  85 61                    sta L0061              ; 85 61
00277E  2  A5 63                    lda L0063              ; A5 63
002780  2  49 80                    eor #$80               ; 49 80
002782  2  85 63                    sta L0063              ; 85 63
002784  2  A5 67                    lda L0067              ; A5 67
002786  2  49 80                    eor #$80               ; 49 80
002788  2  85 67                    sta L0067              ; 85 67
00278A  2  A5 69                    lda L0069              ; A5 69
00278C  2  49 80                    eor #$80               ; 49 80
00278E  2  85 69                    sta L0069              ; 85 69
002790  2  A5 6D                    lda L006D              ; A5 6D
002792  2  49 80                    eor #$80               ; 49 80
002794  2  85 6D                    sta L006D              ; 85 6D
002796  2  60                       rts                    ; 60
002797  2               
002797  2  A9 00        L276A:      lda #$00               ; A9 00
002799  2  E0 02                    cpx #$02               ; E0 02
00279B  2  6A                       ror A                  ; 6A
00279C  2  85 BB                    sta L00BB              ; 85 BB
00279E  2  49 80                    eor #$80               ; 49 80
0027A0  2  85 BA                    sta L00BA              ; 85 BA
0027A2  2  A5 53                    lda L0053              ; Galaxy data
0027A4  2  A6 59                    ldx L0059              ; A6 59
0027A6  2  85 59                    sta L0059              ; 85 59
0027A8  2  86 53                    stx L0053              ; Galaxy data
0027AA  2  A5 54                    lda L0054              ; A5 54
0027AC  2  A6 5A                    ldx L005A              ; A6 5A
0027AE  2  85 5A                    sta L005A              ; 85 5A
0027B0  2  86 54                    stx L0054              ; 86 54
0027B2  2  A5 55                    lda L0055              ; A5 55
0027B4  2  45 BA                    eor L00BA              ; 45 BA
0027B6  2  AA                       tax                    ; AA
0027B7  2  A5 5B                    lda L005B              ; A5 5B
0027B9  2  45 BB                    eor L00BB              ; 45 BB
0027BB  2  85 55                    sta L0055              ; 85 55
0027BD  2  86 5B                    stx L005B              ; 86 5B
0027BF  2               
0027BF  2  A0 09                    ldy #$09               ; A0 09
0027C1  2  20 CB 27                 jsr L279E              ; 20 9E 27
0027C4  2               
0027C4  2  A0 0F                    ldy #$0F               ; A0 0F
0027C6  2  20 CB 27                 jsr L279E              ; 20 9E 27
0027C9  2               
0027C9  2  A0 15                    ldy #$15               ; A0 15
0027CB  2  B9 53 00     L279E:      lda L0053,Y            ; Galaxy data
0027CE  2  B6 57                    ldx L0057,Y            ; B6 57
0027D0  2  99 57 00                 sta L0057,Y            ; 99 57 00
0027D3  2  96 53                    stx L0053,Y            ; Galaxy data
0027D5  2  B9 54 00                 lda L0054,Y            ; B9 54 00
0027D8  2  45 BA                    eor L00BA              ; 45 BA
0027DA  2  AA                       tax                    ; AA
0027DB  2  B9 58 00                 lda L0058,Y            ; B9 58 00
0027DE  2  45 BB                    eor L00BB              ; 45 BB
0027E0  2  99 54 00                 sta L0054,Y            ; 99 54 00
0027E3  2  96 58                    stx L0058,Y            ; 96 58
0027E5  2  60           L27B8:      rts                    ; 60
0027E6  2               
0027E6  2               ;--------------------------------------------
0027E6  2               ;
0027E6  2               ;--------------------------------------------
0027E6  2               
0027E6  2  8E 01 0C     L27B9:      stx L0C01              ; Current view
0027E9  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
0027EC  2               
0027EC  2  20 0C 28                 jsr L27DC              ; Sight
0027EF  2               
0027EF  2  4C F4 37                 jmp L36CE              ; New stars
0027F2  2               
0027F2  2               ;--------------------------------------------
0027F2  2               ; Plot view screen
0027F2  2               ;--------------------------------------------
0027F2  2               
0027F2  2               L27C5:
0027F2  2  20 B2 34     	jsr restore_panel	; Chart patch
0027F5  2               
0027F5  2  A9 00                    lda #$00               ; A9 00
0027F7  2  A4 A6                    ldy L00A6              ; Headerstatus
0027F9  2  D0 EB                    bne L27B9              ; D0 EE
0027FB  2  EC 01 0C                 cpx L0C01              ; Current view
0027FE  2  F0 E5                    beq L27B8              ; F0 E8
002800  2               
002800  2  8E 01 0C                 stx L0C01              ; Current view
002803  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
002806  2               
002806  2  20 12 19                 jsr L192D              ; Flip
002809  2               
002809  2  20 1A 38                 jsr L36F4              ; WPSHPS
00280C  2               
00280C  2  AC 01 0C     L27DC:      ldy L0C01              ; Current view
00280F  2  B9 10 03                 lda L0310,Y            ; Laser item
002812  2  F0 D1                    beq L27B8              ; F0 D4
002814  2  A9 80                    lda #$80               ; A9 80
002816  2  85 7F                    sta L007F              ; 85 7F
002818  2               
002818  2               ;            lda #$48               ; Y=$60-24
002818  2  A9 2B                    lda #$2B               ; Y=$43-24 CHAR8x6
00281A  2  85 80                    sta L0080
00281C  2               
00281C  2  A9 14                    lda #$14               ; Length=20
00281E  2  85 81                    sta L0081
002820  2  20 DD 2B                 jsr L2B8D              ; Plot crosshair lines
002823  2               
002823  2  A9 0A                    lda #$0A               ; Length=10
002825  2  85 81                    sta L0081
002827  2  4C DD 2B                 jmp L2B8D              ; Erase middle of crosshair
00282A  2               
00282A  2  A9 01        L27FA:      lda #$01               ; A9 01
00282C  2               
00282C  2               ;--------------------------------------------
00282C  2               ; Clear screen, plot frame
00282C  2               ;--------------------------------------------
00282C  2               
00282C  2  85 A6        L27FC:      sta L00A6              ; Headerstatus
00282E  2               
00282E  2  A9 80        L27FE:      lda #$80
002830  2  85 7E                    sta L007E              ; Set var VDU stat
002832  2               
002832  2  0A                       asl A
002833  2  8D ED 0B                 sta L0BED              ; Plot dir
002836  2  8D 06 0C                 sta L0C06              ; Set var
002839  2  8D 07 0C                 sta L0C07              ; Set var
00283C  2               
00283C  2               ;            ldx #$58               ; Start at $5800
00283C  2  A2 80        	ldx #$80
00283E  2  20 CC 28                 jsr L289B              ; Clear screen
002841  2               
002841  2  A6 2F                    ldx L002F              ; Hyperspace timer
002843  2  F0 03                    beq L2818
002845  2               
002845  2  20 BD 30                 jsr L3048              ; Print Hyperspace timer
002848  2               
002848  2  A0 01        L2818:      ldy #$01               ; A0 01
00284A  2  84 2D                    sty L002D              ; Cursor Y
00284C  2  A5 A6                    lda L00A6              ; Headerstatus
00284E  2  D0 14                    bne L2834              ; D0 14
002850  2               
002850  2  A0 0B                    ldy #$0B               ; A0 0B
002852  2  84 2C                    sty L002C              ; Cursor X
002854  2  AD 01 0C                 lda L0C01              ; Current view
002857  2  09 60                    ora #$60               ; Text FRONT,REAR,LEFT,RIGHT
002859  2  20 F1 35                 jsr L34CB              ; De-token
00285C  2               
00285C  2  20 4D 31                 jsr L30D8              ; Print space
00285F  2               
00285F  2  A9 AF                    lda #$AF               ; Text 'VIEW'
002861  2  20 F1 35                 jsr L34CB              ; De-token
002864  2               
002864  2  A2 00        L2834:      ldx #$00
002866  2  86 7E                    stx L007E              ; VDU stat
002868  2               
002868  2               ;--------------------------------------------
002868  2               ; Draw sidelines + topline
002868  2               ;--------------------------------------------
002868  2               
002868  2  A2 00        L2838:      ldx #$00               ; x1=0
00286A  2  86 31                    stx L0031
00286C  2  86 32                    stx L0032              ; y1=0
00286E  2  CA                       dex
00286F  2  86 33                    stx L0033              ; x2=255
002871  2  20 F7 17                 jsr L1814              ; y2=y1 + plot line
002874  2               
002874  2  A9 02                    lda #$02               ; x1=2
002876  2  85 31                    sta L0031
002878  2  85 33                    sta L0033              ; x2=2
00287A  2  20 7D 28                 jsr L284D              ; Plot line
00287D  2               
00287D  2  20 80 28     L284D:      jsr L2850              ; Plot line
002880  2               
002880  2  A9 00        L2850:      lda #$00               ; y1=0
002882  2  85 32                    sta L0032
002884  2  A9 BF                    lda #$BF               ; y2=191
002886  2               ;	lda #135		; CHAR6x8
002886  2  85 34                    sta L0034
002888  2  C6 31                    dec L0031              ; x1=x1-1
00288A  2  C6 33                    dec L0033              ; x2=x2-1
00288C  2  4C 23 16                 jmp L1621              ; Plot line
00288F  2               
00288F  2               ;--------------------------------------------
00288F  2               
00288F  2  A0 01        L285F:      ldy #$01
002891  2  2C                       .byte $2C
002892  2               
002892  2  A0 1E        L2862:      ldy #$1E
002894  2               
002894  2               ;--------------------------------------------
002894  2               ; Pause X,Y
002894  2               ;--------------------------------------------
002894  2               
002894  2  8A           L2864:      txa                    ; 8A
002895  2  A2 00                    ldx #$00               ; A2 00
002897  2  2C                       .byte $2C
002898  2               
002898  2  D0 FD                    .byte $D0,$FD
00289A  2  2C                       .byte $2C
00289B  2               L286B:
00289B  2  D0 FB                    .byte $D0,$FB
00289D  2  CA                       dex                    ; CA
00289E  2  D0 FB                    bne L286B              ; D0 FB
0028A0  2  AA                       tax                    ; AA
0028A1  2  88                       dey                    ; 88
0028A2  2  D0 F0                    bne L2864              ; D0 F0
0028A4  2  60                       rts                    ; 60
0028A5  2               
0028A5  2  20 70 2E     L2875:      jsr L2E13              ; 20 13 2E
0028A8  2  20 6D 2F                 jsr L2F0D              ; 20 0D 2F
0028AB  2  20 70 2E                 jsr L2E13              ; 20 13 2E
0028AE  2  A5 A6                    lda L00A6              ; Headerstatus
0028B0  2  F0 19                    beq L289A              ; F0 18
0028B2  2               
0028B2  2               ;--------------------------------------------
0028B2  2               ; Wipe last two text lines
0028B2  2               ;--------------------------------------------
0028B2  2               
0028B2  2  20 68 28     L2882:      jsr L2838              ; Wipe text + draw frame
0028B5  2               
0028B5  2               ;            ldx #$71               ; Start $7100
0028B5  2               
0028B5  2  AE 22 16     	ldx wipebyte		; Wipe bottom 2 lines
0028B8  2               
0028B8  2  20 CC 28                 jsr L289B              ; Clear area
0028BB  2               
0028BB  2  20 68 28                 jsr L2838              ; Draw sidelines+topline
0028BE  2               
0028BE  2               ;            lda #$14               ; Y-pos text4
0028BE  2  A9 12                    lda #$12               ; Y-pos text CHAR6x8
0028C0  2  85 2D                    sta L002D              ; Cursor Y
0028C2  2  20 03 2A                 jsr L29B9              ; New line
0028C5  2               
0028C5  2  A0 01                    ldy #$01
0028C7  2  84 2C                    sty L002C              ; Cursor X
0028C9  2  88                       dey
0028CA  2  98                       tya                    ; A=0
0028CB  2  60           L289A:      rts
0028CC  2               
0028CC  2               ;--------------------------------------------
0028CC  2               ; Clear screen from top to panel
0028CC  2               ;
0028CC  2               ; X=hb startaddress
0028CC  2               ;--------------------------------------------
0028CC  2               
0028CC  2               L289B:
0028CC  2  20 9A 42     	jsr L40E0		; Clear page in X
0028CF  2               
0028CF  2  E8           	inx			; Next page
0028D0  2  EC 21 16     	cpx maskbyte			; Check lower limit
0028D3  2  D0 F7        	bne L289B		; Repeat if not reached
0028D5  2               L289D:
0028D5  2  60           	rts
0028D6  2               
0028D6  2               ;--------------------------------------------
0028D6  2               ; Update flight grid scanner
0028D6  2               ;--------------------------------------------
0028D6  2               
0028D6  2               L28A4:
0028D6  2  24 A6        	bit L00A6		; Correction Charts
0028D8  2  70 FB        	bvs L289D
0028DA  2  30 F9        	bmi L289D
0028DC  2               
0028DC  2  A5 72                    lda L0072              ; INWK+31
0028DE  2  29 10                    and #$10               ; 29 10
0028E0  2  F0 E9                    beq L289A              ; F0 F0
0028E2  2               
0028E2  2  A5 AB                    lda L00AB              ; TYPE
0028E4  2  30 E5                    bmi L289A              ; 30 EC
0028E6  2               
0028E6  2  A5 54                    lda L0054              ; INWK+1
0028E8  2  05 57                    ora L0057              ; INWK+4
0028EA  2  05 5A                    ora L005A              ; INWK+7
0028EC  2  29 C0                    and #$C0               ; 29 C0
0028EE  2  D0 DB                    bne L289A              ; D0 E2
0028F0  2               
0028F0  2  A5 54                    lda L0054              ; INWK+1
0028F2  2  18                       clc                    ; 18
0028F3  2  A6 55                    ldx L0055              ; INWK+2
0028F5  2  10 04                    bpl L28C3              ; Skip ip positive
0028F7  2  49 FF                    eor #$FF               ; Else invert
0028F9  2  69 01                    adc #$01
0028FB  2               L28C3:
0028FB  2  69 7B                    adc #$7B               ; 69 7B
0028FD  2  85 31                    sta L0031              ; Set x1
0028FF  2               
0028FF  2  A5 5A                    lda L005A              ; INWK+7
002901  2  4A                       lsr A                  ; 4A
002902  2  4A                       lsr A                  ; 4A
002903  2  18                       clc                    ; 18
002904  2  A6 5B                    ldx L005B              ; INWK+8
002906  2  10 03                    bpl L28D3              ; 10 03
002908  2  49 FF                    eor #$FF               ; 49 FF
00290A  2  38                       sec                    ; 38
00290B  2               L28D3:
00290B  2               ;            adc #$23               ; 69 23
00290B  2               
00290B  2  69 5B                    adc #$5b               ; 69 23
00290D  2               
00290D  2  49 FF                    eor #$FF               ; 49 FF
00290F  2  85 07                    sta L0007              ; 85 07
002911  2               
002911  2  8D 01 70     	sta $7001
002914  2               
002914  2  A5 57                    lda L0057              ; INWK+4
002916  2  4A                       lsr A                  ; 4A
002917  2  18                       clc                    ; 18
002918  2  A6 58                    ldx L0058              ; INWK+5
00291A  2  30 03                    bmi L28E4              ; 30 03
00291C  2  49 FF                    eor #$FF               ; 49 FF
00291E  2  38                       sec                    ; 38
00291F  2  65 07        L28E4:      adc L0007              ; 65 07
002921  2  10 0A                    bpl L28F2              ; 10 0A
002923  2  C9 8A                    cmp #$C2-56               ; C9 C2
002925  2  B0 02                    bcs L28EE              ; B0 02
002927  2  A9 8A                    lda #$C2-56               ; A9 C2
002929  2  C9 BF        L28EE:      cmp #$F7-56               ; C9 F7
00292B  2  90 02                    bcc L28F4              ; 90 02
00292D  2               
00292D  2  A9 BE        L28F2:      lda #$F6-56
00292F  2               
00292F  2               L28F4:
00292F  2               ;	sec
00292F  2               ;	sbc #56              ; Screen correction
00292F  2  85 32                    sta L0032              ; Set y1
002931  2               
002931  2  38                       sec                    ; 38
002932  2  E5 07                    sbc L0007              ; E5 07
002934  2               
002934  2  08                       php                    ; 08
002935  2  48                       pha                    ; 48
002936  2  20 D0 38                 jsr L37A7              ; Plot small line
002939  2               
002939  2  BD 0B 16                 lda L160B,X            ; Get pixel mask
00293C  2  85 31                    sta L0031
00293E  2               
00293E  2  68                       pla                    ; 68
00293F  2  28                       plp                    ; 28
002940  2               
002940  2  AA                       tax                    ; AA
002941  2  F0 1C                    beq L2925              ; F0 1D
002943  2  90 1B                    bcc L2926              ; 90 1C
002945  2               
002945  2  88           L290A:      dey                    ; 88
002946  2  10 04                    bpl L291C              ; 10 0F
002948  2               
002948  2  A0 07                    ldy #$07               ; Top border line cross
00294A  2               ;            lda L0007
00294A  2               ;            sec
00294A  2               ;            sbc #$40
00294A  2               ;            sta L0007
00294A  2               ;            lda L0008
00294A  2               ;            sbc #$01
00294A  2               ;            sta L0008
00294A  2               
00294A  2  C6 08        	dec L0008
00294C  2               L291C:
00294C  2  8C E3 17     	sty tmp_y
00294F  2  B9 DB 17     	lda rowbyte,y
002952  2  A8           	tay
002953  2  A5 31                    lda L0031              ; Get pixel mask
002955  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
002957  2  91 07                    sta (L0007),Y
002959  2  AC E3 17     	ldy tmp_y
00295C  2               
00295C  2  CA                       dex                    ; Next pixel
00295D  2  D0 E6                    bne L290A              ; If not last, repeat
00295F  2  60           L2925:      rts
002960  2               
002960  2               ;----------------------------------------------------
002960  2               
002960  2  20 7A 29     L2926:      jsr L2936              ; Move 1 line down
002963  2               
002963  2  20 7A 29     L2929:      jsr L2936              ; Move 1 line down
002966  2               
002966  2  8C E3 17     	sty tmp_y
002969  2  B9 DB 17     	lda rowbyte,y
00296C  2  A8           	tay
00296D  2  A5 31                    lda L0031              ; Plot pixel on screen
00296F  2  51 07                    eor (L0007),Y
002971  2  91 07                    sta (L0007),Y
002973  2  AC E3 17     	ldy tmp_y
002976  2               
002976  2  E8                       inx                    ; Next pixel
002977  2  D0 EA                    bne L2929              ; If not last, repeat
002979  2  60                       rts
00297A  2               
00297A  2               L2936:
00297A  2  C8                       iny                    ; Move 1 line down
00297B  2  C0 08                    cpy #$08               ; Check bottom border line cross
00297D  2  D0 E0                    bne L2925
00297F  2               
00297F  2  E6 07        	inc L0007
002981  2  E6 07        	inc L0007
002983  2  E6 07        	inc L0007
002985  2  E6 07        	inc L0007
002987  2  A0 00                    ldy #$00               ; Bottom border line cross
002989  2               
002989  2               ;----------------------------------------------------
002989  2               ; Point to 8 lines below
002989  2               ;----------------------------------------------------
002989  2               
002989  2               L293D:
002989  2  C6 07        	dec L0007		; Screen-lb 4 columns to left
00298B  2  C6 07        	dec L0007
00298D  2  C6 07        	dec L0007
00298F  2  C6 07        	dec L0007
002991  2               L293E:
002991  2  E6 08        	inc L0008		; Screen-hb 8 lines below
002993  2  60           	rts
002994  2               
002994  2               ;--------------------------------------------
002994  2               ; Start ELITED.TXT
002994  2               ;--------------------------------------------
002994  2               
002994  2  48           L294A:      pha                    ; 48
002995  2               
002995  2  A2 0C                    ldx #$0C               ; A2 0C
002997  2  EC DC 0C                 cpx L0CDC              ; EC DC 0C
00299A  2  90 0B                    bcc L295D              ; 90 0B
00299C  2  7D 17 03     L2952:      adc L0317,X            ; Inventory
00299F  2  CA                       dex                    ; CA
0029A0  2  10 FA                    bpl L2952              ; 10 FA
0029A2  2  CD 16 03                 cmp L0316              ; CD 16 03
0029A5  2  68                       pla                    ; 68
0029A6  2  60                       rts                    ; 60
0029A7  2               
0029A7  2  AC DC 0C     L295D:      ldy L0CDC              ; AC DC 0C
0029AA  2  79 17 03                 adc L0317,Y            ; Inventory
0029AD  2  C9 C8                    cmp #$C8               ; C9 C8
0029AF  2  68                       pla                    ; 68
0029B0  2  60                       rts                    ; 60
0029B1  2               
0029B1  2               ;--------------------------------------------
0029B1  2               ;
0029B1  2               ;--------------------------------------------
0029B1  2               
0029B1  2  20 B4 29     L2967:      jsr L296A              ; 20 6A 29
0029B4  2               
0029B4  2  20 B7 29     L296A:      jsr L296D              ; 20 6D 29
0029B7  2               
0029B7  2  A5 78        L296D:      lda L0078              ; A5 78
0029B9  2  18                       clc                    ; 18
0029BA  2  65 7A                    adc L007A              ; 65 7A
0029BC  2  AA                       tax                    ; AA
0029BD  2  A5 79                    lda L0079              ; A5 79
0029BF  2  65 7B                    adc L007B              ; 65 7B
0029C1  2  A8                       tay                    ; A8
0029C2  2  A5 7A                    lda L007A              ; A5 7A
0029C4  2  85 78                    sta L0078              ; 85 78
0029C6  2  A5 7B                    lda L007B              ; A5 7B
0029C8  2  85 79                    sta L0079              ; 85 79
0029CA  2  A5 7D                    lda L007D              ; A5 7D
0029CC  2  85 7B                    sta L007B              ; 85 7B
0029CE  2  A5 7C                    lda L007C              ; A5 7C
0029D0  2  85 7A                    sta L007A              ; 85 7A
0029D2  2  18                       clc                    ; 18
0029D3  2  8A                       txa                    ; 8A
0029D4  2  65 7A                    adc L007A              ; 65 7A
0029D6  2  85 7C                    sta L007C              ; 85 7C
0029D8  2  98                       tya                    ; 98
0029D9  2  65 7B                    adc L007B              ; 65 7B
0029DB  2  85 7D                    sta L007D              ; 85 7D
0029DD  2  60                       rts                    ; 60
0029DE  2               
0029DE  2               ;--------------------------------------------
0029DE  2               ; Check planet nr>0
0029DE  2               ;--------------------------------------------
0029DE  2               
0029DE  2  AD F0 0C     L2994:      lda L0CF0              ; Check planet nr
0029E1  2  0D F1 0C                 ora L0CF1
0029E4  2  D0 03                    bne L299F              ; If >0, jump
0029E6  2  E6 2D                    inc L002D              ; Cursor Y
0029E8  2  60                       rts
0029E9  2               
0029E9  2               ;--------------------------------------------
0029E9  2               ; Print distance
0029E9  2               ;--------------------------------------------
0029E9  2               
0029E9  2  A9 BF        L299F:      lda #$BF               ; Text 'DISTANCE'
0029EB  2  20 EC 35                 jsr L34C6              ; De-token + ':'
0029EE  2               
0029EE  2  AE F0 0C                 ldx L0CF0              ; Get distance
0029F1  2  AC F1 0C                 ldy L0CF1
0029F4  2  38                       sec
0029F5  2  20 C5 30                 jsr L3050              ; Print quantity
0029F8  2               
0029F8  2  A9 C3                    lda #$C3               ; Text ' LIGHT YEARS'
0029FA  2               
0029FA  2  20 F1 35     L29B0:      jsr L34CB              ; De-token
0029FD  2  E6 2D        L29B3:      inc L002D              ; Cursor Y
0029FF  2  A9 80        L29B5:      lda #$80               ; Set screen = chart
002A01  2  85 7E                    sta L007E              ; VDU stat
002A03  2               
002A03  2  A9 0D        L29B9:      lda #$0D               ; New line
002A05  2  4C F1 35                 jmp L34CB              ; De-token
002A08  2               
002A08  2               ;--------------------------------------------
002A08  2               
002A08  2  A9 AD        L29BE:      lda #$AD               ; Text 'MAINLY'
002A0A  2  20 F1 35                 jsr L34CB              ; De-token
002A0D  2  4C 4D 2A                 jmp L2A00              ; 4C 00 2A
002A10  2               
002A10  2               ;--------------------------------------------
002A10  2  20 F1 35     L29C6:      jsr L34CB              ; De-token
002A13  2  4C 4D 31                 jmp L30D8              ; Print space
002A16  2               
002A16  2               ;--------------------------------------------
002A16  2               ; F6=Display Data on planet screen
002A16  2               ;--------------------------------------------
002A16  2               
002A16  2               L29CC:
002A16  2  20 B2 34     	jsr restore_panel
002A19  2               
002A19  2  20 2A 28                 jsr L27FA              ; Clear screen+plot frame
002A1C  2               
002A1C  2  A9 09                    lda #$09
002A1E  2  85 2C                    sta L002C              ; Cursor X
002A20  2               
002A20  2  A9 A3                    lda #$A3               ; Text 'DATA ON [planet name]'
002A22  2  20 F1 35                 jsr L34CB              ; De-token
002A25  2               
002A25  2  20 EB 17                 jsr L1806              ; Plot header line
002A28  2               
002A28  2  20 FD 29                 jsr L29B3              ; New line
002A2B  2               
002A2B  2  E6 2D                    inc L002D              ; Cursor Y
002A2D  2  20 DE 29                 jsr L2994              ; Check planetnr>0
002A30  2               
002A30  2               ; Economy
002A30  2               
002A30  2  A9 C2                    lda #$C2               ; Text 'ECONOMY'
002A32  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002A35  2               
002A35  2  AD E9 0C                 lda L0CE9              ; Planet status
002A38  2  18                       clc                    ; Convert to 0,1 or 2
002A39  2  69 01                    adc #$01
002A3B  2  4A                       lsr A
002A3C  2  C9 02                    cmp #$02
002A3E  2  F0 C8                    beq L29BE
002A40  2  AD E9 0C                 lda L0CE9              ; Planet status
002A43  2  90 03                    bcc L29FB
002A45  2  E9 05                    sbc #$05
002A47  2  18                       clc
002A48  2  69 AA        L29FB:      adc #$AA               ; Text RICH,POOR,AVERAGE
002A4A  2  20 F1 35                 jsr L34CB              ; De-token
002A4D  2               
002A4D  2  AD E9 0C     L2A00:      lda L0CE9              ; Get planet status
002A50  2  4A                       lsr A                  ; Convert to 0,1
002A51  2  4A                       lsr A
002A52  2  18                       clc
002A53  2  69 A8                    adc #$A8               ; Text INDUSTRIAL/AGRICULTURAL
002A55  2  20 FA 29                 jsr L29B0              ; De-token + new line
002A58  2               
002A58  2               ; Government
002A58  2               
002A58  2  A9 A2                    lda #$A2               ; Text 'GOVERNMENT'
002A5A  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002A5D  2               
002A5D  2  AD EA 0C                 lda L0CEA              ; Government type (0-7)
002A60  2  18                       clc
002A61  2  69 B1                    adc #$B1               ; Text ANARCHY,FEUDAL,MULTI-GOVERNMENT,DICTATORSHIP
002A63  2                                                  ;      COMMUNIST,CONFEDERACY,DEMOCRACY,CORPORATE STATE
002A63  2  20 FA 29                 jsr L29B0              ; De-token + new line
002A66  2               
002A66  2               ; Tech level
002A66  2               
002A66  2  A9 C4                    lda #$C4               ; Text 'TECH.LEVEL'
002A68  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002A6B  2               
002A6B  2  AE EB 0C                 ldx L0CEB              ; Tech.level
002A6E  2  E8                       inx                    ; Convert to 1-12
002A6F  2  18                       clc
002A70  2  20 1B 1C                 jsr L1C33              ; Print nr
002A73  2  20 FD 29                 jsr L29B3              ; New line
002A76  2               
002A76  2               ; Population
002A76  2               
002A76  2  A9 C0                    lda #$C0               ; Text 'POPULATION'
002A78  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002A7B  2               
002A7B  2  38                       sec
002A7C  2  AE EC 0C                 ldx L0CEC              ; Population
002A7F  2  20 1B 1C                 jsr L1C33              ; Print nr
002A82  2               
002A82  2  A9 C6                    lda #$C6               ; Text ' BILLION'
002A84  2  20 FA 29                 jsr L29B0              ; De-token + new line
002A87  2               
002A87  2  A9 28                    lda #$28               ; Text '('
002A89  2  20 F1 35                 jsr L34CB              ; De-token
002A8C  2               
002A8C  2  A5 7C                    lda L007C              ; Check for human colonials
002A8E  2  30 08                    bmi L2A4B
002A90  2               
002A90  2  A9 BC                    lda #$BC               ; Text 'HUMAN COLONIAL'
002A92  2  20 F1 35                 jsr L34CB              ; De-token
002A95  2  4C D4 2A                 jmp L2A87              ; Forced jump
002A98  2               
002A98  2  A5 7D        L2A4B:      lda L007D              ; A5 7D
002A9A  2  4A                       lsr A                  ; 4A
002A9B  2  4A                       lsr A                  ; 4A
002A9C  2  48                       pha                    ; 48
002A9D  2  29 07                    and #$07               ; 29 07
002A9F  2  C9 03                    cmp #$03               ; C9 03
002AA1  2  B0 05                    bcs L2A5B              ; B0 05
002AA3  2  69 E3                    adc #$E3               ; Text LARGE,FIERCE,SMALL
002AA5  2  20 10 2A                 jsr L29C6              ; De-token+space
002AA8  2               
002AA8  2  68           L2A5B:      pla                    ; 68
002AA9  2  4A                       lsr A                  ; 4A
002AAA  2  4A                       lsr A                  ; 4A
002AAB  2  4A                       lsr A                  ; 4A
002AAC  2  C9 06                    cmp #$06               ; C9 06
002AAE  2  B0 05                    bcs L2A68              ; B0 05
002AB0  2  69 E6                    adc #$E6               ; Text GREEN,RED,YELLOW,BLUE,BLACK,CONFEDERACY
002AB2  2  20 10 2A                 jsr L29C6              ; De-token+space
002AB5  2               
002AB5  2  A5 7B        L2A68:      lda L007B              ; A5 7B
002AB7  2  45 79                    eor L0079              ; 45 79
002AB9  2  29 07                    and #$07               ; 29 07
002ABB  2  85 7F                    sta L007F              ; 85 7F
002ABD  2  C9 06                    cmp #$06               ; C9 06
002ABF  2  B0 05                    bcs L2A79              ; B0 05
002AC1  2  69 EC                    adc #$EC               ; Text SLIMY,BUG-EYED,HORNED,BONY,FAT,FURRY
002AC3  2  20 10 2A                 jsr L29C6              ; De-token+space
002AC6  2               
002AC6  2  A5 7D        L2A79:      lda L007D              ; A5 7D
002AC8  2  29 03                    and #$03               ; 29 03
002ACA  2  18                       clc                    ; 18
002ACB  2  65 7F                    adc L007F              ; 65 7F
002ACD  2  29 07                    and #$07               ; 29 07
002ACF  2  69 F2                    adc #$F2               ; Text RODENT,FROG,LIZARD,LOBSTER,BIRD
002AD1  2               ;                                         HUMANOID,FELINE,INSECT
002AD1  2  20 F1 35                 jsr L34CB              ; De-token
002AD4  2               
002AD4  2  A9 53        L2A87:      lda #$53               ; Text 'S'
002AD6  2  20 F1 35                 jsr L34CB              ; De-token
002AD9  2               
002AD9  2  A9 29                    lda #$29               ; Text ')'
002ADB  2  20 FA 29                 jsr L29B0              ; De-token + new line
002ADE  2               
002ADE  2               ; Gross Productivity
002ADE  2               
002ADE  2  A9 C1                    lda #$C1               ; Text 'GROSS PRODUCTIVITY'
002AE0  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002AE3  2               
002AE3  2  AE EE 0C                 ldx L0CEE              ; Gross productivity-lb
002AE6  2  AC EF 0C                 ldy L0CEF              ; Gross productivity-hb
002AE9  2  20 C4 30                 jsr L304F              ; Print nr
002AEC  2               
002AEC  2  20 4D 31                 jsr L30D8              ; Print space
002AEF  2               
002AEF  2  A9 00                    lda #$00               ; A9 00
002AF1  2  85 7E                    sta L007E              ; VDU stat
002AF3  2  A9 4D                    lda #$4D               ; Text 'M'
002AF5  2  20 F1 35                 jsr L34CB              ; De-token
002AF8  2               
002AF8  2  A9 E2                    lda #$E2               ; Text ' CR '
002AFA  2  20 FA 29                 jsr L29B0              ; De-token + new line
002AFD  2               
002AFD  2               ; Average radius
002AFD  2               
002AFD  2  A9 FA                    lda #$FA               ; Text 'AVERAGE RADIUS'
002AFF  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002B02  2               
002B02  2  A5 7D                    lda L007D              ; A5 7D
002B04  2  A6 7B                    ldx L007B              ; A6 7B
002B06  2  29 0F                    and #$0F               ; 29 0F
002B08  2  18                       clc                    ; 18
002B09  2  69 0B                    adc #$0B               ; 69 0B
002B0B  2  A8                       tay                    ; A8
002B0C  2  20 C5 30                 jsr L3050              ; Print 5 digit nr
002B0F  2               
002B0F  2  20 4D 31                 jsr L30D8              ; Print space
002B12  2               
002B12  2               ;--------------------------------------------
002B12  2               ; Print 'km'
002B12  2               ;--------------------------------------------
002B12  2               
002B12  2  A9 6B                    lda #$6B               ; Character 'k'
002B14  2  20 E0 1C                 jsr L1CF8              ; Print character
002B17  2  A9 6D                    lda #$6D               ; Character 'm'
002B19  2  4C E0 1C                 jmp L1CF8              ; Print character
002B1C  2               
002B1C  2               ;--------------------------------------------
002B1C  2               
002B1C  2  A5 79        L2ACF:      lda L0079              ; A5 79
002B1E  2  29 07                    and #$07               ; 29 07
002B20  2  8D E9 0C                 sta L0CE9              ; Planet status
002B23  2  A5 7A                    lda L007A              ; A5 7A
002B25  2  4A                       lsr A                  ; 4A
002B26  2  4A                       lsr A                  ; 4A
002B27  2  4A                       lsr A                  ; 4A
002B28  2  29 07                    and #$07               ; 29 07
002B2A  2  8D EA 0C                 sta L0CEA              ; Government type
002B2D  2  4A                       lsr A                  ; 4A
002B2E  2  D0 08                    bne L2AEB              ; D0 08
002B30  2  AD E9 0C                 lda L0CE9              ; Planet status
002B33  2  09 02                    ora #$02               ; 09 02
002B35  2  8D E9 0C                 sta L0CE9              ; Planet status
002B38  2  AD E9 0C     L2AEB:      lda L0CE9              ; Planet status
002B3B  2  49 07                    eor #$07               ; 49 07
002B3D  2  18                       clc                    ; 18
002B3E  2  8D EB 0C                 sta L0CEB              ; Tech.level
002B41  2  A5 7B                    lda L007B              ; A5 7B
002B43  2  29 03                    and #$03               ; 29 03
002B45  2  6D EB 0C                 adc L0CEB              ; Tech.level
002B48  2  8D EB 0C                 sta L0CEB              ; Tech.level
002B4B  2  AD EA 0C                 lda L0CEA              ; Government type
002B4E  2  4A                       lsr A                  ; 4A
002B4F  2  6D EB 0C                 adc L0CEB              ; Tech.level
002B52  2  8D EB 0C                 sta L0CEB              ; Tech.level
002B55  2  0A                       asl A                  ; 0A
002B56  2  0A                       asl A                  ; 0A
002B57  2  6D E9 0C                 adc L0CE9              ; Planet status
002B5A  2  6D EA 0C                 adc L0CEA              ; Government type
002B5D  2  69 01                    adc #$01               ; 69 01
002B5F  2  8D EC 0C                 sta L0CEC              ; Population
002B62  2  AD E9 0C                 lda L0CE9              ; Planet status
002B65  2  49 07                    eor #$07               ; 49 07
002B67  2  69 03                    adc #$03               ; 69 03
002B69  2  85 1B                    sta L001B              ; 85 1B
002B6B  2  AD EA 0C                 lda L0CEA              ; Government type
002B6E  2  69 04                    adc #$04               ; 69 04
002B70  2  85 A0                    sta L00A0              ; 85 A0
002B72  2  20 30 24                 jsr L2403              ; 20 03 24
002B75  2  AD EC 0C                 lda L0CEC              ; Population
002B78  2  85 A0                    sta L00A0              ; 85 A0
002B7A  2  20 30 24                 jsr L2403              ; 20 03 24
002B7D  2  06 1B                    asl L001B              ; 06 1B
002B7F  2  2A                       rol A                  ; 2A
002B80  2  06 1B                    asl L001B              ; 06 1B
002B82  2  2A                       rol A                  ; 2A
002B83  2  06 1B                    asl L001B              ; 06 1B
002B85  2  2A                       rol A                  ; 2A
002B86  2  8D EF 0C                 sta L0CEF              ; Gross productivity-hb
002B89  2  A5 1B                    lda L001B              ; A5 1B
002B8B  2  8D EE 0C                 sta L0CEE              ; Gross productivity-lb
002B8E  2  60                       rts                    ; 60
002B8F  2               
002B8F  2               ;--------------------------------------------
002B8F  2               ; F4=Display Galactic chart galaxy screen
002B8F  2               ;--------------------------------------------
002B8F  2               
002B8F  2               L2B42:
002B8F  2  20 CC 34     	jsr backup_panel
002B92  2               
002B92  2  A9 40                    lda #$40
002B94  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
002B97  2               
002B97  2  A9 07                    lda #$07
002B99  2  85 2C                    sta L002C              ; Cursor X
002B9B  2               
002B9B  2  20 62 2F                 jsr L2F02              ; 20 02 2F
002B9E  2               
002B9E  2  A9 C7                    lda #$C7               ; Text 'GALACTIC CHART [galaxy]'
002BA0  2  20 F1 35                 jsr L34CB              ; De-token
002BA3  2               
002BA3  2  20 EB 17                 jsr L1806              ; 20 06 18
002BA6  2  A9 98                    lda #$98               ; A9 98
002BA8  2  20 ED 17                 jsr L180A              ; 20 0A 18
002BAB  2  20 48 2C                 jsr L2BF8              ; 20 F8 2B
002BAE  2  A2 00                    ldx #$00               ; A2 00
002BB0  2  86 A3        L2B60:      stx L00A3              ; 86 A3
002BB2  2  A6 7B                    ldx L007B              ; A6 7B
002BB4  2  A4 7C                    ldy L007C              ; A4 7C
002BB6  2  98                       tya                    ; 98
002BB7  2  09 50                    ora #$50               ; 09 50
002BB9  2  85 A7                    sta L00A7              ; 85 A7
002BBB  2  A5 79                    lda L0079              ; A5 79
002BBD  2  4A                       lsr A                  ; 4A
002BBE  2  18                       clc                    ; 18
002BBF  2  69 18                    adc #$18               ; 69 18
002BC1  2  85 32                    sta L0032              ; Set y1
002BC3  2  20 29 18                 jsr L1846              ; 20 46 18
002BC6  2  20 B1 29                 jsr L2967              ; 20 67 29
002BC9  2  A6 A3                    ldx L00A3              ; A6 A3
002BCB  2  E8                       inx                    ; E8
002BCC  2  D0 E2                    bne L2B60              ; D0 E2
002BCE  2  AD F2 0C                 lda L0CF2              ; AD F2 0C
002BD1  2  85 7F                    sta L007F              ; 85 7F
002BD3  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
002BD6  2  4A                       lsr A                  ; 4A
002BD7  2  85 80                    sta L0080              ; 85 80
002BD9  2  A9 04                    lda #$04               ; A9 04
002BDB  2  85 81                    sta L0081              ; 85 81
002BDD  2               
002BDD  2               ;------------------------------------------
002BDD  2               ; Plot hor + ver crosshair line
002BDD  2               ;------------------------------------------
002BDD  2               
002BDD  2  A9 18        L2B8D:      lda #$18               ; A9 18
002BDF  2  A6 A6                    ldx L00A6              ; Headerstatus
002BE1  2  10 02                    bpl L2B95              ; 10 02
002BE3  2  A9 00                    lda #$00               ; A9 00
002BE5  2  85 84        L2B95:      sta L0084              ; 85 84
002BE7  2  A5 7F                    lda L007F              ; A5 7F
002BE9  2  38                       sec                    ; 38
002BEA  2  E5 81                    sbc L0081              ; E5 81
002BEC  2  B0 02                    bcs L2BA0              ; B0 02
002BEE  2  A9 00                    lda #$00               ; A9 00
002BF0  2  85 31        L2BA0:      sta L0031              ; Set x1
002BF2  2  A5 7F                    lda L007F              ; A5 7F
002BF4  2  18                       clc                    ; 18
002BF5  2  65 81                    adc L0081              ; 65 81
002BF7  2  90 02                    bcc L2BAB              ; 90 02
002BF9  2  A9 FF                    lda #$FF               ; A9 FF
002BFB  2  85 33        L2BAB:      sta L0033              ; 85 33
002BFD  2  A5 80                    lda L0080              ; A5 80
002BFF  2  18                       clc                    ; 18
002C00  2  65 84                    adc L0084              ; 65 84
002C02  2  85 32                    sta L0032              ; Set y1
002C04  2  20 F7 17                 jsr L1814              ; 20 14 18
002C07  2  A5 80                    lda L0080              ; A5 80
002C09  2  38                       sec                    ; 38
002C0A  2  E5 81                    sbc L0081              ; E5 81
002C0C  2  B0 02                    bcs L2BC0              ; B0 02
002C0E  2  A9 00                    lda #$00               ; A9 00
002C10  2  18           L2BC0:      clc                    ; 18
002C11  2  65 84                    adc L0084              ; 65 84
002C13  2  85 32                    sta L0032              ; Set y1
002C15  2  A5 80                    lda L0080              ; A5 80
002C17  2  18                       clc                    ; 18
002C18  2  65 81                    adc L0081              ; 65 81
002C1A  2  65 84                    adc L0084              ; 65 84
002C1C  2  C9 98                    cmp #$98               ; C9 98
002C1E  2  90 06                    bcc L2BD6              ; 90 06
002C20  2  A6 A6                    ldx L00A6              ; Headerstatus
002C22  2  30 02                    bmi L2BD6              ; 30 02
002C24  2  A9 97                    lda #$97               ; A9 97
002C26  2  85 34        L2BD6:      sta L0034              ; 85 34
002C28  2  A5 7F                    lda L007F              ; A5 7F
002C2A  2  85 31                    sta L0031              ; Set x1
002C2C  2  85 33                    sta L0033              ; 85 33
002C2E  2  4C 23 16                 jmp L1621              ; Plot line
002C31  2               
002C31  2               ;--------------------------------------------
002C31  2               ;--------------------------------------------
002C31  2               
002C31  2  A9 68        L2BE1:      lda #$68               ; A9 68
002C33  2  85 7F                    sta L007F              ; 85 7F
002C35  2  A9 5A                    lda #$5A               ; A9 5A
002C37  2  85 80                    sta L0080              ; 85 80
002C39  2  A9 10                    lda #$10               ; A9 10
002C3B  2  85 81                    sta L0081              ; 85 81
002C3D  2  20 DD 2B                 jsr L2B8D              ; Plot crosshair lines
002C40  2  AD 0D 03                 lda L030D              ; Fuel level
002C43  2  85 3D                    sta L003D              ; 85 3D
002C45  2  4C 6C 2C                 jmp L2C1C              ; 4C 1C 2C
002C48  2               
002C48  2               ;--------------------------------------------
002C48  2               ;
002C48  2               ;--------------------------------------------
002C48  2               
002C48  2  A5 A6        L2BF8:      lda L00A6              ; Headerstatus
002C4A  2  30 E5                    bmi L2BE1              ; 30 E5
002C4C  2  AD 0D 03                 lda L030D              ; Fuel level
002C4F  2  4A                       lsr A                  ; 4A
002C50  2  4A                       lsr A                  ; 4A
002C51  2  85 3D                    sta L003D              ; 85 3D
002C53  2  AD 01 03                 lda L0301              ; Get commander home X
002C56  2  85 7F                    sta L007F              ; 85 7F
002C58  2  AD 02 03                 lda L0302              ; Get Commander home Y
002C5B  2  4A                       lsr A                  ; 4A
002C5C  2  85 80                    sta L0080              ; 85 80
002C5E  2  A9 07                    lda #$07               ; A9 07
002C60  2  85 81                    sta L0081              ; 85 81
002C62  2  20 DD 2B                 jsr L2B8D              ; Plot crosshair lines
002C65  2               
002C65  2  A5 80                    lda L0080              ; A5 80
002C67  2  18                       clc                    ; 18
002C68  2  69 18                    adc #$18               ; 69 18
002C6A  2  85 80                    sta L0080              ; 85 80
002C6C  2  A5 7F        L2C1C:      lda L007F              ; A5 7F
002C6E  2  85 D2                    sta L00D2              ; 85 D2
002C70  2  A5 80                    lda L0080              ; A5 80
002C72  2  85 E0                    sta L00E0              ; 85 E0
002C74  2  A2 00                    ldx #$00               ; A2 00
002C76  2  86 E1                    stx L00E1              ; 86 E1
002C78  2  86 D3                    stx L00D3              ; 86 D3
002C7A  2  E8                       inx                    ; E8
002C7B  2  86 77                    stx L0077              ; 86 77
002C7D  2  A2 02                    ldx #$02               ; A2 02
002C7F  2  86 B6                    stx L00B6              ; 86 B6
002C81  2  20 1F 3B                 jsr L39F1              ; Draw circle
002C84  2  60                       rts                    ; 60
002C85  2               
002C85  2               ;--------------------------------------------
002C85  2               ; F1=Display buy materials screen
002C85  2               ;--------------------------------------------
002C85  2               
002C85  2               L2C35:
002C85  2  20 B2 34     	jsr restore_panel
002C88  2               
002C88  2  20 2A 28                 jsr L27FA              ; Clear screen, no header
002C8B  2               
002C8B  2  20 63 31                 jsr L30EE              ; Print 'UNIT PRICE FOR SALE'
002C8E  2               
002C8E  2  C6 2D        	dec L002D		; CHAR8x6
002C90  2               
002C90  2  A9 80                    lda #$80
002C92  2  85 7E                    sta L007E              ; VDU stat
002C94  2               
002C94  2  A9 00                    lda #$00
002C96  2  8D DC 0C                 sta L0CDC              ; Product counter
002C99  2               
002C99  2  20 D4 30     L2C44:      jsr L305F              ; Print line
002C9C  2               
002C9C  2  AD DA 0C                 lda L0CDA              ; AD DA 0C
002C9F  2  D0 0F                    bne L2C5B              ; D0 0F
002CA1  2  4C 14 2D                 jmp L2CBD              ; 4C BD 2C
002CA4  2               
002CA4  2  A0 B0        L2C4F:      ldy #$B0               ; Text 'QUANTITY'
002CA6  2  20 4D 31     L2C51:      jsr L30D8              ; Print space
002CA9  2  98                       tya
002CAA  2  20 CC 30                 jsr L3057              ; De-token + '?'
002CAD  2  20 56 34                 jsr L33D1              ; Sound
002CB0  2               
002CB0  2  20 B2 28     L2C5B:      jsr L2882              ; Wipe text and draw frame
002CB3  2               
002CB3  2  E6 2D        	inc L002D		; CHAR8x6
002CB5  2  A9 CC                    lda #$CC               ; Print 'QUANTITY OF'
002CB7  2  20 F1 35                 jsr L34CB              ; De-token
002CBA  2               
002CBA  2  AD DC 0C                 lda L0CDC              ; Print string $30-$41
002CBD  2  18                       clc
002CBE  2  69 D0                    adc #$D0
002CC0  2  20 F1 35                 jsr L34CB              ; De-token
002CC3  2               
002CC3  2  A9 2F                    lda #$2F               ; Text '/'
002CC5  2  20 F1 35                 jsr L34CB              ; De-token
002CC8  2               
002CC8  2  20 40 31                 jsr L30CB              ; Print unit-type
002CCB  2               
002CCB  2  A9 3F                    lda #$3F               ; Text '?'
002CCD  2  20 F1 35                 jsr L34CB              ; De-token
002CD0  2               
002CD0  2  20 03 2A                 jsr L29B9              ; New line
002CD3  2               
002CD3  2  A2 00                    ldx #$00               ; A2 00
002CD5  2  86 A1                    stx L00A1              ; 86 A1
002CD7  2  A2 0C                    ldx #$0C               ; A2 0C
002CD9  2  86 06                    stx L0006              ; 86 06
002CDB  2               
002CDB  2  20 32 2D                 jsr L2CDB              ; Scan numeric key
002CDE  2  B0 C4                    bcs L2C4F              ; B0 C6
002CE0  2               
002CE0  2  85 1B                    sta L001B              ; 85 1B
002CE2  2  20 94 29                 jsr L294A              ; 20 4A 29
002CE5  2               
002CE5  2  A0 CE                    ldy #$CE               ; Text 'CARGOPRICE'
002CE7  2  B0 BD                    bcs L2C51              ; B0 BF
002CE9  2               
002CE9  2  AD D9 0C                 lda L0CD9              ; AD D9 0C
002CEC  2  85 A0                    sta L00A0              ; 85 A0
002CEE  2  20 D3 32                 jsr L3253              ; 20 53 32
002CF1  2               
002CF1  2  20 8B 32                 jsr L320B              ; 20 0B 32
002CF4  2               
002CF4  2  A0 C5                    ldy #$C5               ; A0 C5
002CF6  2  90 AE                    bcc L2C51              ; 90 B0
002CF8  2  AC DC 0C                 ldy L0CDC              ; Product counter
002CFB  2  A5 A1                    lda L00A1              ; A5 A1
002CFD  2  48                       pha                    ; 48
002CFE  2  18                       clc                    ; 18
002CFF  2  79 17 03                 adc L0317,Y            ; Inventory
002D02  2  99 17 03                 sta L0317,Y            ; Inventory
002D05  2  B9 35 03                 lda L0335,Y            ; B9 35 03
002D08  2  38                       sec                    ; 38
002D09  2  E5 A1                    sbc L00A1              ; E5 A1
002D0B  2  99 35 03                 sta L0335,Y            ; 99 35 03
002D0E  2  68                       pla                    ; 68
002D0F  2  F0 03                    beq L2CBD              ; F0 03
002D11  2  20 4E 34                 jsr L33C9              ; 20 C9 33
002D14  2               
002D14  2  AD DC 0C     L2CBD:      lda L0CDC              ; Product counter
002D17  2  18                       clc                    ; 18
002D18  2               ;            adc #$05               ; 69 05
002D18  2  69 04                    adc #$04               ; CHAR8x6
002D1A  2  85 2D                    sta L002D              ; Cursor Y
002D1C  2               
002D1C  2  A9 00                    lda #$00               ; A9 00
002D1E  2  85 2C                    sta L002C              ; Cursor X
002D20  2               
002D20  2  EE DC 0C                 inc L0CDC              ; Next product
002D23  2  AD DC 0C                 lda L0CDC              ; Get product counter
002D26  2  C9 11                    cmp #$11               ; All products printed?
002D28  2  B0 03                    bcs L2CD6              ; No, repeat
002D2A  2               
002D2A  2  4C 99 2C                 jmp L2C44              ; 4C 44 2C
002D2D  2               
002D2D  2               ;--------------------------------------------
002D2D  2               
002D2D  2  A9 A7        L2CD6:      lda #$A7               ; A9 A7
002D2F  2  4C 80 3F                 jmp L3E52              ; 4C 52 3E
002D32  2               
002D32  2               ;--------------------------------------------
002D32  2               ; Scan numeric key
002D32  2               ;--------------------------------------------
002D32  2               
002D32  2  A2 00        L2CDB:      ldx #$00               ; Reset keyflag
002D34  2  86 A1                    stx L00A1
002D36  2  A2 0C                    ldx #$0C               ; ??
002D38  2  86 06                    stx L0006
002D3A  2               
002D3A  2               L2CE3:
002D3A  2               ;            jsr L43A4              ; Read key in X/A
002D3A  2  20 94 FE     	jsr OSRDCH
002D3D  2  85 A0                    sta L00A0              ; Save key
002D3F  2               
002D3F  2  38                       sec                    ; If '0'<key<'9'
002D40  2  E9 30                    sbc #$30
002D42  2  90 27                    bcc L2D14
002D44  2  C9 0A                    cmp #$0A               ; If key>'9', jump
002D46  2  B0 E5                    bcs L2CD6
002D48  2  85 A2                    sta L00A2              ; Save num key
002D4A  2               
002D4A  2  A5 A1                    lda L00A1              ; Get key
002D4C  2  C9 1A                    cmp #$1A               ; Check key>=26
002D4E  2  B0 1B                    bcs L2D14              ; Yes, jump
002D50  2  0A                       asl A                  ; 0A
002D51  2  85 D1                    sta L00D1              ; 85 D1
002D53  2  0A                       asl A                  ; 0A
002D54  2  0A                       asl A                  ; 0A
002D55  2  65 D1                    adc L00D1              ; 65 D1
002D57  2  65 A2                    adc L00A2              ; 65 A2
002D59  2  85 A1                    sta L00A1              ; 85 A1
002D5B  2  CD DA 0C                 cmp L0CDA              ; CD DA 0C
002D5E  2  F0 02                    beq L2D0B              ; F0 02
002D60  2  B0 09                    bcs L2D14              ; B0 09
002D62  2               
002D62  2  A5 A0        L2D0B:      lda L00A0              ; A5 A0
002D64  2  20 E0 1C                 jsr L1CF8              ; Print character
002D67  2               
002D67  2  C6 06                    dec L0006              ; C6 06
002D69  2  D0 CF                    bne L2CE3              ; D0 CF
002D6B  2               
002D6B  2  A5 A1        L2D14:      lda L00A1              ; A5 A1
002D6D  2  60                       rts                    ; 60
002D6E  2               
002D6E  2               ;--------------------------------------------
002D6E  2               ; F2=Display Sell cargo screen
002D6E  2               ;--------------------------------------------
002D6E  2               
002D6E  2               L2D17:
002D6E  2  20 B2 34     	jsr restore_panel
002D71  2               
002D71  2  A9 04                    lda #$04               ; Sell cargo screen
002D73  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
002D76  2               
002D76  2  A9 04                    lda #$04
002D78  2  85 2D                    sta L002D              ; Cursor Y
002D7A  2  85 2C                    sta L002C              ; Cursor X
002D7C  2               
002D7C  2  A9 CD                    lda #$CD               ; Print 'SELL'
002D7E  2  20 F1 35                 jsr L34CB              ; De-token
002D81  2               
002D81  2  A9 CE                    lda #$CE               ; Text ' CARGO'
002D83  2  20 EC 35                 jsr L34C6              ; De-token + ':'
002D86  2               
002D86  2  A0 00        L2D2C:      ldy #$00
002D88  2  8C DC 0C     L2D2E:      sty L0CDC              ; Product line counter
002D8B  2  BE 17 03                 ldx L0317,Y            ; Inventory
002D8E  2  F0 58                    beq L2D8E              ; If quantity=0, skip
002D90  2               
002D90  2  98                       tya                    ; Ptr=line counter * 4
002D91  2  0A                       asl A
002D92  2  0A                       asl A
002D93  2  A8                       tay
002D94  2  B9 DC 45                 lda L4456,Y            ; Get cargo data
002D97  2  85 80                    sta L0080              ; Store data
002D99  2               
002D99  2  8A                       txa
002D9A  2  48                       pha                    ; Save cargo quantity
002D9B  2               
002D9B  2  20 FF 29                 jsr L29B5              ; New line
002D9E  2               
002D9E  2  18                       clc                    ; Print product name
002D9F  2  AD DC 0C                 lda L0CDC
002DA2  2  69 D0                    adc #$D0
002DA4  2  20 F1 35                 jsr L34CB              ; De-token
002DA7  2               
002DA7  2  A9 0E                    lda #$0E
002DA9  2  85 2C                    sta L002C              ; Cursor X
002DAB  2               
002DAB  2  68                       pla                    ; Get cargo quantity
002DAC  2  AA                       tax
002DAD  2  18                       clc
002DAE  2  20 1B 1C                 jsr L1C33              ; Print quantity
002DB1  2               
002DB1  2  20 40 31                 jsr L30CB              ; Print unit-type
002DB4  2               
002DB4  2  A5 A6                    lda L00A6              ; Headerstatus
002DB6  2  C9 04                    cmp #$04               ; C9 04
002DB8  2  D0 2E                    bne L2D8E              ; D0 2E
002DBA  2               
002DBA  2  A9 CD                    lda #$CD               ; Text ' SELL (Y/N)?'
002DBC  2  20 26 2E                 jsr L2DC9              ; De-token + input
002DBF  2  90 27                    bcc L2D8E              ; 90 27
002DC1  2               
002DC1  2  AD DC 0C                 lda L0CDC              ; Product line counter
002DC4  2  A2 FF                    ldx #$FF
002DC6  2  86 7E                    stx L007E              ; VDU stat
002DC8  2  20 D4 30                 jsr L305F              ; Print product, unit, unit-price and quantity
002DCB  2               
002DCB  2  AC DC 0C                 ldy L0CDC              ; Set inventory ptr
002DCE  2  B9 17 03                 lda L0317,Y            ; Load inventory data
002DD1  2  85 1B                    sta L001B              ; Save data
002DD3  2               
002DD3  2  AD D9 0C                 lda L0CD9              ; AD D9 0C
002DD6  2  85 A0                    sta L00A0              ; 85 A0
002DD8  2  20 D3 32                 jsr L3253              ; 20 53 32
002DDB  2               
002DDB  2  20 B2 32                 jsr L3232              ; Add X,Y to cash
002DDE  2               
002DDE  2  A9 00                    lda #$00
002DE0  2  AC DC 0C                 ldy L0CDC              ; Set inventory ptr
002DE3  2  99 17 03                 sta L0317,Y            ; Reset inventory
002DE6  2  85 7E                    sta L007E              ; VDU stat
002DE8  2               
002DE8  2  AC DC 0C     L2D8E:      ldy L0CDC              ; Get product counter
002DEB  2  C8                       iny                    ; Next product
002DEC  2  C0 11                    cpy #$11               ; Last product?
002DEE  2  B0 03                    bcs L2D99              ; Yes, jump
002DF0  2               
002DF0  2  4C 88 2D                 jmp L2D2E              ; No, repeat
002DF3  2               
002DF3  2  A5 A6        L2D99:      lda L00A6              ; Headerstatus
002DF5  2  C9 04                    cmp #$04               ; C9 04
002DF7  2  D0 06                    bne L2DA5              ; D0 06
002DF9  2               
002DF9  2  20 56 34                 jsr L33D1              ; Sound
002DFC  2  4C 2D 2D                 jmp L2CD6              ; Display Inventory screen
002DFF  2               
002DFF  2  60           L2DA5:      rts
002E00  2               
002E00  2               ;--------------------------------------------
002E00  2               ; F9=Display Inventory screen
002E00  2               ;--------------------------------------------
002E00  2               
002E00  2               L2DA6:
002E00  2  20 B2 34     	jsr restore_panel
002E03  2               
002E03  2  A9 08                    lda #$08
002E05  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
002E08  2               
002E08  2  A9 0B                    lda #$0B
002E0A  2  85 2C                    sta L002C              ; Cursor X
002E0C  2               
002E0C  2  A9 A4                    lda #$A4               ; Text 'INVENTORY'
002E0E  2  20 FA 29                 jsr L29B0              ; De-token + new line
002E11  2               
002E11  2  20 E7 17                 jsr L1802              ; Draw header line
002E14  2               
002E14  2  20 BD 35                 jsr L3497              ; Print FUEL: quantity LIGHT YEARS
002E17  2               
002E17  2  AD 16 03                 lda L0316              ; Check Large Cargo Bay
002E1A  2  C9 1A                    cmp #$1A
002E1C  2  90 05                    bcc L2DC6
002E1E  2               
002E1E  2  A9 6B                    lda #$6B               ; Text 'LARGE CARGO BAY'
002E20  2  20 F1 35                 jsr L34CB              ; De-token
002E23  2               
002E23  2  4C 86 2D     L2DC6:      jmp L2D2C              ; 4C 2C 2D
002E26  2               
002E26  2               ;--------------------------------------------
002E26  2               ; Input (Y/N)?
002E26  2               ; If return pressed, choice is 'n'
002E26  2               ;--------------------------------------------
002E26  2               
002E26  2  48           L2DC9:      pha                    ; Save A
002E27  2  20 4D 31                 jsr L30D8              ; Print space
002E2A  2  68                       pla                    ; Restore A
002E2B  2  20 F1 35                 jsr L34CB              ; De-token
002E2E  2  A9 E1                    lda #$E1               ; Text '(Y/N)?'
002E30  2  20 F1 35                 jsr L34CB              ; De-token
002E33  2               
002E33  2               ;            jsr L43A4              ; Read key in X
002E33  2  20 94 FE     	jsr OSRDCH
002E36  2  09 20                    ora #$20
002E38  2  C9 79                    cmp #$79
002E3A  2  F0 05                    beq L2DE4              ; Jump if Y/y
002E3C  2               
002E3C  2  A9 6E                    lda #$6E               ; Character 'n'
002E3E  2  4C E0 1C                 jmp L1CF8              ; Print character
002E41  2               
002E41  2  20 E0 1C     L2DE4:      jsr L1CF8              ; Print character
002E44  2  38                       sec                    ; 38
002E45  2  60                       rts                    ; 60
002E46  2               
002E46  2               ;--------------------------------------------
002E46  2               
002E46  2               
002E46  2  8A           L2DE9:      txa                    ; 8A
002E47  2  48                       pha                    ; 48
002E48  2  88                       dey                    ; 88
002E49  2  98                       tya                    ; 98
002E4A  2  49 FF                    eor #$FF               ; 49 FF
002E4C  2  48                       pha                    ; 48
002E4D  2  20 70 2E                 jsr L2E13              ; 20 13 2E
002E50  2  68                       pla                    ; 68
002E51  2  85 82                    sta L0082              ; 85 82
002E53  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
002E56  2  20 88 2E                 jsr L2E2B              ; 20 2B 2E
002E59  2  A5 83                    lda L0083              ; A5 83
002E5B  2  8D F3 0C                 sta L0CF3              ; 8D F3 0C
002E5E  2  85 80                    sta L0080              ; 85 80
002E60  2  68                       pla                    ; 68
002E61  2  85 82                    sta L0082              ; 85 82
002E63  2  AD F2 0C                 lda L0CF2              ; AD F2 0C
002E66  2  20 88 2E                 jsr L2E2B              ; 20 2B 2E
002E69  2  A5 83                    lda L0083              ; A5 83
002E6B  2  8D F2 0C                 sta L0CF2              ; 8D F2 0C
002E6E  2  85 7F                    sta L007F              ; 85 7F
002E70  2  A5 A6        L2E13:      lda L00A6              ; Headerstatus
002E72  2  F0 24                    beq L2E3B              ; F0 24
002E74  2  30 23                    bmi L2E3C              ; 30 23
002E76  2  AD F2 0C                 lda L0CF2              ; AD F2 0C
002E79  2  85 7F                    sta L007F              ; 85 7F
002E7B  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
002E7E  2  4A                       lsr A                  ; 4A
002E7F  2  85 80                    sta L0080              ; 85 80
002E81  2  A9 04                    lda #$04               ; A9 04
002E83  2  85 81                    sta L0081              ; 85 81
002E85  2  4C DD 2B                 jmp L2B8D              ; Plot crosshair lines
002E88  2  85 83        L2E2B:      sta L0083              ; 85 83
002E8A  2  18                       clc                    ; 18
002E8B  2  65 82                    adc L0082              ; 65 82
002E8D  2  A6 82                    ldx L0082              ; A6 82
002E8F  2  30 03                    bmi L2E37              ; 30 03
002E91  2  90 03                    bcc L2E39              ; 90 03
002E93  2  60                       rts                    ; 60
002E94  2  90 02        L2E37:      bcc L2E3B              ; 90 02
002E96  2  85 83        L2E39:      sta L0083              ; 85 83
002E98  2  60           L2E3B:      rts                    ; 60
002E99  2               
002E99  2               ;-------------------------------------------
002E99  2               ;-------------------------------------------
002E99  2               
002E99  2  AD F2 0C     L2E3C:      lda L0CF2              ; AD F2 0C
002E9C  2  38                       sec                    ; 38
002E9D  2  ED 01 03                 sbc L0301              ; Commander home X
002EA0  2  C9 26                    cmp #$26               ; Check left border > 38
002EA2  2  90 04                    bcc L2E4B              ; 90 04
002EA4  2  C9 E6                    cmp #$E6               ; Check right border < 230
002EA6  2  90 F0                    bcc L2E3B              ; 90 F0
002EA8  2               
002EA8  2  0A           L2E4B:      asl A                  ; 0A
002EA9  2  0A                       asl A                  ; 0A
002EAA  2  18                       clc                    ; 18
002EAB  2  69 68                    adc #$68               ; 69 68
002EAD  2  85 7F                    sta L007F              ; 85 7F
002EAF  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
002EB2  2  38                       sec                    ; 38
002EB3  2  ED 02 03                 sbc L0302              ; Commander home Y
002EB6  2  C9 26                    cmp #$26               ; Check top border > 38
002EB8  2  90 04                    bcc L2E61              ; 90 04
002EBA  2  C9 DC                    cmp #$DC               ; Check bottom border > 220
002EBC  2  90 DA                    bcc L2E3B              ; 90 DA
002EBE  2               
002EBE  2  0A           L2E61:      asl A                  ; 0A
002EBF  2  18                       clc                    ; 18
002EC0  2  69 5A                    adc #$5A               ; 69 5A
002EC2  2  85 80                    sta L0080              ; 85 80
002EC4  2  A9 08                    lda #$08               ; A9 08
002EC6  2  85 81                    sta L0081              ; 85 81
002EC8  2  4C DD 2B                 jmp L2B8D              ; Plot crosshair lines
002ECB  2               
002ECB  2               ;--------------------------------------------
002ECB  2               ; F5=Display Short Range Chart screen
002ECB  2               ;--------------------------------------------
002ECB  2               
002ECB  2               L2E6E:
002ECB  2  20 CC 34     	jsr backup_panel
002ECE  2               
002ECE  2  A9 80                    lda #$80
002ED0  2  20 2C 28                 jsr L27FC              ; Clear screen, plot frame
002ED3  2               
002ED3  2  A9 07                    lda #$07
002ED5  2  85 2C                    sta L002C              ; Cursor X
002ED7  2               
002ED7  2  A9 BE                    lda #$BE               ; Text 'SHORT RANGE CHART'
002ED9  2  20 E4 17                 jsr L17FF              ; Print header + line
002EDC  2               
002EDC  2  20 48 2C                 jsr L2BF8              ; Draw hyperspace circle
002EDF  2  20 70 2E                 jsr L2E13              ; Plot crosshairs
002EE2  2  20 62 2F                 jsr L2F02              ; Copy vars
002EE5  2               
002EE5  2  A9 00                    lda #$00               ; Reset ptr
002EE7  2               
002EE7  2  85 B8                    sta L00B8
002EE9  2  A2 18                    ldx #$18
002EEB  2  95 53        L2E8B:      sta L0053,X            ;Galaxy data
002EED  2  CA                       dex
002EEE  2  10 FB                    bpl L2E8B
002EF0  2               
002EF0  2  A5 7B        L2E90:      lda L007B              ; A5 7B
002EF2  2  38                       sec                    ; 38
002EF3  2  ED 01 03                 sbc L0301              ; Commander home X
002EF6  2  B0 04                    bcs L2E9C              ; B0 04
002EF8  2  49 FF                    eor #$FF               ; 49 FF
002EFA  2  69 01                    adc #$01               ; 69 01
002EFC  2  C9 14        L2E9C:      cmp #$14               ; C9 14
002EFE  2  B0 58                    bcs L2EF8              ; B0 58
002F00  2  A5 79                    lda L0079              ; A5 79
002F02  2  38                       sec                    ; 38
002F03  2  ED 02 03                 sbc L0302              ; Commander home Y
002F06  2  B0 04                    bcs L2EAC              ; B0 04
002F08  2  49 FF                    eor #$FF               ; 49 FF
002F0A  2  69 01                    adc #$01               ; 69 01
002F0C  2  C9 26        L2EAC:      cmp #$26               ; C9 26
002F0E  2  B0 48                    bcs L2EF8              ; B0 48
002F10  2  A5 7B                    lda L007B              ; A5 7B
002F12  2  38                       sec                    ; 38
002F13  2  ED 01 03                 sbc L0301              ; Commander home X
002F16  2  0A                       asl A                  ; 0A
002F17  2  0A                       asl A                  ; 0A
002F18  2  69 68                    adc #$68               ; 69 68
002F1A  2  85 37                    sta L0037              ; 85 37
002F1C  2  4A                       lsr A                  ; 4A
002F1D  2  4A                       lsr A                  ; 4A
002F1E  2  4A                       lsr A                  ; 4A
002F1F  2  85 2C                    sta L002C              ; Cursor X
002F21  2  E6 2C                    inc L002C              ; Cursor X
002F23  2  A5 79                    lda L0079              ; A5 79
002F25  2  38                       sec                    ; 38
002F26  2  ED 02 03                 sbc L0302              ; Commander home Y
002F29  2  0A                       asl A                  ; 0A
002F2A  2  69 5A                    adc #$5A               ; 69 5A
002F2C  2  85 32                    sta L0032              ; Set y1
002F2E  2  4A                       lsr A                  ; 4A
002F2F  2  4A                       lsr A                  ; 4A
002F30  2  4A                       lsr A                  ; 4A
002F31  2  A8                       tay                    ; A8
002F32  2  B6 53                    ldx L0053,Y            ; Galaxy data
002F34  2  F0 0B                    beq L2EE1              ; F0 0B
002F36  2  C8                       iny                    ; C8
002F37  2  B6 53                    ldx L0053,Y            ; Galaxy data
002F39  2  F0 06                    beq L2EE1              ; F0 06
002F3B  2  88                       dey                    ; 88
002F3C  2  88                       dey                    ; 88
002F3D  2  B6 53                    ldx L0053,Y            ; Galaxy data
002F3F  2  D0 10                    bne L2EF1              ; D0 10
002F41  2  84 2D        L2EE1:      sty L002D              ; Cursor Y
002F43  2  C0 03                    cpy #$03               ; C0 03
002F45  2  90 11                    bcc L2EF8              ; 90 11
002F47  2  CA                       dex                    ; CA
002F48  2  96 53                    stx L0053,Y            ; Galaxy data
002F4A  2  A9 80                    lda #$80               ; A9 80
002F4C  2  85 7E                    sta L007E              ; VDU stat
002F4E  2  20 61 35                 jsr L343B              ; Print planet name
002F51  2               
002F51  2  A5 37        L2EF1:      lda L0037              ; A5 37
002F53  2  85 31                    sta L0031              ; Set x1
002F55  2  20 D0 38                 jsr L37A7              ; Plot small line
002F58  2  20 B1 29     L2EF8:      jsr L2967              ; 20 67 29
002F5B  2  E6 B8                    inc L00B8              ; E6 B8
002F5D  2  F0 0D                    beq L2F0C              ; If end, jump
002F5F  2  4C F0 2E                 jmp L2E90              ; Repeat
002F62  2               
002F62  2               ;--------------------------------------------
002F62  2               ; Copy $0303-$308 -> $0078-$007D
002F62  2               ;--------------------------------------------
002F62  2               
002F62  2  A2 05        L2F02:      ldx #$05               ; A2 05
002F64  2  BD 03 03     L2F04:      lda L0303,X            ; BD 03 03
002F67  2  95 78                    sta L0078,X            ; 95 78
002F69  2  CA                       dex                    ; CA
002F6A  2  10 F8                    bpl L2F04              ; 10 F8
002F6C  2  60           L2F0C:      rts                    ; 60
002F6D  2               
002F6D  2               ;--------------------------------------------
002F6D  2               ; Plot line
002F6D  2               ;--------------------------------------------
002F6D  2               
002F6D  2  20 62 2F     L2F0D:      jsr L2F02              ; Copy coordinates
002F70  2               
002F70  2  A0 7F                    ldy #$7F               ; A0 7F
002F72  2  84 D1                    sty L00D1              ; 84 D1
002F74  2  A9 00                    lda #$00               ; A9 00
002F76  2  85 8F                    sta L008F              ; 85 8F
002F78  2               
002F78  2  A5 7B        L2F18:      lda L007B              ; A5 7B
002F7A  2  38                       sec                    ; 38
002F7B  2  ED F2 0C                 sbc L0CF2              ; ED F2 0C
002F7E  2  B0 04                    bcs L2F24              ; B0 04
002F80  2               
002F80  2  49 FF                    eor #$FF               ; Invert
002F82  2  69 01                    adc #$01
002F84  2               
002F84  2  4A           L2F24:      lsr A                  ; 4A
002F85  2  85 A2                    sta L00A2              ; 85 A2
002F87  2               
002F87  2  A5 79                    lda L0079              ; A5 79
002F89  2  38                       sec                    ; 38
002F8A  2  ED F3 0C                 sbc L0CF3              ; ED F3 0C
002F8D  2  B0 04                    bcs L2F33              ; B0 04
002F8F  2               
002F8F  2  49 FF                    eor #$FF               ; Invert
002F91  2  69 01                    adc #$01
002F93  2               
002F93  2  4A           L2F33:      lsr A                  ; 4A
002F94  2  18                       clc                    ; 18
002F95  2  65 A2                    adc L00A2              ; 65 A2
002F97  2  C5 D1                    cmp L00D1              ; C5 D1
002F99  2  B0 0B                    bcs L2F46              ; B0 0B
002F9B  2               
002F9B  2  85 D1                    sta L00D1              ; 85 D1
002F9D  2               
002F9D  2  A2 05                    ldx #$05               ; Switch p1<>p2
002F9F  2  B5 78        L2F3F:      lda L0078,X
002FA1  2  95 7F                    sta L007F,X
002FA3  2  CA                       dex
002FA4  2  10 F9                    bpl L2F3F
002FA6  2               
002FA6  2  20 B1 29     L2F46:      jsr L2967              ; 20 67 29
002FA9  2               
002FA9  2  E6 8F                    inc L008F              ; E6 8F
002FAB  2  D0 CB                    bne L2F18              ; D0 CB
002FAD  2               
002FAD  2  A2 05                    ldx #$05               ; Switch p2<>p1
002FAF  2  B5 7F        L2F4F:      lda L007F,X
002FB1  2  95 78                    sta L0078,X
002FB3  2  CA                       dex
002FB4  2  10 F9                    bpl L2F4F
002FB6  2               
002FB6  2  A5 79                    lda L0079              ; A5 79
002FB8  2  8D F3 0C                 sta L0CF3              ; 8D F3 0C
002FBB  2               
002FBB  2  A5 7B                    lda L007B              ; A5 7B
002FBD  2  8D F2 0C                 sta L0CF2              ; 8D F2 0C
002FC0  2               
002FC0  2  38                       sec                    ; 38
002FC1  2  ED 01 03                 sbc L0301              ; Commander home X
002FC4  2  B0 04                    bcs L2F6A              ; B0 04
002FC6  2               
002FC6  2  49 FF                    eor #$FF               ; Invert
002FC8  2  69 01                    adc #$01
002FCA  2               
002FCA  2  20 1D 24     L2F6A:      jsr L23F0              ; 20 F0 23
002FCD  2               
002FCD  2  85 3E                    sta L003E              ; 85 3E
002FCF  2               
002FCF  2  A5 1B                    lda L001B              ; A5 1B
002FD1  2  85 3D                    sta L003D              ; 85 3D
002FD3  2               
002FD3  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
002FD6  2  38                       sec                    ; 38
002FD7  2  ED 02 03                 sbc L0302              ; Commander home Y
002FDA  2  B0 04                    bcs L2F80              ; B0 04
002FDC  2               
002FDC  2  49 FF                    eor #$FF               ; Invert
002FDE  2  69 01                    adc #$01
002FE0  2               
002FE0  2  4A           L2F80:      lsr A                  ; 4A
002FE1  2  20 1D 24                 jsr L23F0              ; 20 F0 23
002FE4  2               
002FE4  2  48                       pha                    ; 48
002FE5  2  A5 1B                    lda L001B              ; A5 1B
002FE7  2  18                       clc                    ; 18
002FE8  2  65 3D                    adc L003D              ; 65 3D
002FEA  2  85 A0                    sta L00A0              ; 85 A0
002FEC  2  68                       pla                    ; 68
002FED  2  65 3E                    adc L003E              ; 65 3E
002FEF  2  85 A1                    sta L00A1              ; 85 A1
002FF1  2  20 7A 47                 jsr L45F4              ; 20 F4 45
002FF4  2  A5 A0                    lda L00A0              ; A5 A0
002FF6  2  0A                       asl A                  ; 0A
002FF7  2  A2 00                    ldx #$00               ; A2 00
002FF9  2  8E F1 0C                 stx L0CF1              ; 8E F1 0C
002FFC  2  2E F1 0C                 rol L0CF1              ; 2E F1 0C
002FFF  2  0A                       asl A                  ; 0A
003000  2  2E F1 0C                 rol L0CF1              ; 2E F1 0C
003003  2  8D F0 0C                 sta L0CF0              ; 8D F0 0C
003006  2  4C 1C 2B                 jmp L2ACF              ; 4C CF 2A
003009  2               
003009  2  20 B2 28     L2FA9:      jsr L2882              ; Wipe text + draw frame
00300C  2  A9 0F                    lda #$0F
00300E  2  85 2C                    sta L002C              ; Cursor X
003010  2  24 A6        	bit L00A6
003012  2  50 07        	bvc L2FB4
003014  2  A2 1B        	ldx #$1b
003016  2  86 2D        	stx L002D
003018  2  4C 1D 30     	jmp L2FB5
00301B  2               L2FB4:
00301B  2  E6 2D        	inc L002D
00301D  2               L2FB5:
00301D  2  4C F1 35                 jmp L34CB              ; De-token
003020  2               
003020  2               ;---------------------------------------------
003020  2               ; Hyperspace handling H-key
003020  2               ;---------------------------------------------
003020  2               
003020  2  A5 AF        L2FB3:      lda L00AF              ; Docked flag
003022  2  D0 E5                    bne L2FA9              ; Docked, jump
003024  2               
003024  2  A5 2F                    lda L002F              ; Hyperspace timer
003026  2  D0 48                    bne L2FFB              ; If countdown running, do nothing
003028  2               
003028  2  2C 01 B0     	bit $b001		; Check CTRL-toets
00302B  2  50 44        	bvc L2FFC		; Pressed, go to Galatcic Hyperspace
00302D  2               
00302D  2  20 A5 28                 jsr L2875              ; 20 75 28
003030  2  AD F0 0C                 lda L0CF0              ; AD F0 0C
003033  2  0D F1 0C                 ora L0CF1              ; 0D F1 0C
003036  2  F0 38                    beq L2FFB              ; F0 30
003038  2               
003038  2  A9 07                    lda #$07
00303A  2  85 2C                    sta L002C              ; Cursor X
00303C  2               
00303C  2               ;            lda #$17               ; 8x8CHAR
00303C  2  A9 15                    lda #$15               ; 8x6CHAR
00303E  2  85 2D                    sta L002D              ; Cursor Y
003040  2               
003040  2  A9 00                    lda #$00               ; A9 00
003042  2  85 7E                    sta L007E              ; VDU stat
003044  2               
003044  2  24 A6        	bit L00A6
003046  2  50 04        	bvc L2FB9
003048  2  A2 1B        	ldx #$1b
00304A  2  86 2D        	stx L002D
00304C  2               L2FB9:
00304C  2  A9 BD                    lda #$BD               ; Print "Hyperspace"
00304E  2  20 F1 35                 jsr L34CB              ; De-token
003051  2               
003051  2  AD F1 0C                 lda L0CF1              ; AD F1 0C
003054  2  D0 74                    bne L3055              ; D0 74
003056  2  AD 0D 03                 lda L030D              ; Fuel level
003059  2  CD F0 0C                 cmp L0CF0              ; CD F0 0C
00305C  2  90 6C                    bcc L3055              ; 90 6C
00305E  2               
00305E  2  A9 2D                    lda #$2D               ; Text '-'
003060  2  20 F1 35                 jsr L34CB              ; De-token
003063  2  20 61 35                 jsr L343B              ; Print planet name
003066  2               
003066  2  A9 0F                    lda #$0F
003068  2  85 2F                    sta L002F              ; Hyperspace timer
00306A  2  85 2E                    sta L002E              ; Hyperspace sub timer
00306C  2  AA                       tax                    ; AA
00306D  2  20 BD 30                 jsr L3048              ; Print Hyperspace timer
003070  2  60           L2FFB:      rts                    ; 60
003071  2               
003071  2               ;---------------------------------------------
003071  2               ; Galactic Hyperspace handling CTRL H-key
003071  2               ;---------------------------------------------
003071  2               
003071  2  AE 2D 03     L2FFC:      ldx L032D              ; Galactic Hyperspace item
003074  2  F0 FA                    beq L2FFB              ; If not available, return
003076  2               
003076  2  E8                       inx                    ; E8
003077  2  8E F0 0C                 stx L0CF0              ; 8E F0 0C
00307A  2  8E F1 0C                 stx L0CF1              ; 8E F1 0C
00307D  2  8E 2D 03                 stx L032D              ; Galactic Hyperspace item
003080  2  8E 34 03                 stx L0334              ; 8E 34 03
003083  2               
003083  2  A2 05                    ldx #$05
003085  2  86 2F                    stx L002F              ; Hyperspace timer
003087  2               
003087  2  EE 0F 03                 inc L030F              ; Galaxy nr
00308A  2  AD 0F 03                 lda L030F              ; Galaxy nr
00308D  2  29 07                    and #$07               ; Max 8 galaxies
00308F  2  8D 0F 03                 sta L030F              ; Galaxy nr
003092  2               
003092  2  BD 03 03     L301D:      lda L0303,X            ; BD 03 03
003095  2  0A                       asl A                  ; 0A
003096  2  3E 03 03                 rol L0303,X            ; 3E 03 03
003099  2  CA                       dex                    ; CA
00309A  2  10 F6                    bpl L301D              ; 10 F6
00309C  2               
00309C  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
00309F  2  8D F2 0C                 sta L0CF2              ; 8D F2 0C
0030A2  2  8E F3 0C                 stx L0CF3              ; 8E F3 0C
0030A5  2  20 4E 32                 jsr L31D4              ; Launch
0030A8  2  20 6D 2F                 jsr L2F0D              ; 20 0D 2F
0030AB  2               
0030AB  2  A9 74                    lda #$74               ; Text 'GALACTIC HYPERSPACE'
0030AD  2  20 48 45                 jsr L43C2              ; Print at bottomline
0030B0  2               
0030B0  2  AD F2 0C     L303B:      lda L0CF2              ; AD F2 0C
0030B3  2  8D 01 03                 sta L0301              ; Set Commander home X
0030B6  2  AD F3 0C                 lda L0CF3              ; AD F3 0C
0030B9  2  8D 02 03                 sta L0302              ; Set Commander home Y
0030BC  2  60                       rts                    ; 60
0030BD  2               
0030BD  2               ;--------------------------------------------
0030BD  2               ; Set location for Hyperspace timer + print
0030BD  2               ;--------------------------------------------
0030BD  2               
0030BD  2  A0 01        L3048:      ldy #$01               ; Set var
0030BF  2  84 2D                    sty L002D		; Cursor Y
0030C1  2  88                       dey
0030C2  2  84 2C                    sty L002C              ; Reset cursor X
0030C4  2               
0030C4  2  18           L304F:      clc
0030C5  2  A9 05        L3050:      lda #$05
0030C7  2  4C 1F 1C                 jmp L1C37              ; ??
0030CA  2               
0030CA  2               ;--------------------------------------------
0030CA  2               ; Print 'RANGE?'
0030CA  2               ;--------------------------------------------
0030CA  2               
0030CA  2  A9 CA        L3055:      lda #$CA               ; Text 'RANGE'
0030CC  2  20 F1 35     L3057:      jsr L34CB              ; De-token
0030CF  2               
0030CF  2  A9 3F                    lda #$3F               ; Text '?'
0030D1  2  4C F1 35                 jmp L34CB              ; De-token
0030D4  2               
0030D4  2               ;--------------------------------------------
0030D4  2               ; Print line with:
0030D4  2               ; product, unit, unit-price and quantity
0030D4  2               ;--------------------------------------------
0030D4  2               
0030D4  2  48           L305F:      pha                    ; Save product counter
0030D5  2  85 83                    sta L0083              ; Save counter
0030D7  2  0A                       asl A
0030D8  2  0A                       asl A
0030D9  2  85 7F                    sta L007F              ; Datablock 4 bytes
0030DB  2               
0030DB  2  A9 01                    lda #$01               ; X-product
0030DD  2  85 2C                    sta L002C              ; Cursor X
0030DF  2               
0030DF  2  68                       pla                    ; Get product ptr
0030E0  2  69 D0                    adc #$D0               ; Text = product
0030E2  2  20 F1 35                 jsr L34CB              ; De-token
0030E5  2               
0030E5  2  A9 0E                    lda #$0E               ; X-Unit
0030E7  2  85 2C                    sta L002C              ; Cursor X
0030E9  2               
0030E9  2  A6 7F                    ldx L007F              ; Set data ptr
0030EB  2  BD DC 45                 lda L4456,X            ; Get unit
0030EE  2  85 80                    sta L0080              ; Save unit
0030F0  2               
0030F0  2  AD 46 03                 lda L0346              ; AD 46 03
0030F3  2  3D DE 45                 and L4458,X            ; 3D 58 44
0030F6  2  18                       clc                    ; 18
0030F7  2  7D DB 45                 adc L4455,X            ; 7D 55 44
0030FA  2  8D D9 0C                 sta L0CD9              ; 8D D9 0C
0030FD  2  20 40 31                 jsr L30CB              ; Print unit-type
003100  2               
003100  2  20 9E 31                 jsr L3124              ; 20 24 31
003103  2               
003103  2  A5 80                    lda L0080              ; A5 80
003105  2  30 08                    bmi L309A              ; 30 08
003107  2  AD D9 0C                 lda L0CD9              ; AD D9 0C
00310A  2  65 82                    adc L0082              ; 65 82
00310C  2  4C 15 31                 jmp L30A0              ; 4C A0 30
00310F  2               
00310F  2  AD D9 0C     L309A:      lda L0CD9              ; AD D9 0C
003112  2  38                       sec                    ; 38
003113  2  E5 82                    sbc L0082              ; E5 82
003115  2               
003115  2  8D D9 0C     L30A0:      sta L0CD9              ; 8D D9 0C
003118  2  85 1B                    sta L001B              ; 85 1B
00311A  2               
00311A  2  A9 00                    lda #$00               ; A9 00
00311C  2  20 D6 32                 jsr L3256              ; 20 56 32
00311F  2               
00311F  2  38                       sec                    ; 38
003120  2  20 C5 30                 jsr L3050              ; 20 50 30
003123  2               
003123  2  A4 83                    ldy L0083              ; A4 83
003125  2  A9 05                    lda #$05               ; A9 05
003127  2  BE 35 03                 ldx L0335,Y            ; BE 35 03
00312A  2  8E DA 0C                 stx L0CDA              ; 8E DA 0C
00312D  2  18                       clc                    ; 18
00312E  2  F0 06                    beq L30C1              ; F0 06
003130  2               
003130  2  20 1D 1C                 jsr L1C35              ; 20 35 1C
003133  2  4C 40 31                 jmp L30CB              ; Print unit-type
003136  2               
003136  2  A5 2C        L30C1:      lda L002C              ; Add 4 to Cursor X
003138  2  69 04                    adc #$04
00313A  2  85 2C                    sta L002C
00313C  2  A9 2D                    lda #$2D               ; Text '-'
00313E  2  D0 0F                    bne L30DA              ; Forced jump
003140  2               
003140  2  A5 80        L30CB:      lda L0080              ; Get unit
003142  2  29 60                    and #$60               ; Filter bit 5/6
003144  2  F0 0C                    beq L30DD              ; If $00, unit='t'
003146  2               
003146  2  C9 20                    cmp #$20               ; Check bit 5
003148  2  F0 0F                    beq L30E4              ; If set, unit='kg'
00314A  2               
00314A  2  20 5E 31                 jsr L30E9              ; Else unit='g'
00314D  2               
00314D  2               ;---------------------------------------------
00314D  2               ; Print ' '
00314D  2               ;---------------------------------------------
00314D  2               
00314D  2  A9 20        L30D8:      lda #$20               ; Char ' '
00314F  2  4C F1 35     L30DA:      jmp L34CB              ; De-token
003152  2               
003152  2               ;---------------------------------------------
003152  2               ; Print 't '
003152  2               ;---------------------------------------------
003152  2               
003152  2  A9 74        L30DD:      lda #$74               ; Character 't'
003154  2  20 E0 1C                 jsr L1CF8              ; Print character
003157  2  90 F4                    bcc L30D8              ; Forced jump
003159  2               
003159  2               ;---------------------------------------------
003159  2               ; Print 'kg'
003159  2               ;---------------------------------------------
003159  2               
003159  2  A9 6B        L30E4:      lda #$6B               ; Character 'k'
00315B  2  20 E0 1C                 jsr L1CF8              ; Print character
00315E  2               
00315E  2  A9 67        L30E9:      lda #$67               ; Character 'g'
003160  2  4C E0 1C                 jmp L1CF8              ; Print character
003163  2               
003163  2               ;---------------------------------------------
003163  2               ; Print '     UNIT  QUANTITY'
003163  2               ;       'UNIT PRICE FOR SALE'
003163  2               ;---------------------------------------------
003163  2               
003163  2  A9 11        L30EE:      lda #$11
003165  2  85 2C                    sta L002C              ; Cursor X
003167  2  A9 FF                    lda #$FF
003169  2  D0 E4                    bne L30DA              ; Forced jump
00316B  2               
00316B  2               ;--------------------------------------------
00316B  2               ; F7=Display planet market prices screen
00316B  2               ;--------------------------------------------
00316B  2               
00316B  2               L30F6:
00316B  2  20 B2 34     	jsr restore_panel
00316E  2               
00316E  2  A9 10                    lda #$10               ; A9 10
003170  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
003173  2  A9 05                    lda #$05
003175  2  85 2C                    sta L002C              ; Cursor X
003177  2               
003177  2  A9 A7                    lda #$A7               ; Text 'LAVE MARKET PRICES'
003179  2  20 E4 17                 jsr L17FF              ; Plot header + line
00317C  2  A9 03                    lda #$03
00317E  2  85 2D                    sta L002D              ; Cursor Y
003180  2  20 63 31                 jsr L30EE              ; Print 'UNIT PRICE FOR SALE'
003183  2               
003183  2  C6 2D        	dec L002D		; CHAR8x6
003185  2               
003185  2  A9 00                    lda #$00               ; A9 00
003187  2  8D DC 0C                 sta L0CDC              ; 8D DC 0C
00318A  2  A2 80        L3110:      ldx #$80               ; A2 80
00318C  2  86 7E                    stx L007E              ; VDU stat
00318E  2  20 D4 30                 jsr L305F              ; 20 5F 30
003191  2               
003191  2  E6 2D                    inc L002D              ; Cursor Y CHAR6x8
003193  2               
003193  2  EE DC 0C                 inc L0CDC              ; EE DC 0C
003196  2  AD DC 0C                 lda L0CDC              ; AD DC 0C
003199  2  C9 11                    cmp #$11               ; C9 11
00319B  2  90 ED                    bcc L3110              ; 90 ED
00319D  2  60                       rts                    ; 60
00319E  2               
00319E  2  A5 80        L3124:      lda L0080              ; A5 80
0031A0  2  29 1F                    and #$1F               ; 29 1F
0031A2  2  AC DB 0C                 ldy L0CDB              ; AC DB 0C
0031A5  2  85 81                    sta L0081              ; 85 81
0031A7  2  18                       clc                    ; 18
0031A8  2  A9 00                    lda #$00               ; A9 00
0031AA  2  8D 45 03                 sta L0345              ; 8D 45 03
0031AD  2  88           L3133:      dey                    ; 88
0031AE  2  30 05                    bmi L313B              ; 30 05
0031B0  2  65 81                    adc L0081              ; 65 81
0031B2  2  4C AD 31                 jmp L3133              ; 4C 33 31
0031B5  2               
0031B5  2  85 82        L313B:      sta L0082              ; 85 82
0031B7  2  60                       rts                    ; 60
0031B8  2               
0031B8  2               ;--------------------------------------------
0031B8  2               ; Set vars $0CE3-$0CE8
0031B8  2               ;--------------------------------------------
0031B8  2               
0031B8  2  20 6D 2F     L313E:      jsr L2F0D              ; 20 0D 2F
0031BB  2  20 B0 30                 jsr L303B              ; 20 3B 30
0031BE  2               
0031BE  2  A2 05                    ldx #$05               ; Copy $0078-$007D
0031C0  2  B5 78        L3146:      lda L0078,X            ; to $0CE3-$0CE8
0031C2  2  9D E3 0C                 sta L0CE3,X
0031C5  2  CA                       dex
0031C6  2  10 F8                    bpl L3146
0031C8  2               
0031C8  2  E8                       inx                    ; Set vars
0031C9  2  8E 05 0C                 stx L0C05
0031CC  2  AD E9 0C                 lda L0CE9              ; Planet status
0031CF  2  8D DB 0C                 sta L0CDB
0031D2  2  AD EB 0C                 lda L0CEB              ; Tech.level
0031D5  2  8D DE 0C                 sta L0CDE
0031D8  2  AD EA 0C                 lda L0CEA              ; Government type
0031DB  2  8D DD 0C                 sta L0CDD
0031DE  2  60                       rts
0031DF  2               
0031DF  2               ;--------------------------------------------
0031DF  2               
0031DF  2  20 52 3E     L3165:      jsr L3D24              ; Randomize $1,$2,$3
0031E2  2  8D 46 03                 sta L0346              ; 8D 46 03
0031E5  2  A2 00                    ldx #$00               ; A2 00
0031E7  2  86 B7                    stx L00B7              ; 86 B7
0031E9  2  BD DC 45     L316F:      lda L4456,X            ; BD 56 44
0031EC  2  85 80                    sta L0080              ; 85 80
0031EE  2  20 9E 31                 jsr L3124              ; 20 24 31
0031F1  2  BD DE 45                 lda L4458,X            ; BD 58 44
0031F4  2  2D 46 03                 and L0346              ; 2D 46 03
0031F7  2  18                       clc                    ; 18
0031F8  2  7D DD 45                 adc L4457,X            ; 7D 57 44
0031FB  2  A4 80                    ldy L0080              ; A4 80
0031FD  2  30 06                    bmi L318B              ; 30 06
0031FF  2  38                       sec                    ; 38
003200  2  E5 82                    sbc L0082              ; E5 82
003202  2  4C 08 32                 jmp L318E              ; 4C 8E 31
003205  2               
003205  2  18           L318B:      clc                    ; 18
003206  2  65 82                    adc L0082              ; 65 82
003208  2  10 02        L318E:      bpl L3192              ; 10 02
00320A  2  A9 00                    lda #$00               ; A9 00
00320C  2  A4 B7        L3192:      ldy L00B7              ; A4 B7
00320E  2               
00320E  2  29 3F                    and #$3F               ; 29 3F
003210  2               
003210  2  99 35 03                 sta L0335,Y            ; 99 35 03
003213  2  C8                       iny                    ; C8
003214  2  98                       tya                    ; 98
003215  2  85 B7                    sta L00B7              ; 85 B7
003217  2  0A                       asl A                  ; 0A
003218  2  0A                       asl A                  ; 0A
003219  2  AA                       tax                    ; AA
00321A  2  C9 3F                    cmp #$3F               ; C9 3F
00321C  2  90 CB                    bcc L316F              ; 90 CB
00321E  2  60           L31A4:      rts                    ; 60
00321F  2               
00321F  2  AD 0D 03     L31A5:      lda L030D              ; Fuel level
003222  2  38                       sec                    ; 38
003223  2  ED F0 0C                 sbc L0CF0              ; ED F0 0C
003226  2  8D 0D 03                 sta L030D              ; Fuel level
003229  2  A5 A6                    lda L00A6              ; Headerstatus
00322B  2  D0 06                    bne L31B9              ; D0 06
00322D  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
003230  2  20 12 22                 jsr L21E5              ; 20 E5 21
003233  2  20 B8 31     L31B9:      jsr L313E              ; 20 3E 31
003236  2  20 DF 31                 jsr L3165              ; 20 65 31
003239  2  20 B1 3D                 jsr L3C83              ; Reset vars
00323C  2  20 D8 37                 jsr L36B2              ; 20 B2 36
00323F  2  A5 A6                    lda L00A6              ; Headerstatus
003241  2  29 3F                    and #$3F               ; 29 3F
003243  2  D0 D9                    bne L31A4              ; D0 D9
003245  2  20 2E 28                 jsr L27FE              ; 20 FE 27
003248  2  A5 A6                    lda L00A6              ; Headerstatus
00324A  2  D0 37                    bne L3203              ; D0 31
00324C  2  E6 A6                    inc L00A6              ; Headerstatus
00324E  2               
00324E  2               ;--------------------------------------------
00324E  2               ; F0=Launch
00324E  2               ;--------------------------------------------
00324E  2               
00324E  2               L31D4:
00324E  2  20 B2 34     	jsr restore_panel
003251  2               
003251  2  A6 AF                   ldx L00AF              ; Docked flag
003253  2  F0 24                    beq L31FC              ; F0 24
003255  2  20 25 22                 jsr L21F8              ; Draw launch tunnel + stars
003258  2               
003258  2  20 B1 3D                 jsr L3C83              ; Reset vars
00325B  2               
00325B  2  20 6D 2F                 jsr L2F0D              ; 20 0D 2F
00325E  2               
00325E  2  E6 5B                    inc L005B              ; E6 5B
003260  2  20 C5 37                 jsr L369F              ; 20 9F 36
003263  2  A9 80                    lda #$80               ; A9 80
003265  2  85 5B                    sta L005B              ; 85 5B
003267  2  E6 5A                    inc L005A              ; E6 5A
003269  2  20 7A 39                 jsr L3858              ; 20 58 38
00326C  2               
00326C  2  A9 0C                    lda #$0C               ; A9 0C
00326E  2  85 8C                    sta L008C              ; Set speed
003270  2  20 63 40                 jsr L3F27              ; 20 27 3F
003273  2               
003273  2  0D 34 03                 ora L0334              ; 0D 34 03
003276  2  8D 34 03                 sta L0334              ; 8D 34 03
003279  2  A2 00        L31FC:      ldx #$00               ; A2 00
00327B  2  86 AF                    stx L00AF              ; Docked flag
00327D  2               
00327D  2  8E 4E 35     	stx freeze		; Chart hack
003280  2               
003280  2  4C F2 27                 jmp L27C5              ; 4C C5 27
003283  2               
003283  2  30 03        L3203:      bmi L3208              ; 30 03
003285  2  4C 8F 2B                 jmp L2B42              ; 4C 42 2B
003288  2               
003288  2  4C CB 2E     L3208:      jmp L2E6E              ; 4C 6E 2E
00328B  2               
00328B  2  86 06        L320B:      stx L0006              ; 86 06
00328D  2  AD 0C 03                 lda L030C              ; Cash
003290  2  38                       sec                    ; 38
003291  2  E5 06                    sbc L0006              ; E5 06
003293  2  8D 0C 03                 sta L030C              ; Cash
003296  2  84 06                    sty L0006              ; 84 06
003298  2  AD 0B 03                 lda L030B              ; Cash
00329B  2  E5 06                    sbc L0006              ; E5 06
00329D  2  8D 0B 03                 sta L030B              ; Cash
0032A0  2  AD 0A 03                 lda L030A              ; Cash
0032A3  2  E9 00                    sbc #$00               ; E9 00
0032A5  2  8D 0A 03                 sta L030A              ; Cash
0032A8  2  AD 09 03                 lda L0309              ; Cash
0032AB  2  E9 00                    sbc #$00               ; E9 00
0032AD  2  8D 09 03                 sta L0309              ; Cash
0032B0  2  B0 20                    bcs L3252              ; B0 20
0032B2  2               
0032B2  2               ;---------------------------------------------
0032B2  2               ; Add price to cash
0032B2  2               ;---------------------------------------------
0032B2  2               
0032B2  2  8A           L3232:      txa                    ; lb-price
0032B3  2  18                       clc
0032B4  2  6D 0C 03                 adc L030C              ; Cash
0032B7  2  8D 0C 03                 sta L030C              ; Cash
0032BA  2               
0032BA  2  98                       tya                    ; hb-price
0032BB  2  6D 0B 03                 adc L030B              ; Cash
0032BE  2  8D 0B 03                 sta L030B              ; Cash
0032C1  2  AD 0A 03                 lda L030A              ; Cash
0032C4  2  69 00                    adc #$00
0032C6  2  8D 0A 03                 sta L030A              ; Cash
0032C9  2  AD 09 03                 lda L0309              ; Cash
0032CC  2  69 00                    adc #$00
0032CE  2  8D 09 03                 sta L0309              ; Cash
0032D1  2  18                       clc
0032D2  2  60           L3252:      rts
0032D3  2               
0032D3  2               ;---------------------------------------------
0032D3  2               
0032D3  2  20 30 24     L3253:      jsr L2403              ; 20 03 24
0032D6  2  06 1B        L3256:      asl L001B              ; 06 1B
0032D8  2  2A                       rol A                  ; 2A
0032D9  2  06 1B                    asl L001B              ; 06 1B
0032DB  2  2A                       rol A                  ; 2A
0032DC  2  A8                       tay                    ; A8
0032DD  2  A6 1B                    ldx L001B              ; A6 1B
0032DF  2  60                       rts                    ; 60
0032E0  2               
0032E0  2  4C 53 41     L3260:      jmp L400D              ; Jump to status screen
0032E3  2               
0032E3  2               ;--------------------------------------------
0032E3  2               ; F3=Display Equip schip screen
0032E3  2               ;--------------------------------------------
0032E3  2               
0032E3  2               L3263:
0032E3  2  20 B2 34     	jsr restore_panel
0032E6  2               
0032E6  2  20 93 1D                 jsr L1D83              ; Update bars + gyro pointers
0032E9  2               
0032E9  2  A9 20                    lda #$20
0032EB  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
0032EE  2               
0032EE  2  A9 0C                    lda #$0C
0032F0  2  85 2C                    sta L002C              ; Cursor X
0032F2  2               
0032F2  2  A9 CF                    lda #$CF               ; Text 'EQUIP '
0032F4  2  20 10 2A                 jsr L29C6              ; De-token+space
0032F7  2               
0032F7  2  A9 B9                    lda #$B9               ; Text 'SHIP'
0032F9  2  20 E4 17                 jsr L17FF              ; Plot header + line
0032FC  2               
0032FC  2  A9 80                    lda #$80
0032FE  2  85 7E                    sta L007E              ; VDU stat
003300  2               
003300  2  E6 2D                    inc L002D              ; Cursor Y
003302  2               
003302  2  AD DE 0C                 lda L0CDE              ; Get max equipment items
003305  2  18                       clc
003306  2  69 03                    adc #$03               ; Always first 3 items
003308  2  C9 0C                    cmp #$0C               ; Check with max item
00330A  2  90 02                    bcc L328B              ; If <12, jump
00330C  2  A9 0C                    lda #$0C               ; Max items=12
00330E  2               
00330E  2  85 A0        L328B:      sta L00A0              ; Save max items
003310  2  8D DA 0C                 sta L0CDA              ; 8D DA 0C
003313  2  E6 A0                    inc L00A0              ; E6 A0
003315  2  A9 46                    lda #$46               ; A9 46
003317  2  38                       sec                    ; 38
003318  2  ED 0D 03                 sbc L030D              ; Fuel level
00331B  2  0A                       asl A                  ; 0A
00331C  2  8D 2A 1B                 sta L1B45              ; 8D 45 1B
00331F  2               
00331F  2  A2 01                    ldx #$01
003321  2  86 A8        L329E:      stx L00A8              ; Equipment pointer
003323  2  20 03 2A                 jsr L29B9              ; New line
003326  2               
003326  2  A6 A8                    ldx L00A8              ; Equipment pointer
003328  2  18                       clc
003329  2  20 1B 1C                 jsr L1C33              ; Print quantity
00332C  2  20 4D 31                 jsr L30D8              ; Print space
00332F  2               
00332F  2  A5 A8                    lda L00A8              ; Equipment pointer
003331  2  18                       clc
003332  2  69 68                    adc #$68               ; Text equipment name
003334  2  20 F1 35                 jsr L34CB              ; De-token
003337  2               
003337  2  A5 A8                    lda L00A8              ; Equipment pointer
003339  2  20 6E 34                 jsr L33E9              ; Get equipment price
00333C  2               
00333C  2  38                       sec
00333D  2  A9 19                    lda #$19
00333F  2  85 2C                    sta L002C              ; Cursor X
003341  2  A9 06                    lda #$06
003343  2  20 1F 1C                 jsr L1C37              ; 20 37 1C
003346  2               
003346  2  A6 A8                    ldx L00A8              ; Equipment pointer
003348  2  E8                       inx                    ; Point to next
003349  2  E4 A0                    cpx L00A0              ; All equipment shown?
00334B  2  90 D4                    bcc L329E              ; No, repeat
00334D  2               
00334D  2  20 B2 28                 jsr L2882              ; Wipe text + draw frame
003350  2  A9 7F                    lda #$7F               ; Text 'ITEM'
003352  2  E6 2D        	inc L002D
003354  2  20 CC 30                 jsr L3057              ; De-token + '?'
003357  2               
003357  2  20 32 2D                 jsr L2CDB              ; Scan numeric key
00335A  2  F0 84                    beq L3260              ; If 0, jump
00335C  2  B0 82                    bcs L3260              ; If >9 jump
00335E  2               
00335E  2  E9 00                    sbc #$00               ; E9 00
003360  2               
003360  2  A2 02                    ldx #$02
003362  2  86 2C                    stx L002C              ; Cursor X
003364  2  E6 2D                    inc L002D              ; Cursor Y
003366  2  48                       pha                    ; Save number
003367  2  20 5E 34                 jsr L33D9              ; 20 D9 33
00336A  2               
00336A  2  68                       pla                    ; Restore number
00336B  2  D0 07                    bne L32EF              ; Jump if 0
00336D  2               
00336D  2  85 A9                    sta L00A9              ; 85 A9
00336F  2  A2 46                    ldx #$46               ; A2 46
003371  2  8E 0D 03                 stx L030D              ; Fuel level
003374  2               
003374  2               ; Missiles choosen
003374  2               
003374  2  C9 01        L32EF:      cmp #$01               ; Missiles choosen?
003376  2  D0 10                    bne L3303              ; No, jump
003378  2               
003378  2  AE 33 03                 ldx L0333              ; Get missile counter
00337B  2  E8                       inx                    ; Add missile
00337C  2  A0 75                    ldy #$75               ; Text 'ALL'
00337E  2  E0 05                    cpx #$05               ; Check if more than 4 missiles
003380  2  B0 68                    bcs L3365              ; If so, jump
003382  2  8E 33 03                 stx L0333              ; Store missile counter
003385  2  20 09 3E                 jsr L3CDB              ; Plot missiles in panel
003388  2               
003388  2               ; Large Cargo Bay choosen
003388  2               
003388  2  A0 6B        L3303:      ldy #$6B               ; Text 'LARGE CARGO BAY'
00338A  2  C9 02                    cmp #$02               ; Large Cargo Bay choosen?
00338C  2  D0 0A                    bne L3313              ; No, jump
00338E  2               
00338E  2  A2 25                    ldx #$25
003390  2  EC 16 03                 cpx L0316              ; Get large cargo bay?
003393  2  F0 55                    beq L3365              ; If already set, jump
003395  2  8E 16 03                 stx L0316              ; Set large cargo bay=$25
003398  2               
003398  2               ; E.C.M.System choosen
003398  2               
003398  2  C9 03        L3313:      cmp #$03               ; E.C.M.System choosen?
00339A  2  D0 09                    bne L3320              ; No, jump
00339C  2               
00339C  2  C8                       iny                    ; Text 'E.C.M.SYSTEM'
00339D  2  AE 28 03                 ldx L0328              ; Get E.C.M.System item
0033A0  2  D0 48                    bne L3365              ; If already set, jump
0033A2  2  CE 28 03                 dec L0328              ; Set E.C.M.System=$ff
0033A5  2               
0033A5  2               ; Extra Pulse Laser choosen
0033A5  2               
0033A5  2  C9 04        L3320:      cmp #$04               ; Extra Pulse Laser choosen?
0033A7  2  D0 15                    bne L3339              ; No, jump
0033A9  2               
0033A9  2  20 7B 34                 jsr L33F6              ; Select view in X
0033AC  2  A9 04                    lda #$04               ; Set Pulse Laser selection
0033AE  2  BC 10 03                 ldy L0310,X            ; Laser item
0033B1  2  F0 04                    beq L3332              ; If 0, jump
0033B3  2  A0 BB        L332E:      ldy #$BB               ; Text 'LASER'
0033B5  2  D0 33                    bne L3365              ; Forced jump
0033B7  2  A9 0F        L3332:      lda #$0F               ; Set pulse laser
0033B9  2  9D 10 03                 sta L0310,X            ; Set view pulse laser=$0f
0033BC  2  A9 04                    lda #$04               ; Set Pulse Laser selection
0033BE  2               
0033BE  2               ; Extra Beam Laser choosen
0033BE  2               
0033BE  2  C9 05        L3339:      cmp #$05               ; Extra Beam Laser choosen?
0033C0  2  D0 1D                    bne L335A              ; No, jump
0033C2  2               
0033C2  2  20 7B 34                 jsr L33F6              ; Select view in X
0033C5  2  86 06                    stx L0006              ; Save VIEW
0033C7  2               
0033C7  2  A9 05                    lda #$05
0033C9  2  BC 10 03                 ldy L0310,X            ; Get laser item
0033CC  2  F0 0A                    beq L3353              ; If 0, jump
0033CE  2  30 E3                    bmi L332E              ; If already beam, set pulse
0033D0  2               
0033D0  2  A9 04                    lda #$04
0033D2  2  20 71 34                 jsr L33EC              ; Get price on X,Y
0033D5  2  20 B2 32                 jsr L3232              ; Add X,Y to cash
0033D8  2               
0033D8  2  A9 8F        L3353:      lda #$8F
0033DA  2  A6 06                    ldx L0006              ; Set VIEW ptr
0033DC  2  9D 10 03                 sta L0310,X            ; Set laser to beam $8f
0033DF  2               
0033DF  2               ; Fuel Scoops choosen
0033DF  2               
0033DF  2  A0 6F        L335A:      ldy #$6F               ; Text 'FUEL SCOOPS'
0033E1  2  C9 06                    cmp #$06               ; Fuel Scoops choosen?
0033E3  2  D0 20                    bne L3380              ; No, jump
0033E5  2               
0033E5  2  AE 29 03                 ldx L0329              ; Get Fuel Scoops item
0033E8  2  F0 18                    beq L337D              ; If 0, jump
0033EA  2               
0033EA  2  84 3D        L3365:      sty L003D              ; Save text
0033EC  2  20 71 34                 jsr L33EC              ; Get price on X,Y
0033EF  2  20 B2 32                 jsr L3232              ; Add X,Y to cash
0033F2  2  A5 3D                    lda L003D              ; Load text
0033F4  2  20 10 2A                 jsr L29C6              ; De-token+space
0033F7  2               
0033F7  2  A9 1F                    lda #$1F               ; Text 'ON'
0033F9  2  20 F1 35                 jsr L34CB              ; De-token
0033FC  2               
0033FC  2  20 56 34     L3377:      jsr L33D1              ; Sound
0033FF  2  4C 53 41                 jmp L400D              ; Jump to status screen
003402  2               
003402  2  CE 29 03     L337D:      dec L0329              ; Set Fuel Scoops to $ff
003405  2               
003405  2               ; Escape Capsule choosen
003405  2               
003405  2  C8           L3380:      iny                    ; Text 'ESCAPE CAPSULE'
003406  2  C9 07                    cmp #$07               ; Escape Capsule choosen?
003408  2  D0 08                    bne L338D              ; No, jump
00340A  2               
00340A  2  AE 2E 03                 ldx L032E              ; Get Escape Capsule item
00340D  2  D0 DB                    bne L3365              ; If already there, jump
00340F  2  CE 2E 03                 dec L032E              ; Set Escape Capsule to $ff
003412  2               
003412  2               ; Energy Bomb choosen
003412  2               
003412  2  C8           L338D:      iny                    ; Text 'ENERGY BOMB'
003413  2  C9 08                    cmp #$08               ; Energy Bomb choosen?
003415  2  D0 0A                    bne L339C              ; No, jump
003417  2               
003417  2  AE 2A 03                 ldx L032A              ; Get Energy Bomb item
00341A  2  D0 CE                    bne L3365              ; If already there, jump
00341C  2  A2 7F                    ldx #$7F
00341E  2  8E 2A 03                 stx L032A              ; Set Energy Bomb to $7f
003421  2               
003421  2               ; Energy Unit choosen
003421  2               
003421  2  C8           L339C:      iny                    ; Text 'ENERGY UNIT'
003422  2  C9 09                    cmp #$09               ; Energy Unit choosen?
003424  2  D0 08                    bne L33A9              ; No, jump
003426  2               
003426  2  AE 2B 03                 ldx L032B              ; Get Energy Unit item
003429  2  D0 BF                    bne L3365              ; If already there, jump
00342B  2  EE 2B 03                 inc L032B              ; Add 1 to Energy Unit
00342E  2               
00342E  2               ; Docking computers choosen
00342E  2               
00342E  2  C8           L33A9:      iny                    ; Text 'DOCKING COMPUTERS'
00342F  2  C9 0A                    cmp #$0A               ; Docking computers choosen?
003431  2  D0 08                    bne L33B6              ; No, jump
003433  2               
003433  2  AE 2C 03                 ldx L032C              ; Get Docking computers item
003436  2  D0 B2                    bne L3365              ; If already there, jump
003438  2  CE 2C 03                 dec L032C              ; Set Docking computers to $ff
00343B  2               
00343B  2               ; Galactic hyperspace choosen
00343B  2               
00343B  2  C8           L33B6:      iny                    ; Text 'GALACTIC HYPERSPACE'
00343C  2  C9 0B                    cmp #$0B               ; Galactic hyperspace choosen?
00343E  2  D0 08                    bne L33C3              ; No, jump
003440  2               
003440  2  AE 2D 03                 ldx L032D              ; Get Galactic hyperspace item
003443  2  D0 A5                    bne L3365              ; If already there, jump
003445  2  CE 2D 03                 dec L032D              ; Set Galactic hyperspace to $ff
003448  2               
003448  2  20 4E 34     L33C3:      jsr L33C9              ; Print space
00344B  2  4C E3 32                 jmp L3263              ; Display Equip schip
00344E  2               
00344E  2  20 4D 31     L33C9:      jsr L30D8              ; Print space
003451  2  A9 77                    lda #$77               ; A9 77
003453  2  20 10 2A                 jsr L29C6              ; De-token+space
003456  2               
003456  2  20 15 44     L33D1:      jsr L427F              ; Make beep sound
003459  2  A0 C8                    ldy #$C8
00345B  2  4C 94 28                 jmp L2864              ; Pause
00345E  2               
00345E  2  20 71 34     L33D9:      jsr L33EC              ; Get price on X,Y
003461  2  20 8B 32                 jsr L320B              ; 20 0B 32
003464  2  B0 14                    bcs L33F5              ; B0 14
003466  2               
003466  2  A9 C5                    lda #$C5               ; Text 'CASH'
003468  2  20 CC 30                 jsr L3057              ; De-token + '?'
00346B  2  4C FC 33                 jmp L3377              ; Sound + Status screen
00346E  2               
00346E  2               ;----------------------------------------------
00346E  2               ; Get price in X,Y
00346E  2               ;----------------------------------------------
00346E  2               
00346E  2  38           L33E9:      sec
00346F  2  E9 01                    sbc #$01               ; Decrement equipment ptr
003471  2               
003471  2  0A           L33EC:      asl A                  ; Set pointer
003472  2  A8                       tay
003473  2  BE 2A 1B                 ldx L1B45,Y            ; Get lb-price
003476  2  B9 2B 1B                 lda L1B45+1,Y          ; Get hb-price
003479  2  A8                       tay                    ; Save
00347A  2  60           L33F5:      rts
00347B  2               
00347B  2               ;-----------------------------------------------
00347B  2               ; Select VIEW
00347B  2               ;
00347B  2               ; Print '0 FRONT'
00347B  2               ;       '1 REAR'
00347B  2               ;       '2 LEFT'
00347B  2               ;       '3 RIGHT'
00347B  2               ; Wait for choice
00347B  2               ;-----------------------------------------------
00347B  2               
00347B  2               L33F6:
00347B  2  A0 10                    ldy #$10
00347D  2  84 2D                    sty L002D              ; Cursor Y
00347F  2  A2 0C        L33FA:      ldx #$0C
003481  2  86 2C                    stx L002C              ; Cursor X
003483  2               
003483  2  98                       tya                    ; Convert to number
003484  2  18                       clc
003485  2  69 20                    adc #$20
003487  2  20 10 2A                 jsr L29C6              ; Print number + space
00348A  2               
00348A  2  A5 2D                    lda L002D              ; Cursor Y
00348C  2  18                       clc                    ; Point to VIEW string
00348D  2  69 50                    adc #$50
00348F  2  20 F1 35                 jsr L34CB              ; Print VIEW
003492  2               
003492  2  E6 2D                    inc L002D              ; Cursor Y
003494  2  A4 2D                    ldy L002D              ; Cursor Y
003496  2  C0 14                    cpy #$14               ; Check all VIEWs printes
003498  2  90 E5                    bcc L33FA              ; No, repeat
00349A  2               
00349A  2  20 B2 28     L3415:      jsr L2882              ; Wipe text + draw frame
00349D  2               
00349D  2  E6 2D        	inc L002D		; Position text
00349F  2  E6 2D        	inc L002D
0034A1  2  A9 AF                    lda #$AF               ; Text 'VIEW'
0034A3  2  20 CC 30                 jsr L3057              ; De-token + '?'
0034A6  2               
0034A6  2  20 94 FE     	jsr OSRDCH		; Read key
0034A9  2  38                       sec	                   ; Convert to value
0034AA  2  E9 30                    sbc #$30
0034AC  2  C9 04                    cmp #$04               ; Check key 0,1,2,3 pressed
0034AE  2  B0 EA                    bcs L3415              ; If not, repeat
0034B0  2               
0034B0  2  AA                       tax                    ; Pressed, 0,1,2,3 in X
0034B1  2  60                       rts
0034B2  2               
0034B2  2               ;--------------------------------------------
0034B2  2               ; Check panel for charts
0034B2  2               ;--------------------------------------------
0034B2  2               
0034B2  2               restore_panel:
0034B2  2  48           	pha
0034B3  2  A9 91        	lda #$91
0034B5  2  8D 21 16     	sta maskbyte
0034B8  2  A9 8F        	lda #$8f
0034BA  2  8D 22 16     	sta wipebyte
0034BD  2               
0034BD  2  AD F0 97     	lda $97f0
0034C0  2  30 08        	bmi rest_end
0034C2  2               
0034C2  2  A9 00        	lda #00			; Chart hack
0034C4  2  8D 4E 35     	sta freeze
0034C7  2               
0034C7  2  20 E1 34     	jsr restore_screen
0034CA  2               rest_end:
0034CA  2               
0034CA  2  68           	pla
0034CB  2  60           	rts
0034CC  2               
0034CC  2               backup_panel:
0034CC  2  48           	pha
0034CD  2  A9 98        	lda #$98
0034CF  2  8D 21 16     	sta maskbyte
0034D2  2  A9 95        	lda #$95
0034D4  2  8D 22 16     	sta wipebyte
0034D7  2               
0034D7  2  20 15 35     	jsr backup_screen
0034DA  2               
0034DA  2  A9 FF        	lda #$ff		; Chart hack
0034DC  2  8D 4E 35     	sta freeze
0034DF  2               
0034DF  2  68           	pla
0034E0  2  60           	rts
0034E1  2               
0034E1  2               ;panel_restore:
0034E1  2               ;	txa
0034E1  2               ;	pha
0034E1  2               ;	ldx #$00		; Reset lb address
0034E1  2               ;restore_loop:
0034E1  2               ;	lda L5800,x
0034E1  2               ;	sta $9100,x
0034E1  2               ;	lda L5800+$100,x
0034E1  2               ;	sta $9200,x
0034E1  2               ;	lda L5800+$200,x
0034E1  2               ;	sta $9300,x
0034E1  2               ;	lda L5800+$300,x
0034E1  2               ;	sta $9400,x
0034E1  2               ;	lda L5800+$400,x
0034E1  2               ;	sta $9500,x
0034E1  2               ;	lda L5800+$500,x
0034E1  2               ;	sta $9600,x
0034E1  2               ;	lda L5800+$600,x
0034E1  2               ;	sta $9700,x
0034E1  2               ;	inx			; Next byte
0034E1  2               ;	bne restore_loop		; Repeat until end of page
0034E1  2               ;	pla
0034E1  2               ;	tax
0034E1  2               ;
0034E1  2               ;	jsr L3CDB		; Plot missiles
0034E1  2               ;	lda L0BF4
0034E1  2               ;	beq restore_end
0034E1  2               ;	jsr L3922
0034E1  2               ;restore_end:
0034E1  2               ;	rts
0034E1  2               
0034E1  2               restore_screen:
0034E1  2  8A           	txa
0034E2  2  48           	pha
0034E3  2  A2 00        	ldx #$00
0034E5  2               restore_loop:
0034E5  2  BD D6 64     	lda L6500,x
0034E8  2  9D 00 91     	sta $9100,x
0034EB  2  BD D6 65     	lda L6500+$100,x
0034EE  2  9D 00 92     	sta $9200,x
0034F1  2  BD D6 66     	lda L6500+$200,x
0034F4  2  9D 00 93     	sta $9300,x
0034F7  2  BD D6 67     	lda L6500+$300,x
0034FA  2  9D 00 94     	sta $9400,x
0034FD  2  BD D6 68     	lda L6500+$400,x
003500  2  9D 00 95     	sta $9500,x
003503  2  BD D6 69     	lda L6500+$500,x
003506  2  9D 00 96     	sta $9600,x
003509  2  BD D6 6A     	lda L6500+$600,x
00350C  2  9D 00 97     	sta $9700,x
00350F  2  E8           	inx			; Next byte
003510  2  D0 D3        	bne restore_loop		; Repeat until end of page
003512  2  68           	pla
003513  2  AA           	tax
003514  2  60           	rts
003515  2               
003515  2               backup_screen:
003515  2  2C 4E 35     	bit freeze
003518  2  30 33        	bmi end_backup
00351A  2  8A           	txa
00351B  2  48           	pha
00351C  2  A2 00        	ldx #$00
00351E  2               backup_loop:
00351E  2  BD 00 91     	lda $9100,x
003521  2  9D D6 64     	sta L6500,x
003524  2  BD 00 92     	lda $9200,x
003527  2  9D D6 65     	sta L6500+$100,x
00352A  2  BD 00 93     	lda $9300,x
00352D  2  9D D6 66     	sta L6500+$200,x
003530  2  BD 00 94     	lda $9400,x
003533  2  9D D6 67     	sta L6500+$300,x
003536  2  BD 00 95     	lda $9500,x
003539  2  9D D6 68     	sta L6500+$400,x
00353C  2  BD 00 96     	lda $9600,x
00353F  2  9D D6 69     	sta L6500+$500,x
003542  2  BD 00 97     	lda $9700,x
003545  2  9D D6 6A     	sta L6500+$600,x
003548  2  E8           	inx			; Next byte
003549  2  D0 D3        	bne backup_loop		; Repeat until end of page
00354B  2  68           	pla
00354C  2  AA           	tax
00354D  2               end_backup:
00354D  2  60           	rts
00354E  2               
00354E  2               freeze:
00354E  2  00           	.byte 0
00354F  2               
00354F  2               ;--------------------------------------------
00354F  2               ; String "(C)Bell/Braben1984" XOR $A4
00354F  2               ; Start of ELITEE.TXT
00354F  2               ;--------------------------------------------
00354F  2               
00354F  2  8C E7 8D E6              .byte $8C,$E7,$8D,$E6,$C1,$C8,$C8,$8B
003553  2  C1 C8 C8 8B  
003557  2  E6 D6 C5 C6              .byte $E6,$D6,$C5,$C6,$C1,$CA,$95,$9D
00355B  2  C1 CA 95 9D  
00355F  2  9C 90                    .byte $9C,$90
003561  2               
003561  2               ;--------------------------------------------
003561  2               ; Handle token=3
003561  2               ; Generate and print planet name (max 4 syllables)
003561  2               ;--------------------------------------------
003561  2               
003561  2               L343B:
003561  2  A2 05                    ldx #$05               ; Save $78-$7d
003563  2               L343D:
003563  2  B5 78                    lda L0078,X
003565  2  95 7F                    sta L007F,X
003567  2  CA                       dex
003568  2  10 F9                    bpl L343D
00356A  2               
00356A  2  A0 03                    ldy #$03               ; Set 4 syllable name
00356C  2  24 78                    bit L0078              ; Check planetname
00356E  2  70 01                    bvs L344B              ; If bit6 set, jump
003570  2  88                       dey                    ; 1 Syllable less
003571  2  84 D1        L344B:      sty L00D1              ; Save syllable pointer
003573  2               
003573  2  A5 7D        L344D:      lda L007D              ; Get planet name ptr
003575  2  29 1F                    and #$1F
003577  2  F0 05                    beq L3458              ; Check last
003579  2  09 80                    ora #$80               ; Convert value to 2-letters
00357B  2  20 F1 35                 jsr L34CB              ; De-token
00357E  2               
00357E  2  20 B7 29     L3458:      jsr L296D              ; Generate new syllable
003581  2  C6 D1                    dec L00D1              ; Decrement pointer
003583  2  10 EE                    bpl L344D              ; If not last one, repeat
003585  2               
003585  2  A2 05                    ldx #$05               ; Restore  $78-$7d
003587  2  B5 7F        L3461:      lda L007F,X
003589  2  95 78                    sta L0078,X
00358B  2  CA                       dex
00358C  2  10 F9                    bpl L3461
00358E  2               
00358E  2  60                       rts
00358F  2               
00358F  2               ;--------------------------------------------
00358F  2               ; Handle token=4
00358F  2               ; Print Commander's name
00358F  2               ;--------------------------------------------
00358F  2               
00358F  2  A0 00        L3469:      ldy #$00               ; Reset counter
003591  2  B9 9D 15     L346B:      lda L159D,Y            ; Get character
003594  2  C9 0D                    cmp #$0D               ; Check if end of line
003596  2  F0 06                    beq L3478              ; If so, jump
003598  2  20 E0 1C                 jsr L1CF8              ; Print character
00359B  2  C8                       iny                    ; Increment counter
00359C  2  D0 F3                    bne L346B              ; Repeat
00359E  2  60           L3478:      rts
00359F  2               
00359F  2               ;--------------------------------------------
00359F  2               ; Handle token=2
00359F  2               ; Ypl
00359F  2               ;--------------------------------------------
00359F  2               
00359F  2  20 A5 35     L3479:      jsr L347F              ; Switch var data
0035A2  2  20 61 35                 jsr L343B              ; Print planet name
0035A5  2               
0035A5  2  A2 05        L347F:      ldx #$05
0035A7  2  B5 78        L3481:      lda L0078,X            ; Copy $78-$7d->$ce3-$ce8
0035A9  2  BC E3 0C                 ldy L0CE3,X            ; Copy $ce3-$ce8->$78-$7d
0035AC  2  9D E3 0C                 sta L0CE3,X
0035AF  2  94 78                    sty L0078,X
0035B1  2  CA                       dex
0035B2  2  10 F3                    bpl L3481
0035B4  2  60                       rts
0035B5  2               
0035B5  2               ;--------------------------------------------
0035B5  2               ; Handle token=1
0035B5  2               ; Print galaxy nr
0035B5  2               ;--------------------------------------------
0035B5  2               
0035B5  2  18           L348F:      clc
0035B6  2  AE 0F 03                 ldx L030F              ; Galaxy nr
0035B9  2  E8                       inx                    ; Start at 1
0035BA  2  4C 1B 1C                 jmp L1C33              ; Print quantity
0035BD  2               
0035BD  2               ;--------------------------------------------
0035BD  2               ; Handle token=5
0035BD  2               ; Print FUEL: quantity LIGHT YEARS
0035BD  2               ;--------------------------------------------
0035BD  2               
0035BD  2  A9 69        L3497:      lda #$69               ; Text 'Fuel'
0035BF  2  20 EC 35                 jsr L34C6              ; De-token + ':'
0035C2  2               
0035C2  2  AE 0D 03                 ldx L030D              ; Fuel level
0035C5  2  38                       sec
0035C6  2  20 1B 1C                 jsr L1C33              ; Print quantity
0035C9  2               
0035C9  2  A9 C3                    lda #$C3               ; Text 'LIGHT YEARS'
0035CB  2  20 E6 35                 jsr L34C0              ; De-token
0035CE  2  A9 77                    lda #$77               ; Show "CASH: show money'
0035D0  2  D0 1F                    bne L34CB              ; Forced jump, De-token
0035D2  2               
0035D2  2               ;--------------------------------------------
0035D2  2               ; Handle token=0
0035D2  2               ; Print CASH: quantity CR
0035D2  2               ;--------------------------------------------
0035D2  2               
0035D2  2  A2 03        L34AC:      ldx #$03               ; Copy cash to $3d-$40
0035D4  2  BD 09 03     L34AE:      lda L0309,X
0035D7  2  95 3D                    sta L003D,X
0035D9  2  CA                       dex
0035DA  2  10 F8                    bpl L34AE
0035DC  2               
0035DC  2  A9 09                    lda #$09
0035DE  2  85 8F                    sta L008F              ; Width=9
0035E0  2  38                       sec
0035E1  2  20 2B 1C                 jsr L1C43              ; Print number
0035E4  2               
0035E4  2  A9 E2                    lda #$E2               ; Text ' CR'
0035E6  2               
0035E6  2  20 F1 35     L34C0:      jsr L34CB              ; De-token
0035E9  2  4C 03 2A                 jmp L29B9              ; New line
0035EC  2               
0035EC  2               ;--------------------------------------------
0035EC  2               ; Print text followed by colon
0035EC  2               ;--------------------------------------------
0035EC  2               
0035EC  2  20 F1 35     L34C6:      jsr L34CB              ; De-token
0035EF  2  A9 3A        L34C9:      lda #$3A               ; Print ':'
0035F1  2               
0035F1  2               ;--------------------------------------------
0035F1  2               ; De-token
0035F1  2               ;
0035F1  2               ;   Token    Function
0035F1  2               ;--------------------------------------------
0035F1  2               ;  $00     - Print CASH: quantity CR
0035F1  2               ;  $01     - Print galaxy nr
0035F1  2               ;  $02     - Print planet name
0035F1  2               ;  $03     - Generate and print planet name (max 4 syllables)
0035F1  2               ;  $04     - Print Commander's name
0035F1  2               ;  $05     - Print FUEL: quantity LIGHT YEARS
0035F1  2               ;  $06     - VDU stat
0035F1  2               ;  $08     -
0035F1  2               ;  $09     -
0035F1  2               ;  $0a-$0e -
0035F1  2               ;  $0f-$1f -
0035F1  2               ;  $20-$5F - Add #$20
0035F1  2               ;            Print lowercase character
0035F1  2               ;  $60-$7f - Print line $60-$7f from command table
0035F1  2               ;
0035F1  2               ;  $80-$9f - AND #$7F, Multiply by 2
0035F1  2               ;            Print 2 characters from text_table $00-$1f
0035F1  2               ;  $a0-$ff - Substract $a0
0035F1  2               ;            Print line $00-$5f from command table
0035F1  2               ;--------------------------------------------
0035F1  2               
0035F1  2  AA           L34CB:      tax
0035F2  2  F0 DE                    beq L34AC              ; $00=Show money
0035F4  2               
0035F4  2  30 74                    bmi L3544              ; Jump if token>$7f
0035F6  2               
0035F6  2  CA                       dex
0035F7  2  F0 BC                    beq L348F              ; Token=1
0035F9  2  CA                       dex
0035FA  2  F0 A3                    beq L3479              ; Token=2
0035FC  2  CA                       dex
0035FD  2  D0 03                    bne L34DC              ; Token>3
0035FF  2  4C 61 35                 jmp L343B              ; Token=3
003602  2               
003602  2               ;--------------------------------------------
003602  2               ; Handle token $04-$7f
003602  2               ;--------------------------------------------
003602  2               
003602  2  CA           L34DC:      dex
003603  2  F0 8A                    beq L3469              ; Token=4
003605  2  CA                       dex
003606  2  F0 B5                    beq L3497              ; Token=5
003608  2  CA                       dex
003609  2  D0 05                    bne L34EA              ; Token>6
00360B  2               
00360B  2  A9 80                    lda #$80               ; Token=6
00360D  2  85 7E                    sta L007E              ; VDU stat
00360F  2  60                       rts
003610  2               
003610  2               ;--------------------------------------------
003610  2               ; Handle token>6
003610  2               ;--------------------------------------------
003610  2               
003610  2  CA           L34EA:      dex
003611  2  CA                       dex
003612  2  D0 03                    bne L34F1              ; Token>8
003614  2  86 7E                    stx L007E              ; Token=8 -> VDU stat
003616  2  60                       rts
003617  2               
003617  2               ;--------------------------------------------
003617  2               ; Handle token>8
003617  2               ;--------------------------------------------
003617  2               
003617  2  CA           L34F1:      dex
003618  2  F0 38                    beq L352C              ; Token=9
00361A  2  C9 60                    cmp #$60
00361C  2  B0 66                    bcs L355E              ; Jump if token>$60
00361E  2  C9 0E                    cmp #$0E
003620  2  90 04                    bcc L3500              ; Token>14
003622  2  C9 20                    cmp #$20
003624  2  90 28                    bcc L3528              ; 15<Token<32
003626  2               
003626  2               ;--------------------------------------------
003626  2               ; Handle token $20-$5f
003626  2               ; Add #$20 (lowercase)
003626  2               ; Print character
003626  2               ;--------------------------------------------
003626  2               
003626  2  A6 7E        L3500:      ldx L007E              ; VDU stat
003628  2  F0 3D                    beq L3541              ; F0 3D
00362A  2  30 11                    bmi L3517              ; 30 11
00362C  2  24 7E                    bit L007E              ; VDU stat
00362E  2  70 30                    bvs L353A              ; 70 30
003630  2               
003630  2  C9 41        L350A:      cmp #$41               ; Check 'A'
003632  2  90 06                    bcc L3514              ; If ASCII below, jump
003634  2  C9 5B                    cmp #$5B               ; Check 'Z'
003636  2  B0 02                    bcs L3514              ; If ASCII above, jump
003638  2  69 20                    adc #$20               ; Else make lowercase
00363A  2               
00363A  2  4C E0 1C     L3514:      jmp L1CF8              ; Print character
00363D  2               
00363D  2  24 7E        L3517:      bit L007E              ; VDU stat
00363F  2  70 17                    bvs L3532              ; 70 17
003641  2  C9 41                    cmp #$41               ; C9 41
003643  2  90 22                    bcc L3541              ; 90 22
003645  2  48                       pha                    ; 48
003646  2  8A                       txa                    ; 8A
003647  2  09 40                    ora #$40               ; 09 40
003649  2  85 7E                    sta L007E              ; VDU stat
00364B  2  68                       pla                    ; 68
00364C  2  D0 EC                    bne L3514              ; D0 EC
00364E  2               
00364E  2               ;--------------------------------------------
00364E  2               ; Handle 15<token<32
00364E  2               ;--------------------------------------------
00364E  2               
00364E  2  69 72        L3528:      adc #$72               ; 69 72
003650  2  D0 32                    bne L355E              ; Print string
003652  2               
003652  2  A9 15        L352C:      lda #$15               ; A9 15
003654  2  85 2C                    sta L002C              ; Cursor X
003656  2  D0 97                    bne L34C9              ; D0 97
003658  2               
003658  2  E0 FF        L3532:      cpx #$FF               ; E0 FF
00365A  2  F0 63                    beq L3599              ; F0 63
00365C  2  C9 41                    cmp #$41               ; C9 41
00365E  2  B0 D0                    bcs L350A              ; B0 D0
003660  2               
003660  2  48           L353A:      pha                    ; 48
003661  2  8A                       txa                    ; 8A
003662  2  29 BF                    and #$BF               ; 29 BF
003664  2  85 7E                    sta L007E              ; VDU stat
003666  2  68                       pla                    ; 68
003667  2               
003667  2  4C E0 1C     L3541:      jmp L1CF8              ; Print character
00366A  2               
00366A  2               ;--------------------------------------------
00366A  2               ; Handle token $80-$9f
00366A  2               ; AND #$7F, multiply by 2
00366A  2               ; Print 2 characters from table $00-$1f
00366A  2               ;--------------------------------------------
00366A  2               
00366A  2  C9 A0        L3544:      cmp #$A0               ; Jump if >=#$A0
00366C  2  B0 14                    bcs L355C
00366E  2               
00366E  2  29 7F                    and #$7F               ; Mask bit 7 token
003670  2  0A                       asl A                  ; Multiply by 2
003671  2  A8                       tay                    ; Set token ptr
003672  2  B9 9B 45                 lda L4415,Y            ; Get character
003675  2  20 F1 35                 jsr L34CB              ; Print character
003678  2  B9 9C 45                 lda L4415+1,Y            ; Get next character
00367B  2  C9 3F                    cmp #$3F               ; Stop if $3F
00367D  2  F0 40                    beq L3599
00367F  2  4C F1 35                 jmp L34CB              ; Else print character
003682  2               
003682  2               ;--------------------------------------------
003682  2               ; Handle token $a0-$ff
003682  2               ; Substract #$a0
003682  2               ; Jump to command in token table $00-$5f
003682  2               ;--------------------------------------------
003682  2               
003682  2  E9 A0        L355C:      sbc #$A0               ; E9 A0
003684  2               
003684  2               ;--------------------------------------------
003684  2               ; Handle token $60-$7f
003684  2               ; Jump to command in token table $60-$7f
003684  2               ;--------------------------------------------
003684  2               
003684  2  AA           L355E:      tax                    ; Save A
003685  2               
003685  2  A9 00                    lda #<L0400            ; Set $22/$23 at $0400
003687  2  85 22                    sta L0022
003689  2  A9 04                    lda #>L0400
00368B  2  85 23                    sta L0023
00368D  2               
00368D  2  A0 00                    ldy #$00               ; Reset ptr
00368F  2  8A                       txa                    ; Restore A
003690  2  F0 13                    beq L357F              ; If A=0, jump
003692  2               
003692  2  B1 22        L356C:      lda (L0022),Y          ; Skip X tokens
003694  2  F0 07                    beq L3577
003696  2  C8                       iny
003697  2  D0 F9                    bne L356C
003699  2  E6 23                    inc L0023
00369B  2  D0 F5                    bne L356C
00369D  2               
00369D  2  C8           L3577:      iny
00369E  2  D0 02                    bne L357C
0036A0  2  E6 23                    inc L0023              ; Page skip, inc page-hb
0036A2  2  CA           L357C:      dex
0036A3  2  D0 ED                    bne L356C
0036A5  2               
0036A5  2  98           L357F:      tya
0036A6  2  48                       pha                    ; Save ptr
0036A7  2               
0036A7  2  A5 23                    lda L0023
0036A9  2  48                       pha                    ; Save hb-token
0036AA  2               
0036AA  2  B1 22                    lda (L0022),Y          ; Get token
0036AC  2  49 23                    eor #$23               ; Decode
0036AE  2  20 F1 35                 jsr L34CB              ; De-token
0036B1  2               
0036B1  2  68                       pla
0036B2  2  85 23                    sta L0023              ; Restore hb-token
0036B4  2               
0036B4  2  68                       pla
0036B5  2  A8                       tay                    ; Restore ptr
0036B6  2               
0036B6  2  C8                       iny                    ; next token
0036B7  2  D0 02                    bne L3595              ; If page boundery
0036B9  2  E6 23                    inc L0023              ; Increment hb
0036BB  2               
0036BB  2  B1 22        L3595:      lda (L0022),Y          ; Read token
0036BD  2  D0 E6                    bne L357F              ; If not $00, repeat
0036BF  2               
0036BF  2  60           L3599:      rts
0036C0  2               
0036C0  2               ;---------------------------------------------
0036C0  2               ;
0036C0  2               ;---------------------------------------------
0036C0  2               
0036C0  2  A5 72        L359A:      lda L0072              ; A5 72
0036C2  2  09 A0                    ora #$A0               ; 09 A0
0036C4  2  85 72                    sta L0072              ; 85 72
0036C6  2  60                       rts                    ; 60
0036C7  2               
0036C7  2               ;---------------------------------------------
0036C7  2  A5 72        L35A1:      lda L0072              ; A5 72
0036C9  2  29 40                    and #$40               ; 29 40
0036CB  2  F0 03                    beq L35AA              ; F0 03
0036CD  2  20 2A 37                 jsr L3604              ; 20 04 36
0036D0  2  A5 59        L35AA:      lda L0059              ; A5 59
0036D2  2  85 D1                    sta L00D1              ; 85 D1
0036D4  2  A5 5A                    lda L005A              ; A5 5A
0036D6  2  C9 20                    cmp #$20               ; C9 20
0036D8  2  90 04                    bcc L35B8              ; 90 04
0036DA  2  A9 FE                    lda #$FE               ; A9 FE
0036DC  2  D0 08                    bne L35C0              ; D0 08
0036DE  2  06 D1        L35B8:      asl L00D1              ; 06 D1
0036E0  2  2A                       rol A                  ; 2A
0036E1  2  06 D1                    asl L00D1              ; 06 D1
0036E3  2  2A                       rol A                  ; 2A
0036E4  2  38                       sec                    ; 38
0036E5  2  2A                       rol A                  ; 2A
0036E6  2  85 A0        L35C0:      sta L00A0              ; 85 A0
0036E8  2  A0 01                    ldy #$01               ; A0 01
0036EA  2  B1 74                    lda (L0074),Y          ; B1 74
0036EC  2  69 04                    adc #$04               ; 69 04
0036EE  2  B0 D0                    bcs L359A              ; B0 D0
0036F0  2  91 74                    sta (L0074),Y          ; 91 74
0036F2  2  20 73 25                 jsr L2546              ; 20 46 25
0036F5  2  A5 1B                    lda L001B              ; A5 1B
0036F7  2  C9 1C                    cmp #$1C               ; C9 1C
0036F9  2  90 04                    bcc L35D9              ; 90 04
0036FB  2  A9 FE                    lda #$FE               ; A9 FE
0036FD  2  D0 09                    bne L35E2              ; D0 09
0036FF  2  06 A1        L35D9:      asl L00A1              ; 06 A1
003701  2  2A                       rol A                  ; 2A
003702  2  06 A1                    asl L00A1              ; 06 A1
003704  2  2A                       rol A                  ; 2A
003705  2  06 A1                    asl L00A1              ; 06 A1
003707  2  2A                       rol A                  ; 2A
003708  2  88           L35E2:      dey                    ; 88
003709  2  91 74                    sta (L0074),Y          ; 91 74
00370B  2  A5 72                    lda L0072              ; A5 72
00370D  2  29 BF                    and #$BF               ; 29 BF
00370F  2  85 72                    sta L0072              ; 85 72
003711  2  29 08                    and #$08               ; 29 08
003713  2  F0 AA                    beq L3599              ; F0 AA
003715  2  A0 02                    ldy #$02               ; A0 02
003717  2  B1 74                    lda (L0074),Y          ; B1 74
003719  2  A8                       tay                    ; A8
00371A  2  B9 F9 00     L35F4:      lda L00F9,Y            ; B9 F9 00
00371D  2  91 74                    sta (L0074),Y          ; 91 74
00371F  2  88                       dey                    ; 88
003720  2  C0 06                    cpy #$06               ; C0 06
003722  2  D0 F6                    bne L35F4              ; D0 F6
003724  2  A5 72                    lda L0072              ; A5 72
003726  2  09 40                    ora #$40               ; 09 40
003728  2  85 72                    sta L0072              ; 85 72
00372A  2  A0 00        L3604:      ldy #$00               ; A0 00
00372C  2  B1 74                    lda (L0074),Y          ; B1 74
00372E  2  85 A0                    sta L00A0              ; 85 A0
003730  2  C8                       iny                    ; C8
003731  2  B1 74                    lda (L0074),Y          ; B1 74
003733  2  10 02                    bpl L3611              ; 10 02
003735  2  49 FF                    eor #$FF               ; 49 FF
003737  2  4A           L3611:      lsr A                  ; 4A
003738  2  4A                       lsr A                  ; 4A
003739  2  4A                       lsr A                  ; 4A
00373A  2  4A                       lsr A                  ; 4A
00373B  2  09 01                    ora #$01               ; 09 01
00373D  2  85 8F                    sta L008F              ; 85 8F
00373F  2  C8                       iny                    ; C8
003740  2  B1 74                    lda (L0074),Y          ; B1 74
003742  2  85 B0                    sta L00B0              ; 85 B0
003744  2  A5 01                    lda L0001              ; A5 01
003746  2  48                       pha                    ; 48
003747  2  A0 06                    ldy #$06               ; A0 06
003749  2  A2 03        L3623:      ldx #$03               ; A2 03
00374B  2  C8           L3625:      iny                    ; C8
00374C  2  B1 74                    lda (L0074),Y          ; B1 74
00374E  2  95 D2                    sta L00D2,X            ; 95 D2
003750  2  CA                       dex                    ; CA
003751  2  10 F8                    bpl L3625              ; 10 F8
003753  2  84 B4                    sty L00B4              ; 84 B4
003755  2  A0 02                    ldy #$02               ; A0 02
003757  2  C8           L3631:      iny                    ; C8
003758  2  B1 74                    lda (L0074),Y          ; B1 74
00375A  2  45 B4                    eor L00B4              ; 45 B4
00375C  2  99 FD FF                 sta LFFFD,Y            ; 99 FD FF
00375F  2  C0 06                    cpy #$06               ; C0 06
003761  2  D0 F4                    bne L3631              ; D0 F4
003763  2  A4 8F                    ldy L008F              ; A4 8F
003765  2  20 51 3E     L363F:      jsr L3D23              ; 20 23 3D
003768  2  85 A7                    sta L00A7              ; 85 A7
00376A  2  A5 D3                    lda L00D3              ; A5 D3
00376C  2  85 A1                    sta L00A1              ; 85 A1
00376E  2  A5 D2                    lda L00D2              ; A5 D2
003770  2  20 A3 37                 jsr L367D              ; 20 7D 36
003773  2  D0 28                    bne L3677              ; D0 28
003775  2               
003775  2               ;            cpx #$BF               ; E0 BF
003775  2  E0 86                    cpx #$86               ; Check not in panel
003777  2               
003777  2  B0 24                    bcs L3677              ; B0 24
003779  2  86 32                    stx L0032              ; Set y1
00377B  2  A5 D5                    lda L00D5              ; A5 D5
00377D  2  85 A1                    sta L00A1              ; 85 A1
00377F  2  A5 D4                    lda L00D4              ; A5 D4
003781  2  20 A3 37                 jsr L367D              ; 20 7D 36
003784  2  D0 05                    bne L3665              ; D0 05
003786  2  A5 32                    lda L0032              ; Get y1
003788  2  20 29 18                 jsr L1846              ; 20 46 18
00378B  2  88           L3665:      dey                    ; 88
00378C  2  10 D7                    bpl L363F              ; 10 D7
00378E  2  A4 B4                    ldy L00B4              ; A4 B4
003790  2  C4 B0                    cpy L00B0              ; C4 B0
003792  2  90 B5                    bcc L3623              ; 90 B5
003794  2  68                       pla                    ; 68
003795  2  85 01                    sta L0001              ; 85 01
003797  2  AD 06 09                 lda L0906              ; AD 06 09
00379A  2  85 03                    sta L0003              ; 85 03
00379C  2  60                       rts                    ; 60
00379D  2               
00379D  2  20 51 3E     L3677:      jsr L3D23              ; 20 23 3D
0037A0  2  4C 8B 37                 jmp L3665              ; 4C 65 36
0037A3  2  85 A2        L367D:      sta L00A2              ; 85 A2
0037A5  2  20 51 3E                 jsr L3D23              ; 20 23 3D
0037A8  2  2A                       rol A                  ; 2A
0037A9  2  B0 0B                    bcs L3690              ; B0 0B
0037AB  2  20 57 24                 jsr L242A              ; 20 2A 24
0037AE  2  65 A1                    adc L00A1              ; 65 A1
0037B0  2  AA                       tax                    ; AA
0037B1  2  A5 A2                    lda L00A2              ; A5 A2
0037B3  2  69 00                    adc #$00               ; 69 00
0037B5  2  60                       rts                    ; 60
0037B6  2  20 57 24     L3690:      jsr L242A              ; 20 2A 24
0037B9  2  85 D1                    sta L00D1              ; 85 D1
0037BB  2  A5 A1                    lda L00A1              ; A5 A1
0037BD  2  E5 D1                    sbc L00D1              ; E5 D1
0037BF  2  AA                       tax                    ; AA
0037C0  2  A5 A2                    lda L00A2              ; A5 A2
0037C2  2  E9 00                    sbc #$00               ; E9 00
0037C4  2  60                       rts                    ; 60
0037C5  2               
0037C5  2  20 09 3E     L369F:      jsr L3CDB              ; Plot missiles in panel
0037C8  2  A9 7F                    lda #$7F               ; A9 7F
0037CA  2  85 70                    sta L0070              ; 85 70
0037CC  2  85 71                    sta L0071              ; 85 71
0037CE  2  AD DE 0C                 lda L0CDE              ; AD DE 0C
0037D1  2  29 02                    and #$02               ; 29 02
0037D3  2  09 80                    ora #$80               ; 09 80
0037D5  2  4C 9F 39                 jmp L387D              ; New ship
0037D8  2               
0037D8  2  4E 34 03     L36B2:      lsr L0334              ; 4E 34 03
0037DB  2  20 F4 3D                 jsr L3CC6              ; 20 C6 3C
0037DE  2  A5 79                    lda L0079              ; A5 79
0037E0  2  29 07                    and #$07               ; 29 07
0037E2  2  69 06                    adc #$06               ; 69 06
0037E4  2  4A                       lsr A                  ; 4A
0037E5  2  85 5B                    sta L005B              ; 85 5B
0037E7  2  6A                       ror A                  ; 6A
0037E8  2  85 55                    sta L0055              ; 85 55
0037EA  2  85 58                    sta L0058              ; 85 58
0037EC  2  20 C5 37                 jsr L369F              ; 20 9F 36
0037EF  2  A9 81                    lda #$81               ; A9 81
0037F1  2  20 9F 39                 jsr L387D              ; New ship
0037F4  2               
0037F4  2               ;--------------------------------------------
0037F4  2               ; New stars
0037F4  2               ;--------------------------------------------
0037F4  2               
0037F4  2  A5 A6        L36CE:      lda L00A6              ; Headerstatus
0037F6  2  D0 22                    bne L36F4              ; WPSHPS
0037F8  2               
0037F8  2  A0 0A        L36D2:      ldy #$0A               ; Star counter
0037FA  2               
0037FA  2  20 52 3E     L36D4:      jsr L3D24              ; Randomize $1,$2,$3
0037FD  2  09 08                    ora #$08
0037FF  2  99 B9 0C                 sta L0CB9,Y            ; Set stars Z
003802  2  85 A7                    sta L00A7
003804  2               
003804  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
003807  2  99 4C 03                 sta L034C,Y            ; Set stars X
00380A  2  85 31                    sta L0031              ; Set x1
00380C  2               
00380C  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
00380F  2  99 62 03                 sta L0362,Y            ; Set stars Y
003812  2  85 32                    sta L0032              ; Set y1
003814  2               
003814  2  20 07 18                 jsr L1824              ; Plot pixels
003817  2  88                       dey
003818  2  D0 E0                    bne L36D4
00381A  2               
00381A  2  A2 00        L36F4:      ldx #$00               ; A2 00
00381C  2  BD E0 0B     L36F6:      lda L0BE0,X            ; BD E0 0B
00381F  2  F0 23                    beq L371E              ; F0 23
003821  2  30 1E                    bmi L371B              ; 30 1E
003823  2  85 AB                    sta L00AB              ; TYPE
003825  2  20 6C 39                 jsr L384A              ; Set galaxy pointer $20/21
003828  2               
003828  2  A0 1F                    ldy #$1F               ; Set ptr
00382A  2  B1 20        L3704:      lda (L0020),Y          ; Read galaxy data
00382C  2  99 53 00                 sta L0053,Y            ; Copy 32 bytes to $53-$72
00382F  2  88                       dey                    ; Next
003830  2  10 F8                    bpl L3704              ; Repeat
003832  2               
003832  2  86 A3                    stx L00A3              ; 86 A3
003834  2               
003834  2  20 D6 28                 jsr L28A4              ; 20 A4 28
003837  2               
003837  2  A6 A3                    ldx L00A3              ; A6 A3
003839  2  A0 1F                    ldy #$1F               ; A0 1F
00383B  2  B1 20                    lda (L0020),Y          ; B1 20
00383D  2  29 A7                    and #$A7               ; 29 A7
00383F  2  91 20                    sta (L0020),Y          ; 91 20
003841  2  E8           L371B:      inx                    ; E8
003842  2  D0 D8                    bne L36F6              ; D0 D8
003844  2               
003844  2  A2 FF        L371E:      ldx #$FF               ; A2 FF
003846  2  8E 5E 0C                 stx L0C5E              ; 8E 5E 0C
003849  2  8E 86 0C                 stx L0C86              ; 8E 86 0C
00384C  2               
00384C  2  CA           L3726:      dex                    ; CA
00384D  2  60                       rts                    ; 60
00384E  2               
00384E  2               ;---------------------------------------------
00384E  2               ;Decrement Energy bar
00384E  2                ;---------------------------------------------
00384E  2               
00384E  2  E8           L3728:      inx                    ; Energy +1
00384F  2  F0 FB                    beq L3726              ; If >$ff, set to $ff
003851  2  CE D4 0C     L372B:      dec L0CD4              ; Energy 1
003854  2  08                       php
003855  2  D0 03                    bne L3734              ;
003857  2  EE D4 0C                 inc L0CD4              ; Energy 1
00385A  2  28           L3734:      plp                    ; 28
00385B  2  60                       rts                    ; 60
00385C  2               
00385C  2               ;---------------------------------------------
00385C  2               ; Update Compas
00385C  2               ;---------------------------------------------
00385C  2               
00385C  2               L3736:
00385C  2  20 BC 38                 jsr L3796              ; Plot pixel
00385F  2  AD F4 0B                 lda L0BF4              ; AD F4 0B
003862  2  D0 31                    bne L376F              ; D0 31
003864  2  20 38 43                 jsr L418C              ; 20 8C 41
003867  2  4C 98 38                 jmp L3772              ; 4C 72 37
00386A  2               
00386A  2               ;---------------------------------------------
00386A  2               
00386A  2               
00386A  2  0A           L3744:      asl A                  ; 0A
00386B  2  AA                       tax                    ; AA
00386C  2  A9 00                    lda #$00               ; A9 00
00386E  2  6A                       ror A                  ; 6A
00386F  2  A8                       tay                    ; A8
003870  2  A9 14                    lda #$14               ; A9 14
003872  2  85 A0                    sta L00A0              ; 85 A0
003874  2  8A                       txa                    ; 8A
003875  2  20 73 25                 jsr L2546              ; 20 46 25
003878  2  A6 1B                    ldx L001B              ; A6 1B
00387A  2  98                       tya                    ; 98
00387B  2  30 03                    bmi L375A              ; 30 03
00387D  2  A0 00                    ldy #$00               ; A0 00
00387F  2  60                       rts                    ; 60
003880  2               
003880  2  A0 FF        L375A:      ldy #$FF               ; A0 FF
003882  2  8A                       txa                    ; 8A
003883  2  49 FF                    eor #$FF               ; 49 FF
003885  2  AA                       tax                    ; AA
003886  2  E8                       inx                    ; E8
003887  2  60                       rts                    ; 60
003888  2               
003888  2  A2 08        L3762:      ldx #$08               ; A2 08
00388A  2  BD 24 09     L3764:      lda L0924,X            ; BD 24 09
00388D  2  95 D2                    sta L00D2,X            ; 95 D2
00388F  2  CA                       dex                    ; CA
003890  2  10 F8                    bpl L3764              ; 10 F8
003892  2  4C 47 43                 jmp L419B              ; 4C 9B 41
003895  2               
003895  2               ;--------------------------------------------
003895  2               ;
003895  2               ;--------------------------------------------
003895  2               
003895  2  20 88 38     L376F:      jsr L3762              ; 20 62 37
003898  2               
003898  2  A5 31        L3772:      lda L0031              ; Get x1
00389A  2  20 6A 38                 jsr L3744              ; 20 44 37
00389D  2  8A                       txa                    ; 8A
00389E  2  69 C1                    adc #$C1               ; 69 C1
0038A0  2  8D D7 0C                 sta L0CD7              ; 8D D7 0C
0038A3  2               
0038A3  2  A5 32                    lda L0032              ; Get y1
0038A5  2  20 6A 38                 jsr L3744              ; 20 44 37
0038A8  2  86 D1                    stx L00D1              ; 86 D1
0038AA  2               
0038AA  2  A9 CC                    lda #$CC               ; A9 CC
0038AC  2               ;            lda #$CC-56              ; A9 CC
0038AC  2  E5 D1                    sbc L00D1              ; E5 D1
0038AE  2  8D D8 0C                 sta L0CD8              ; 8D D8 0C
0038B1  2               
0038B1  2  A9 F0                    lda #$F0               ; A9 F0
0038B3  2  A6 33                    ldx L0033              ; A6 33
0038B5  2  10 02                    bpl L3793              ; 10 02
0038B7  2  A9 FF                    lda #$FF               ; A9 FF
0038B9  2  8D 1C 0D     L3793:      sta L0D1C              ; 8D 1C 0D
0038BC  2               
0038BC  2               ;--------------------------------------------
0038BC  2               ; Plot thick line in compas
0038BC  2               ;--------------------------------------------
0038BC  2               
0038BC  2               L3796:
0038BC  2  AD D8 0C                 lda L0CD8              ; AD D8 0C
0038BF  2  38           	sec
0038C0  2  E9 38        	sbc #56		; Correction for Atom screen
0038C2  2  85 32                    sta L0032              ; Set y1
0038C4  2               
0038C4  2  AD D7 0C                 lda L0CD7              ; AD D7 0C
0038C7  2  85 31                    sta L0031              ; Set x1
0038C9  2               
0038C9  2  AD 1C 0D                 lda L0D1C              ; AD 1C 0D
0038CC  2               ;            cmp #$F0               ; C9 F0
0038CC  2  C9 B8        	cmp #$F0-56		; Check if range within compas
0038CE  2  D0 05                    bne L37AC              ; Plot small line
0038D0  2  20 D5 38     L37A7:      jsr L37AC              ; Plot small line
0038D3  2  C6 32                    dec L0032              ; Decrement y1
0038D5  2               
0038D5  2               ;---------------------------------------------
0038D5  2               ; Plot thick line
0038D5  2               ;---------------------------------------------
0038D5  2               
0038D5  2               L37AC:
0038D5  2               ;            ldy #$80               ; A0 80
0038D5  2               ;            sty L0007              ; 84 07
0038D5  2               
0038D5  2               ; Convert x,y -> screenaddress
0038D5  2               
0038D5  2  A5 32        	lda L0032		; Get y
0038D7  2  4A           	lsr A			; y=y/8
0038D8  2  4A           	lsr A
0038D9  2  4A           	lsr A
0038DA  2  18           	clc
0038DB  2  69 80        	adc #>$8000		; y=y+$80
0038DD  2  85 08        	sta L0008		; Set screen hb
0038DF  2               
0038DF  2  A5 32        	lda L0032		; Get y
0038E1  2  29 07        	and #$07		; Set line pointer
0038E3  2  A8           	tay
0038E4  2               
0038E4  2  A5 31        	lda L0031		; Get x1
0038E6  2  4A           	lsr a			; x=x/8
0038E7  2  4A           	lsr a
0038E8  2  4A           	lsr a
0038E9  2  85 07        	sta L0007		; Set screen lb
0038EB  2               
0038EB  2               L37CF:
0038EB  2  A5 31                    lda L0031              ; Get x1
0038ED  2  29 07                    and #$07
0038EF  2  AA                       tax
0038F0  2               
0038F0  2  8C E3 17     	sty tmp_y
0038F3  2  B9 DB 17     	lda rowbyte,y
0038F6  2  A8           	tay
0038F7  2  BD 0B 16                 lda L160B,X            ; Get pixel mask
0038FA  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
0038FC  2  91 07                    sta (L0007),Y
0038FE  2  AC E3 17     	ldy tmp_y
003901  2               
003901  2  20 04 39                 jsr L37E3              ; 20 E3 37
003904  2               
003904  2  E8           L37E3:      inx                    ; Next pixel
003905  2  BD 0B 16                 lda L160B,X            ; Get pixel mask
003908  2  10 02                    bpl L37F7              ; Check overflow
00390A  2               
00390A  2  E6 07        	inc L0007
00390C  2               
00390C  2               L37F4:
00390C  2               L37F7:
00390C  2  8C E3 17     	sty tmp_y
00390F  2  B9 DB 17     	lda rowbyte,y
003912  2  A8           	tay
003913  2  BD 0B 16                 lda L160B,X            ; Get pixel mask
003916  2  51 07                    eor (L0007),Y          ; Plot pixel on screen
003918  2  91 07                    sta (L0007),Y
00391A  2  AC E3 17     	ldy tmp_y
00391D  2               L37FB:
00391D  2  60                       rts
00391E  2               
00391E  2               ;-------------------------------------------
00391E  2               ; Check if energy=0, if so then death
00391E  2               ;-------------------------------------------
00391E  2               
00391E  2  85 D1        L37FC:      sta L00D1              ; 85 D1
003920  2  A0 08                    ldy #$08               ; A0 08
003922  2  A2 00                    ldx #$00               ; A2 00
003924  2  B1 20                    lda (L0020),Y          ; B1 20
003926  2  30 10                    bmi L3816              ; 30 10
003928  2  AD D2 0C                 lda L0CD2              ; Energy FS
00392B  2  E5 D1                    sbc L00D1              ; E5 D1
00392D  2  90 04                    bcc L3811              ; 90 04
00392F  2  8D D2 0C                 sta L0CD2              ; Energy FS
003932  2  60                       rts                    ; 60
003933  2               
003933  2  8E D2 0C     L3811:      stx L0CD2              ; Energy FS
003936  2  90 0E                    bcc L3824              ; 90 0E
003938  2               
003938  2  AD D3 0C     L3816:      lda L0CD3              ; Energy AS
00393B  2  E5 D1                    sbc L00D1              ; E5 D1
00393D  2  90 04                    bcc L3821              ; 90 04
00393F  2  8D D3 0C                 sta L0CD3              ; Energy AS
003942  2  60                       rts                    ; 60
003943  2               
003943  2  8E D3 0C     L3821:      stx L0CD3              ; Energy AS
003946  2               
003946  2  6D D4 0C     L3824:      adc L0CD4              ; Energy 1
003949  2  8D D4 0C                 sta L0CD4              ; Energy 1
00394C  2  F0 02                    beq L382E              ; F0 02
00394E  2  B0 03                    bcs L3831              ; B0 03
003950  2               
003950  2  4C 83 40     L382E:      jmp L3F47              ; Death
003953  2               
003953  2  20 DB 43     L3831:      jsr L4245              ; 20 45 42
003956  2  4C 6C 45                 jmp L43E6              ; 4C E6 43
003959  2               
003959  2               ;-------------------------------------------
003959  2               
003959  2  BD 01 09     L3837:      lda L0901,X            ; BD 01 09
00395C  2  95 D2                    sta L00D2,X            ; 95 D2
00395E  2  BD 02 09                 lda L0902,X            ; BD 02 09
003961  2  A8                       tay                    ; A8
003962  2  29 7F                    and #$7F               ; 29 7F
003964  2  95 D3                    sta L00D3,X            ; 95 D3
003966  2  98                       tya                    ; 98
003967  2  29 80                    and #$80               ; 29 80
003969  2  95 D4                    sta L00D4,X            ; 95 D4
00396B  2  60                       rts                    ; 60
00396C  2               
00396C  2               ;-------------------------------------------
00396C  2               ; Set galaxy pointer in $20/21
00396C  2               ;
00396C  2               ; X=galaxy nr
00396C  2               ;-------------------------------------------
00396C  2               
00396C  2  8A           L384A:      txa
00396D  2  0A                       asl A                  ; Galaxy nr*2
00396E  2  A8                       tay                    ; Set pointer
00396F  2               
00396F  2  B9 F1 15                 lda L15F1,Y            ; Get galaxy pointer
003972  2  85 20                    sta L0020              ; Set lb
003974  2  B9 F2 15                 lda L15F1+1,Y          ; Get galaxy pointer
003977  2  85 21                    sta L0021              ; Set hb
003979  2               
003979  2  60                       rts
00397A  2               
00397A  2               ;-------------------------------------------
00397A  2               
00397A  2  20 44 3A     L3858:      jsr L3922              ; 20 22 39
00397D  2  A2 01                    ldx #$01               ; A2 01
00397F  2  86 73                    stx L0073              ; 86 73
003981  2  CA                       dex                    ; CA
003982  2  86 71                    stx L0071              ; 86 71
003984  2  8E E1 0B                 stx L0BE1              ; 8E E1 0B
003987  2  CA                       dex                    ; CA
003988  2  86 70                    stx L0070              ; 86 70
00398A  2  A2 0A                    ldx #$0A               ; A2 0A
00398C  2  20 1B 3A                 jsr L38F9              ; 20 F9 38
00398F  2  20 1B 3A                 jsr L38F9              ; 20 F9 38
003992  2  20 1B 3A                 jsr L38F9              ; 20 F9 38
003995  2  A9 08                    lda #$08               ; A9 08
003997  2  85 74                    sta L0074              ; 85 74
003999  2  A9 0C                    lda #$0C               ; A9 0C
00399B  2  85 75                    sta L0075              ; 85 75
00399D  2  A9 07                    lda #$07               ; A9 07
00399F  2               
00399F  2               ;--------------------------------------------
00399F  2               ; New ship
00399F  2               ;--------------------------------------------
00399F  2               
00399F  2  85 D1        L387D:      sta L00D1              ; 85 D1
0039A1  2  A2 00                    ldx #$00               ; A2 00
0039A3  2  BD E0 0B     L3881:      lda L0BE0,X            ; BD E0 0B
0039A6  2  F0 07                    beq L388D              ; F0 07
0039A8  2  E8                       inx                    ; E8
0039A9  2  E0 0C                    cpx #$0C               ; E0 0C
0039AB  2  90 F6                    bcc L3881              ; 90 F6
0039AD  2  18                       clc                    ; 18
0039AE  2  60           L388C:      rts                    ; 60
0039AF  2               
0039AF  2  20 6C 39     L388D:      jsr L384A              ; Set galaxy pointer $20/21
0039B2  2  A5 D1                    lda L00D1              ; A5 D1
0039B4  2  30 50                    bmi L38E4              ; 30 50
0039B6  2  0A                       asl A                  ; 0A
0039B7  2  A8                       tay                    ; A8
0039B8  2               
0039B8  2  B9 58 50                 lda L4ED2,Y            ; 3D object pointer
0039BB  2  85 1E                    sta L001E
0039BD  2  B9 59 50                 lda L4ED3,Y
0039C0  2  85 1F                    sta L001F
0039C2  2               
0039C2  2  C0 0E                    cpy #$0E               ; C0 0E
0039C4  2  F0 30                    beq L38D4              ; F0 30
0039C6  2  A0 05                    ldy #$05               ; A0 05
0039C8  2  B1 1E                    lda (L001E),Y          ; B1 1E
0039CA  2  85 06                    sta L0006              ; 85 06
0039CC  2  AD DF 0C                 lda L0CDF              ; AD DF 0C
0039CF  2  38                       sec                    ; 38
0039D0  2  E5 06                    sbc L0006              ; E5 06
0039D2  2  85 74                    sta L0074              ; 85 74
0039D4  2  AD E0 0C                 lda L0CE0              ; AD E0 0C
0039D7  2  E9 00                    sbc #$00               ; E9 00
0039D9  2  85 75                    sta L0075              ; 85 75
0039DB  2  A5 74                    lda L0074              ; A5 74
0039DD  2  E5 20                    sbc L0020              ; E5 20
0039DF  2  A8                       tay                    ; A8
0039E0  2  A5 75                    lda L0075              ; A5 75
0039E2  2  E5 21                    sbc L0021              ; E5 21
0039E4  2  90 C8                    bcc L388C              ; 90 C8
0039E6  2  D0 04                    bne L38CA              ; D0 04
0039E8  2  C0 24                    cpy #$24               ; C0 24
0039EA  2  90 C2                    bcc L388C              ; 90 C2
0039EC  2  A5 74        L38CA:      lda L0074              ; A5 74
0039EE  2  8D DF 0C                 sta L0CDF              ; 8D DF 0C
0039F1  2  A5 75                    lda L0075              ; A5 75
0039F3  2  8D E0 0C                 sta L0CE0              ; 8D E0 0C
0039F6  2  A0 0E        L38D4:      ldy #$0E               ; A0 0E
0039F8  2  B1 1E                    lda (L001E),Y          ; B1 1E
0039FA  2  85 76                    sta L0076              ; 85 76
0039FC  2  A0 13                    ldy #$13               ; A0 13
0039FE  2  B1 1E                    lda (L001E),Y          ; B1 1E
003A00  2  29 07                    and #$07               ; 29 07
003A02  2  85 72                    sta L0072              ; 85 72
003A04  2  A5 D1                    lda L00D1              ; A5 D1
003A06  2  9D E0 0B     L38E4:      sta L0BE0,X            ; 9D E0 0B
003A09  2  AA                       tax                    ; AA
003A0A  2  30 03                    bmi L38ED              ; 30 03
003A0C  2  FE ED 0B                 inc L0BED,X            ; FE ED 0B
003A0F  2  A0 23        L38ED:      ldy #$23               ; A0 23
003A11  2  B9 53 00     L38EF:      lda L0053,Y            ; Galaxy data
003A14  2  91 20                    sta (L0020),Y          ; 91 20
003A16  2  88                       dey                    ; 88
003A17  2  10 F8                    bpl L38EF              ; 10 F8
003A19  2  38                       sec                    ; 38
003A1A  2  60                       rts                    ; 60
003A1B  2               
003A1B  2  B5 53        L38F9:      lda L0053,X            ; Galaxy data
003A1D  2  49 80                    eor #$80               ; 49 80
003A1F  2  95 53                    sta L0053,X            ; Galaxy data
003A21  2  E8                       inx                    ; E8
003A22  2  E8                       inx                    ; E8
003A23  2  60                       rts                    ; 60
003A24  2               
003A24  2  A0 09        L3902:      ldy #$09               ; Sprite=normal
003A26  2  A2 FF        L3904:      ldx #$FF               ; A2 FF
003A28  2  86 52        L3906:      stx L0052              ; 86 52
003A2A  2  AE 33 03                 ldx L0333              ; Get nr of missiles
003A2D  2  20 65 3A                 jsr L393F              ; Plot missiles in panel
003A30  2               
003A30  2  8C 00 0C                 sty L0C00              ; Missile locked on target
003A33  2  60                       rts
003A34  2               
003A34  2  A9 20        L3912:      lda #$20               ; A9 20
003A36  2  85 30                    sta L0030              ; E mark in panel
003A38  2  0A                       asl A                  ; ???
003A39  2  20 17 44                 jsr L4281              ; Make sound
003A3C  2               
003A3C  2               ;---------------------------------------------
003A3C  2               ; Plot E (???) indicator in panel
003A3C  2               ;---------------------------------------------
003A3C  2               
003A3C  2               L391A:
003A3C  2  A9 07        	lda #<$9607		; Set screen address
003A3E  2  A2 5A        	ldx #<L3934		; Set character address
003A40  2  A0 96        	ldy #>$9607
003A42  2  D0 06        	bne L3928		; Forced jump
003A44  2               
003A44  2               ;---------------------------------------------
003A44  2               ; Plot S (Space station indicator) in panel
003A44  2               ;---------------------------------------------
003A44  2               
003A44  2               L3922:
003A44  2  A9 18        	lda #<$9618		; Set screen address
003A46  2  A2 5D        	ldx #<L3937		; Set charachter address
003A48  2  A0 96        	ldy #>$9618
003A4A  2               L3928:
003A4A  2  85 07        	sta L0007		; Set lb-screen address
003A4C  2  86 1C        	stx L001C		; Set lb-char address
003A4E  2  A2 3A        	ldx #>L3937
003A50  2  86 1D        	stx L001D		; Set hb-char address
003A52  2  98           	tya			; Get hb-screen address
003A53  2               
003A53  2  85 08        	sta L0008		;CHAR8x6
003A55  2  A0 07        	ldy #$07		;CHAR8x6
003A57  2  4C 6D 1D     	jmp L1D6A		;CHAR8x6
003A5A  2               L3934:
003A5A  2  FE FE E0     	.byte $FE,$FE,$E0	; Data char-E
003A5D  2               L3937:
003A5D  2  FE FE E0     	.byte $FE,$FE,$E0	; Data char-S
003A60  2  FE FE 0E     	.byte $FE,$FE,$0E
003A63  2  FE FE        	.byte $FE,$FE
003A65  2               
003A65  2               ;--------------------------------------------
003A65  2               ; Plot missile sprite
003A65  2               ;
003A65  2               ; X = position (1-4)
003A65  2               ; Y = sprite pointer to last byte ($4,$9,$d,$11)
003A65  2               ;  $04 = clear missile
003A65  2               ;  $09 = filled block
003A65  2               ;  $0d = missile locked
003A65  2               ;  $11 = missile target
003A65  2               ;--------------------------------------------
003A65  2               
003A65  2               L393F:
003A65  2  8A           	txa
003A66  2  48           	pha			; Save X
003A67  2               
003A67  2  85 D1        	sta L00D1		; Set Screen ptr
003A69  2               
003A69  2  38           	sec			; Calculate screenaddress
003A6A  2  A9 06        	lda #<$9706
003A6C  2  E5 D1        	sbc L00D1
003A6E  2  85 07        	sta L0007
003A70  2  A9 97        	lda #>$9706
003A72  2  85 08        	sta L0008
003A74  2               
003A74  2  98           	tya			; Set sprite pointer
003A75  2  AA           	tax
003A76  2               
003A76  2  A0 05        	ldy #$05		; Plot 5 lines/sprite
003A78  2               L3954:
003A78  2  8C E3 17     	sty tmp_y
003A7B  2  B9 DB 17     	lda rowbyte,y
003A7E  2  A8           	tay
003A7F  2  BD 8E 3A     	lda L3960,X		; Get spritedata
003A82  2  91 07        	sta (L0007),Y		; Plot on screen
003A84  2  AC E3 17     	ldy tmp_y
003A87  2  CA           	dex			; Next sprite byte
003A88  2  88           	dey			; Next screen line
003A89  2  D0 ED        	bne L3954		; If not last, repeat
003A8B  2               
003A8B  2  68           	pla			; Restore X
003A8C  2  AA           	tax
003A8D  2               
003A8D  2  60           	rts
003A8E  2               L3960:
003A8E  2  00 00 00 00  	.byte $00,$00,$00,$00,$00	; Data sprites
003A92  2  00           
003A93  2  FC FC FC FC  	.byte $FC,$FC,$FC,$FC,$FC
003A97  2  FC           
003A98  2  84 B4 84 FC  	.byte $84,$B4,$84,$FC,$C4
003A9C  2  C4           
003A9D  2  EC EC FC     	.byte $EC,$EC,$FC
003AA0  2               
003AA0  2               ;--------------------------------------------
003AA0  2               
003AA0  2  A5 53        L3972:      lda L0053              ; Galaxy data
003AA2  2  85 1B                    sta L001B              ; 85 1B
003AA4  2  A5 54                    lda L0054              ; A5 54
003AA6  2  85 1C                    sta L001C              ; 85 1C
003AA8  2  A5 55                    lda L0055              ; A5 55
003AAA  2  20 F9 3B                 jsr L3ACB              ; 20 CB 3A
003AAD  2  B0 28                    bcs L39A9              ; B0 28
003AAF  2  A5 3D                    lda L003D              ; A5 3D
003AB1  2               
003AB1  2  69 80                    adc #$80               ; X+128 Centre screen
003AB3  2               
003AB3  2  85 D2                    sta L00D2              ; 85 D2
003AB5  2  8A                       txa                    ; 8A
003AB6  2  69 00                    adc #$00               ; 69 00
003AB8  2  85 D3                    sta L00D3              ; 85 D3
003ABA  2  A5 56                    lda L0056              ; A5 56
003ABC  2  85 1B                    sta L001B              ; 85 1B
003ABE  2  A5 57                    lda L0057              ; A5 57
003AC0  2  85 1C                    sta L001C              ; 85 1C
003AC2  2  A5 58                    lda L0058              ; A5 58
003AC4  2  49 80                    eor #$80               ; 49 80
003AC6  2  20 F9 3B                 jsr L3ACB              ; 20 CB 3A
003AC9  2  B0 0C                    bcs L39A9              ; B0 0C
003ACB  2  A5 3D                    lda L003D              ; A5 3D
003ACD  2               
003ACD  2               ;            adc #$60               ; Y+96 Centre screen
003ACD  2  69 43                    adc #$43               ; Y+96 Centre screen
003ACF  2               
003ACF  2  85 E0                    sta L00E0              ; 85 E0
003AD1  2  8A                       txa                    ; 8A
003AD2  2  69 00                    adc #$00               ; 69 00
003AD4  2  85 E1                    sta L00E1              ; 85 E1
003AD6  2  18                       clc                    ; 18
003AD7  2  60           L39A9:      rts                    ; 60
003AD8  2               
003AD8  2  4C 7C 3B     L39AA:      jmp L3A4E              ; 4C 4E 3A
003ADB  2               
003ADB  2  A5 AB        L39AD:      lda L00AB              ; TYPE
003ADD  2  4A                       lsr A                  ; 4A
003ADE  2  B0 F7                    bcs L39A9              ; B0 F7
003AE0  2  A5 5B                    lda L005B              ; A5 5B
003AE2  2  30 F4                    bmi L39AA              ; 30 F4
003AE4  2  C9 30                    cmp #$30               ; C9 30
003AE6  2  B0 F0                    bcs L39AA              ; B0 F0
003AE8  2  05 5A                    ora L005A              ; 05 5A
003AEA  2  F0 EC                    beq L39AA              ; F0 EC
003AEC  2  20 A0 3A                 jsr L3972              ; 20 72 39
003AEF  2  B0 E7                    bcs L39AA              ; B0 E7
003AF1  2               
003AF1  2  A9 43        	lda #$43		; CHAR8x6
003AF3  2               ;            lda #$60               ; CHAR8x8
003AF3  2               
003AF3  2  85 1C                    sta L001C              ; 85 1C
003AF5  2               
003AF5  2  A9 00                    lda #$00               ; A9 00
003AF7  2  85 1B                    sta L001B              ; 85 1B
003AF9  2  20 8C 25                 jsr L255F              ; 20 5F 25
003AFC  2               
003AFC  2  A5 3E                    lda L003E              ; A5 3E
003AFE  2  F0 04                    beq L39D6              ; F0 04
003B00  2               
003B00  2  A9 F8                    lda #$F8               ; A9 F8
003B02  2  85 3D                    sta L003D              ; 85 3D
003B04  2               
003B04  2  20 7C 3B     L39D6:      jsr L3A4E              ; 20 4E 3A
003B07  2  4C 0A 3B                 jmp L39DC              ; Draw circle
003B0A  2               
003B0A  2               ;--------------------------------------------
003B0A  2               ; Circle
003B0A  2               ;--------------------------------------------
003B0A  2               
003B0A  2  20 BF 3B     L39DC:      jsr L3A91              ; CHKON
003B0D  2  B0 C8                    bcs L39A9              ; Return
003B0F  2  A9 00                    lda #$00               ; A9 00
003B11  2  8D 5E 0C                 sta L0C5E              ; 8D 5E 0C
003B14  2  A6 3D                    ldx L003D              ; A6 3D
003B16  2  A9 08                    lda #$08               ; A9 08
003B18  2  E0 09                    cpx #$09               ; E0 09
003B1A  2  90 01                    bcc L39EF              ; 90 01
003B1C  2  4A                       lsr A                  ; 4A
003B1D  2  85 B6        L39EF:      sta L00B6              ; 85 B6
003B1F  2               
003B1F  2               ;--------------------------------------------
003B1F  2               ; Circle 2
003B1F  2               ;--------------------------------------------
003B1F  2               
003B1F  2  A2 FF        L39F1:      ldx #$FF               ; Circle 2
003B21  2  86 B3                    stx L00B3              ; Flag
003B23  2  E8                       inx
003B24  2  86 B4                    stx L00B4              ; Counter
003B26  2               
003B26  2  A5 B4        L39F8:      lda L00B4              ; A5 B4
003B28  2  20 4D 24                 jsr L2420              ; 20 20 24
003B2B  2               
003B2B  2  A2 00                    ldx #$00               ; A2 00
003B2D  2  86 D1                    stx L00D1              ; 86 D1
003B2F  2  A6 B4                    ldx L00B4              ; A6 B4
003B31  2  E0 21                    cpx #$21               ; E0 21
003B33  2  90 0D                    bcc L3A14              ; 90 0D
003B35  2  49 FF                    eor #$FF               ; 49 FF
003B37  2  69 00                    adc #$00               ; 69 00
003B39  2  AA                       tax                    ; AA
003B3A  2  A9 FF                    lda #$FF               ; A9 FF
003B3C  2  69 00                    adc #$00               ; 69 00
003B3E  2  85 D1                    sta L00D1              ; 85 D1
003B40  2  8A                       txa                    ; 8A
003B41  2  18                       clc                    ; 18
003B42  2  65 D2        L3A14:      adc L00D2              ; 65 D2
003B44  2  85 82                    sta L0082              ; 85 82
003B46  2  A5 D3                    lda L00D3              ; A5 D3
003B48  2  65 D1                    adc L00D1              ; 65 D1
003B4A  2  85 83                    sta L0083              ; 85 83
003B4C  2  A5 B4                    lda L00B4              ; A5 B4
003B4E  2  18                       clc                    ; 18
003B4F  2  69 10                    adc #$10               ; 69 10
003B51  2  20 4D 24                 jsr L2420              ; 20 20 24
003B54  2               
003B54  2  AA                       tax                    ; AA
003B55  2  A9 00                    lda #$00               ; A9 00
003B57  2  85 D1                    sta L00D1              ; 85 D1
003B59  2  A5 B4                    lda L00B4              ; A5 B4
003B5B  2  69 0F                    adc #$0F               ; 69 0F
003B5D  2  29 3F                    and #$3F               ; 29 3F
003B5F  2  C9 21                    cmp #$21               ; C9 21
003B61  2  90 0D                    bcc L3A42              ; 90 0D
003B63  2  8A                       txa                    ; 8A
003B64  2  49 FF                    eor #$FF               ; 49 FF
003B66  2  69 00                    adc #$00               ; 69 00
003B68  2  AA                       tax                    ; AA
003B69  2  A9 FF                    lda #$FF               ; A9 FF
003B6B  2  69 00                    adc #$00               ; 69 00
003B6D  2  85 D1                    sta L00D1              ; 85 D1
003B6F  2  18                       clc                    ; 18
003B70  2               
003B70  2  20 78 18     L3A42:      jsr L1893              ; BLINE
003B73  2  C9 41                    cmp #$41               ; C9 41
003B75  2  B0 03                    bcs L3A4C              ; B0 03
003B77  2  4C 26 3B                 jmp L39F8              ; 4C F8 39
003B7A  2               
003B7A  2  18           L3A4C:      clc                    ; 18
003B7B  2  60                       rts                    ; 60
003B7C  2               
003B7C  2  AC 5E 0C     L3A4E:      ldy L0C5E              ; AC 5E 0C
003B7F  2  D0 34                    bne L3A87              ; D0 34
003B81  2  C4 77        L3A53:      cpy L0077              ; C4 77
003B83  2  B0 30                    bcs L3A87              ; B0 30
003B85  2  B9 86 0C                 lda L0C86,Y            ; B9 86 0C
003B88  2  C9 FF                    cmp #$FF               ; C9 FF
003B8A  2  F0 1A                    beq L3A78              ; F0 1A
003B8C  2  85 34                    sta L0034              ; 85 34
003B8E  2  B9 5E 0C                 lda L0C5E,Y            ; B9 5E 0C
003B91  2  85 33                    sta L0033              ; 85 33
003B93  2  20 23 16                 jsr L1621              ; Plot line
003B96  2               
003B96  2  C8                       iny                    ; C8
003B97  2  A5 B1                    lda L00B1              ; A5 B1
003B99  2  D0 E6                    bne L3A53              ; D0 E6
003B9B  2  A5 33                    lda L0033              ; A5 33
003B9D  2  85 31                    sta L0031              ; Set x1
003B9F  2  A5 34                    lda L0034              ; A5 34
003BA1  2  85 32                    sta L0032              ; Set y1
003BA3  2  4C 81 3B                 jmp L3A53              ; 4C 53 3A
003BA6  2  C8           L3A78:      iny                    ; C8
003BA7  2  B9 5E 0C                 lda L0C5E,Y            ; B9 5E 0C
003BAA  2  85 31                    sta L0031              ; Set x1
003BAC  2  B9 86 0C                 lda L0C86,Y            ; B9 86 0C
003BAF  2  85 32                    sta L0032              ; Set y1
003BB1  2  C8                       iny                    ; C8
003BB2  2  4C 81 3B                 jmp L3A53              ; 4C 53 3A
003BB5  2  A9 01        L3A87:      lda #$01               ; A9 01
003BB7  2  85 77                    sta L0077              ; 85 77
003BB9  2  A9 FF                    lda #$FF               ; A9 FF
003BBB  2  8D 5E 0C                 sta L0C5E              ; 8D 5E 0C
003BBE  2  60                       rts                    ; 60
003BBF  2               
003BBF  2  A5 D2        L3A91:      lda L00D2              ; A5 D2
003BC1  2  18                       clc                    ; 18
003BC2  2  65 3D                    adc L003D              ; 65 3D
003BC4  2               
003BC4  2  A5 D3                    lda L00D3              ; A5 D3
003BC6  2  69 00                    adc #$00               ; 69 00
003BC8  2  30 2D                    bmi L3AC9              ; 30 2D
003BCA  2               
003BCA  2  A5 D2                    lda L00D2              ; A5 D2
003BCC  2  38                       sec                    ; 38
003BCD  2  E5 3D                    sbc L003D              ; E5 3D
003BCF  2               
003BCF  2  A5 D3                    lda L00D3              ; A5 D3
003BD1  2  E9 00                    sbc #$00               ; E9 00
003BD3  2  30 02                    bmi L3AA9              ; 30 02
003BD5  2  D0 20                    bne L3AC9              ; D0 20
003BD7  2               
003BD7  2  A5 E0        L3AA9:      lda L00E0              ; A5 E0
003BD9  2  18                       clc                    ; 18
003BDA  2  65 3D                    adc L003D              ; 65 3D
003BDC  2  85 1C                    sta L001C              ; 85 1C
003BDE  2               
003BDE  2  A5 E1                    lda L00E1              ; A5 E1
003BE0  2  69 00                    adc #$00               ; 69 00
003BE2  2  30 13                    bmi L3AC9              ; 30 13
003BE4  2  85 1D                    sta L001D              ; 85 1D
003BE6  2               
003BE6  2  A5 E0                    lda L00E0              ; A5 E0
003BE8  2  38                       sec                    ; 38
003BE9  2  E5 3D                    sbc L003D              ; E5 3D
003BEB  2  AA                       tax                    ; AA
003BEC  2               
003BEC  2  A5 E1                    lda L00E1              ; A5 E1
003BEE  2  E9 00                    sbc #$00               ; E9 00
003BF0  2  30 2A                    bmi L3AEE              ; 30 2A
003BF2  2  D0 03                    bne L3AC9              ; D0 03
003BF4  2               
003BF4  2               ;            cpx #$BF               ; E0 BF
003BF4  2  E0 86                     cpx #$86               ; Check not in panel
003BF6  2               
003BF6  2  60                      rts                    ; 60
003BF7  2               
003BF7  2  38           L3AC9:      sec                    ; 38
003BF8  2  60                       rts                    ; 60
003BF9  2               
003BF9  2  20 8C 25     L3ACB:      jsr L255F              ; 20 5F 25
003BFC  2  A5 40                    lda L0040              ; A5 40
003BFE  2  29 7F                    and #$7F               ; 29 7F
003C00  2  05 3F                    ora L003F              ; 05 3F
003C02  2  D0 F3                    bne L3AC9              ; D0 F3
003C04  2  A6 3E                    ldx L003E              ; A6 3E
003C06  2  E0 04                    cpx #$04               ; E0 04
003C08  2  B0 13                    bcs L3AEF              ; B0 13
003C0A  2  A5 40                    lda L0040              ; A5 40
003C0C  2  10 0F                    bpl L3AEF              ; 10 0F
003C0E  2  A5 3D                    lda L003D              ; A5 3D
003C10  2  49 FF                    eor #$FF               ; 49 FF
003C12  2  69 01                    adc #$01               ; 69 01
003C14  2  85 3D                    sta L003D              ; 85 3D
003C16  2  8A                       txa                    ; 8A
003C17  2  49 FF                    eor #$FF               ; 49 FF
003C19  2  69 00                    adc #$00               ; 69 00
003C1B  2  AA                       tax                    ; AA
003C1C  2               
003C1C  2  18           L3AEE:      clc                    ; 18
003C1D  2  60           L3AEF:      rts                    ; 60
003C1E  2               
003C1E  2  20 A1 44     L3AF0:      jsr L431D              ; 20 1D 43
003C21  2  AE 24 0D                 ldx L0D24              ; AE 24 0D
003C24  2  F0 22                    beq L3B1A              ; Scan cursor keys
003C26  2  A5 AC                    lda L00AC              ; A5 AC
003C28  2  49 FF                    eor #$FF               ; 49 FF
003C2A  2  20 31 3C                 jsr L3B03              ; 20 03 3B
003C2D  2  98                       tya                    ; 98
003C2E  2  AA                       tax                    ; AA
003C2F  2  A5 AD                    lda L00AD              ; A5 AD
003C31  2               
003C31  2  A8           L3B03:      tay                    ; A8
003C32  2  A9 00                    lda #$00               ; A9 00
003C34  2  C0 10                    cpy #$10               ; C0 10
003C36  2  E9 00                    sbc #$00               ; E9 00
003C38  2  C0 40                    cpy #$40               ; C0 40
003C3A  2  E9 00                    sbc #$00               ; E9 00
003C3C  2  C0 C0                    cpy #$C0               ; C0 C0
003C3E  2  69 00                    adc #$00               ; 69 00
003C40  2  C0 E0                    cpy #$E0               ; C0 E0
003C42  2  69 00                    adc #$00               ; 69 00
003C44  2  A8                       tay                    ; A8
003C45  2  A5 41                    lda L0041              ; Get last-key
003C47  2  60                       rts                    ; 60
003C48  2               
003C48  2               ;--------------------------------------------
003C48  2               ; Scan cursor keys and adjust x or y
003C48  2               ;--------------------------------------------
003C48  2               
003C48  2  A5 41        L3B1A:      lda L0041              ; Get last-key
003C4A  2  A0 00                    ldy #$00
003C4C  2               
003C4C  2  C9 18                    cmp #$18               ; Cursor left
003C4E  2  D0 01                    bne L3B23
003C50  2  CA                       dex                    ; x=x-1
003C51  2               
003C51  2  C9 78        L3B23:      cmp #$78               ; Cursor right
003C53  2  D0 01                    bne L3B28
003C55  2  E8                       inx                    ; x=x+1
003C56  2               
003C56  2  C9 39        L3B28:      cmp #$39               ; Cursor up
003C58  2  D0 01                    bne L3B2D
003C5A  2  C8                       iny                    ; y=y+1
003C5B  2               
003C5B  2  C9 28        L3B2D:      cmp #$28               ; Cursor down
003C5D  2  D0 01                    bne L3B32
003C5F  2  88                       dey                    ; y=y-1
003C60  2               
003C60  2  60           L3B32:      rts
003C61  2               
003C61  2               ;--------------------------------------------
003C61  2               ; Copy $0301/$0302 -> $0CF2/$0CF3
003C61  2               ;--------------------------------------------
003C61  2               
003C61  2  A2 01        L3B33:      ldx #$01
003C63  2  BD 01 03     L3B35:      lda L0301,X		; Commander home X
003C66  2  9D F2 0C                 sta L0CF2,X
003C69  2  CA                       dex
003C6A  2  10 F7                    bpl L3B35
003C6C  2  60                       rts
003C6D  2               
003C6D  2               ;--------------------------------------------
003C6D  2               ; Start ELITEF.TXT
003C6D  2               ;--------------------------------------------
003C6D  2               
003C6D  2  A5 1B        L3B3F:      lda L001B              ; A5 1B
003C6F  2  8D DF 0C                 sta L0CDF              ; 8D DF 0C
003C72  2  A5 1C                    lda L001C              ; A5 1C
003C74  2  8D E0 0C                 sta L0CE0              ; 8D E0 0C
003C77  2  60                       rts                    ; 60
003C78  2               
003C78  2  A6 A3        L3B4A:      ldx L00A3              ; A6 A3
003C7A  2  20 D0 3C                 jsr L3BA2              ; 20 A2 3B
003C7D  2  A6 A3                    ldx L00A3              ; A6 A3
003C7F  2  4C 80 0E                 jmp L0E80              ; 4C 80 0E
003C82  2               
003C82  2  20 F4 3D     L3B54:      jsr L3CC6              ; 20 C6 3C
003C85  2  A9 00                    lda #$00               ; A9 00
003C87  2  8D E1 0B                 sta L0BE1              ; 8D E1 0B
003C8A  2  8D F4 0B                 sta L0BF4              ; 8D F4 0B
003C8D  2  20 44 3A                 jsr L3922              ; 20 22 39
003C90  2  A9 06                    lda #$06               ; A9 06
003C92  2  85 58                    sta L0058              ; 85 58
003C94  2  A9 81                    lda #$81               ; A9 81
003C96  2  4C 9F 39                 jmp L387D              ; New ship
003C99  2               
003C99  2  A2 FF        L3B6B:      ldx #$FF               ; A2 FF
003C9B  2               
003C9B  2  E8           L3B6D:      inx                    ; E8
003C9C  2  BD E0 0B                 lda L0BE0,X            ; BD E0 0B
003C9F  2  F0 CC                    beq L3B3F              ; F0 CC
003CA1  2  C9 08                    cmp #$08               ; C9 08
003CA3  2  D0 F6                    bne L3B6D              ; D0 F6
003CA5  2               
003CA5  2  8A                       txa                    ; 8A
003CA6  2  0A                       asl A                  ; 0A
003CA7  2  A8                       tay                    ; A8
003CA8  2               
003CA8  2  B9 F1 15                 lda L15F1,Y            ; Get galaxy pointer
003CAB  2  85 07                    sta L0007              ; Set lb
003CAD  2  B9 F2 15                 lda L15F1+1,Y          ; Get galaxy pointer
003CB0  2  85 08                    sta L0008              ; Set hb
003CB2  2               
003CB2  2  A0 20                    ldy #$20               ; A0 20
003CB4  2  B1 07                    lda (L0007),Y          ; B1 07
003CB6  2  10 E3                    bpl L3B6D              ; 10 E3
003CB8  2               
003CB8  2  29 7F                    and #$7F               ; 29 7F
003CBA  2  4A                       lsr A                  ; 4A
003CBB  2  C5 B7                    cmp L00B7              ; C5 B7
003CBD  2  90 DC                    bcc L3B6D              ; 90 DC
003CBF  2  F0 09                    beq L3B9C              ; F0 09
003CC1  2  E9 01                    sbc #$01               ; E9 01
003CC3  2  0A                       asl A                  ; 0A
003CC4  2  09 80                    ora #$80               ; 09 80
003CC6  2  91 07                    sta (L0007),Y          ; 91 07
003CC8  2  D0 D1                    bne L3B6D              ; D0 D1
003CCA  2  A9 00        L3B9C:      lda #$00               ; A9 00
003CCC  2  91 07                    sta (L0007),Y          ; 91 07
003CCE  2  F0 CB                    beq L3B6D              ; F0 CB
003CD0  2  86 B7        L3BA2:      stx L00B7              ; 86 B7
003CD2  2  A5 52                    lda L0052              ; A5 52
003CD4  2  C5 B7                    cmp L00B7              ; C5 B7
003CD6  2  D0 08                    bne L3BB2              ; D0 08
003CD8  2  20 24 3A                 jsr L3902              ; 20 02 39
003CDB  2               
003CDB  2  A9 C8                    lda #$C8               ; Text 'TARGET LOST'
003CDD  2  20 48 45                 jsr L43C2              ; Print at bottomline
003CE0  2  A4 B7        L3BB2:      ldy L00B7              ; A4 B7
003CE2  2  BE E0 0B                 ldx L0BE0,Y            ; BE E0 0B
003CE5  2  E0 07                    cpx #$07               ; E0 07
003CE7  2  F0 99                    beq L3B54              ; F0 99
003CE9  2  DE ED 0B                 dec L0BED,X            ; DE ED 0B
003CEC  2  A6 B7                    ldx L00B7              ; A6 B7
003CEE  2  A0 05                    ldy #$05               ; A0 05
003CF0  2  B1 1E                    lda (L001E),Y          ; B1 1E
003CF2  2  A0 21                    ldy #$21               ; A0 21
003CF4  2  18                       clc                    ; 18
003CF5  2  71 20                    adc (L0020),Y          ; 71 20
003CF7  2  85 1B                    sta L001B              ; 85 1B
003CF9  2  C8                       iny                    ; C8
003CFA  2  B1 20                    lda (L0020),Y          ; B1 20
003CFC  2  69 00                    adc #$00               ; 69 00
003CFE  2  85 1C                    sta L001C              ; 85 1C
003D00  2  E8           L3BD2:      inx                    ; E8
003D01  2  BD E0 0B                 lda L0BE0,X            ; BD E0 0B
003D04  2  9D DF 0B                 sta L0BDF,X            ; 9D DF 0B
003D07  2  F0 90                    beq L3B6B              ; F0 90
003D09  2  0A                       asl A                  ; 0A
003D0A  2  A8                       tay                    ; A8
003D0B  2               
003D0B  2  B9 58 50                 lda L4ED2,Y            ; 3D object pointer
003D0E  2  85 07                    sta L0007
003D10  2  B9 59 50                 lda L4ED3,Y
003D13  2  85 08                    sta L0008
003D15  2               
003D15  2  A0 05                    ldy #$05               ; A0 05
003D17  2  B1 07                    lda (L0007),Y          ; B1 07
003D19  2  85 D1                    sta L00D1              ; 85 D1
003D1B  2  A5 1B                    lda L001B              ; A5 1B
003D1D  2  38                       sec                    ; 38
003D1E  2  E5 D1                    sbc L00D1              ; E5 D1
003D20  2  85 1B                    sta L001B              ; 85 1B
003D22  2  A5 1C                    lda L001C              ; A5 1C
003D24  2  E9 00                    sbc #$00               ; E9 00
003D26  2  85 1C                    sta L001C              ; 85 1C
003D28  2  8A                       txa                    ; 8A
003D29  2  0A                       asl A                  ; 0A
003D2A  2  A8                       tay                    ; A8
003D2B  2               
003D2B  2  B9 F1 15                 lda L15F1,Y            ; Get galaxy pointer
003D2E  2  85 07                    sta L0007              ; Set lb
003D30  2  B9 F2 15                 lda L15F1+1,Y          ; Get galaxy pointer
003D33  2  85 08                    sta L0008              ; Set hb
003D35  2               
003D35  2  A0 23                    ldy #$23               ; A0 23
003D37  2  B1 07                    lda (L0007),Y          ; B1 07
003D39  2  91 20                    sta (L0020),Y          ; 91 20
003D3B  2  88                       dey                    ; 88
003D3C  2  B1 07                    lda (L0007),Y          ; B1 07
003D3E  2  85 3E                    sta L003E              ; 85 3E
003D40  2  A5 1C                    lda L001C              ; A5 1C
003D42  2  91 20                    sta (L0020),Y          ; 91 20
003D44  2  88                       dey                    ; 88
003D45  2  B1 07                    lda (L0007),Y          ; B1 07
003D47  2  85 3D                    sta L003D              ; 85 3D
003D49  2  A5 1B                    lda L001B              ; A5 1B
003D4B  2  91 20                    sta (L0020),Y          ; 91 20
003D4D  2  88                       dey                    ; 88
003D4E  2  B1 07        L3C20:      lda (L0007),Y          ; B1 07
003D50  2  91 20                    sta (L0020),Y          ; 91 20
003D52  2  88                       dey                    ; 88
003D53  2  10 F9                    bpl L3C20              ; 10 F9
003D55  2  A5 07                    lda L0007              ; A5 07
003D57  2  85 20                    sta L0020              ; 85 20
003D59  2  A5 08                    lda L0008              ; A5 08
003D5B  2  85 21                    sta L0021              ; 85 21
003D5D  2  A4 D1                    ldy L00D1              ; A4 D1
003D5F  2  88           L3C31:      dey                    ; 88
003D60  2  B1 3D                    lda (L003D),Y          ; B1 3D
003D62  2  91 1B                    sta (L001B),Y          ; 91 1B
003D64  2  98                       tya                    ; 98
003D65  2  D0 F8                    bne L3C31              ; D0 F8
003D67  2  F0 97                    beq L3BD2              ; F0 97
003D69  2               
003D69  2  11 01 00 03  L3C3B:      .byte $11,$01,$00,$03
003D6D  2  11 02 2C 04              .byte $11,$02,$2C,$04
003D71  2  11 03 F0 06              .byte $11,$03,$F0,$06
003D75  2  10 F1 04 05              .byte $10,$F1,$04,$05
003D79  2  01 F1 BC 01              .byte $01,$F1,$BC,$01
003D7D  2  11 F4 0C 08              .byte $11,$F4,$0C,$08
003D81  2  10 F1 04 06              .byte $10,$F1,$04,$06
003D85  2  10 02 60 10              .byte $10,$02,$60,$10
003D89  2  11 04 C2 FF              .byte $11,$04,$C2,$FF
003D8D  2  11 00 00 00              .byte $11,$00,$00,$00
003D91  2               
003D91  2  70 24 56 56  L3C63:      .byte $70,$24,$56,$56,$42,$28,$C8,$D0
003D95  2  42 28 C8 D0  
003D99  2  F0 E0                    .byte $F0,$E0
003D9B  2               
003D9B  2               ;--------------------------------------------
003D9B  2               ;
003D9B  2               ;--------------------------------------------
003D9B  2               
003D9B  2  20 90 42     L3C6D:      jsr L40D6              ; Clear page $09,$0A,$0B
003D9E  2               
003D9E  2  A2 06                    ldx #$06               ; Clear L002A-L002F=0
003DA0  2  95 2A        L3C72:      sta L002A,X
003DA2  2  CA                       dex
003DA3  2  10 FB                    bpl L3C72
003DA5  2               
003DA5  2  86 AF                    stx L00AF              ; Docked flag
003DA7  2               ;	stx freeze	; Chart hack
003DA7  2               
003DA7  2  A9 FF        L3C79:      lda #$FF               ; Reset Energy L0CD2-L0CD4=$FF
003DA9  2  A2 02                    ldx #$02
003DAB  2  9D D2 0C     L3C7D:      sta L0CD2,X
003DAE  2  CA                       dex
003DAF  2  10 FA                    bpl L3C7D
003DB1  2               
003DB1  2  A2 FF        L3C83:      ldx #$FF               ; Reset vars=$ff
003DB3  2  8E 5E 0C                 stx L0C5E
003DB6  2  8E 86 0C                 stx L0C86
003DB9  2  86 52                    stx L0052
003DBB  2               
003DBB  2  A9 80                    lda #$80               ; Reset vars=$80
003DBD  2  85 AD                    sta L00AD
003DBF  2  85 88                    sta L0088
003DC1  2  85 8A                    sta L008A
003DC3  2               
003DC3  2  0A                       asl A                  ; Reset vars=0
003DC4  2  85 89                    sta L0089
003DC6  2  85 8B                    sta L008B
003DC8  2  85 A9                    sta L00A9
003DCA  2               
003DCA  2  A9 03                    lda #$03               ; Reset vars=3
003DCC  2  85 8C                    sta L008C              ; Set speed
003DCE  2  85 AE                    sta L00AE
003DD0  2  85 87                    sta L0087
003DD2  2               
003DD2  2  AD F4 0B                 lda L0BF4              ; AD F4 0B
003DD5  2  F0 03                    beq L3CAC              ; F0 03
003DD7  2               
003DD7  2  20 44 3A                 jsr L3922              ; 20 22 39
003DDA  2               
003DDA  2  A5 30        L3CAC:      lda L0030              ; E mark in panel
003DDC  2  F0 03                    beq L3CB3              ; F0 03
003DDE  2               
003DDE  2  20 CD 43                 jsr L4237              ; 20 37 42
003DE1  2               
003DE1  2  20 1A 38     L3CB3:      jsr L36F4              ; 20 F4 36
003DE4  2  20 90 42                 jsr L40D6              ; Clear page $09,$0A,$0B
003DE7  2               
003DE7  2  A9 DF                    lda #<L0BDF               ; A9 DF
003DE9  2  8D DF 0C                 sta L0CDF              ; 8D DF 0C
003DEC  2  A9 0B                    lda #>L0BDF               ; A9 0B
003DEE  2  8D E0 0C                 sta L0CE0              ; 8D E0 0C
003DF1  2               
003DF1  2  20 93 1D                 jsr L1D83              ; Update bars + gyro pointers
003DF4  2               
003DF4  2  A0 23        L3CC6:      ldy #$23               ; A0 23
003DF6  2  A9 00                    lda #$00               ; A9 00
003DF8  2  99 53 00     L3CCA:      sta L0053,Y            ; Galaxy data
003DFB  2  88                       dey                    ; 88
003DFC  2  10 FA                    bpl L3CCA              ; 10 FA
003DFE  2               
003DFE  2               ;            lda #$60               ; A9 60
003DFE  2  A9 43                    lda #$43               ; A9 60
003E00  2               
003E00  2  85 65                    sta L0065              ; 85 65
003E02  2  85 69                    sta L0069              ; 85 69
003E04  2               
003E04  2  09 80                    ora #$80               ; 09 80
003E06  2  85 61                    sta L0061              ; 85 61
003E08  2               
003E08  2  60                       rts                    ; 60
003E09  2               
003E09  2               ;--------------------------------------------
003E09  2               ; Plot missiles in panel
003E09  2               ;--------------------------------------------
003E09  2               
003E09  2               L3CDB:
003E09  2  A2 04        	ldx #$04		; Set pointer
003E0B  2               L3CDD:
003E0B  2  EC 33 03     	cpx L0333		; Compare with missile counter
003E0E  2  F0 09        	beq L3CEB		; Plot normal missile from now on
003E10  2               
003E10  2  A0 04        	ldy #$04		; Sprite=clear
003E12  2  20 65 3A     	jsr L393F		; Plot missiles in panel
003E15  2               
003E15  2  CA           	dex			; Next missile
003E16  2  D0 F3        	bne L3CDD		; Last one plotted?
003E18  2  60           	rts
003E19  2               L3CEB:
003E19  2  A0 09        	ldy #$09		; Sprite=normal
003E1B  2  20 65 3A     	jsr L393F		; Plot missiles in panel
003E1E  2  CA           	dex			; Next missile
003E1F  2  D0 F8        	bne L3CEB		; Last one plotted?
003E21  2  60           	rts
003E22  2               
003E22  2               ;--------------------------------------------
003E22  2               
003E22  2  AD D1 0C     L3CF4:      lda L0CD1              ; AD D1 0C
003E25  2  20 48 45                 jsr L43C2              ; Print at bottomline
003E28  2  A9 00                    lda #$00               ; A9 00
003E2A  2  8D 06 0C                 sta L0C06              ; 8D 06 0C
003E2D  2  4C 85 3E                 jmp L3D57              ; 4C 57 3D
003E30  2               
003E30  2  20 F4 3D     L3D02:      jsr L3CC6              ; 20 C6 3C
003E33  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
003E36  2  85 06                    sta L0006              ; 85 06
003E38  2  29 80                    and #$80               ; 29 80
003E3A  2  85 55                    sta L0055              ; 85 55
003E3C  2  8A                       txa                    ; 8A
003E3D  2  29 80                    and #$80               ; 29 80
003E3F  2  85 58                    sta L0058              ; 85 58
003E41  2  A9 20                    lda #$20               ; A9 20
003E43  2  85 54                    sta L0054              ; 85 54
003E45  2  85 57                    sta L0057              ; 85 57
003E47  2  85 5A                    sta L005A              ; 85 5A
003E49  2  8A                       txa                    ; 8A
003E4A  2  C9 F5                    cmp #$F5               ; C9 F5
003E4C  2  2A                       rol A                  ; 2A
003E4D  2  09 C0                    ora #$C0               ; 09 C0
003E4F  2  85 73                    sta L0073              ; 85 73
003E51  2  18           L3D23:      clc                    ; 18
003E52  2               
003E52  2               ;--------------------------------------------
003E52  2               ; Randomize $1,$2,$3
003E52  2               ;--------------------------------------------
003E52  2               
003E52  2  A5 00        L3D24:      lda $00                ; A5 00
003E54  2  2A                       rol A                  ; 2A
003E55  2  AA                       tax                    ; AA
003E56  2  65 02                    adc L0002              ; 65 02
003E58  2  85 00                    sta $00                ; 85 00
003E5A  2  86 02                    stx L0002              ; 86 02
003E5C  2  A5 01                    lda L0001              ; A5 01
003E5E  2  AA                       tax                    ; AA
003E5F  2  65 03                    adc L0003              ; 65 03
003E61  2  85 01                    sta L0001              ; 85 01
003E63  2  86 03                    stx L0003              ; 86 03
003E65  2  60                       rts                    ; 60
003E66  2               
003E66  2               ;--------------------------------------------
003E66  2               
003E66  2  4A           L3D38:      lsr A                  ; 4A
003E67  2  85 73                    sta L0073              ; 85 73
003E69  2  85 70                    sta L0070              ; 85 70
003E6B  2  26 72                    rol L0072              ; 26 72
003E6D  2  29 1F                    and #$1F               ; 29 1F
003E6F  2  09 10                    ora #$10               ; 09 10
003E71  2  85 6E                    sta L006E              ; 85 6E
003E73  2               
003E73  2  A9 06                    lda #$06               ; A9 06
003E75  2  20 9F 39                 jsr L387D              ; New ship
003E78  2  20 40 0D     L3D4A:      jsr L0D40              ; 20 40 0D
003E7B  2  CE 06 0C                 dec L0C06              ; CE 06 0C
003E7E  2  F0 A2                    beq L3CF4              ; F0 A2
003E80  2  10 03                    bpl L3D57              ; 10 03
003E82  2  EE 06 0C                 inc L0C06              ; EE 06 0C
003E85  2  C6 A9        L3D57:      dec L00A9              ; C6 A9
003E87  2  F0 03                    beq L3D5E              ; F0 03
003E89  2  4C 52 3F                 jmp L3E24              ; 4C 24 3E
003E8C  2  20 52 3E     L3D5E:      jsr L3D24              ; Randomize $1,$2,$3
003E8F  2  C9 23                    cmp #$23               ; C9 23
003E91  2  B0 4D                    bcs L3DB2              ; B0 4D
003E93  2  AD F6 0B                 lda L0BF6              ; AD F6 0B
003E96  2  C9 03                    cmp #$03               ; C9 03
003E98  2  B0 46                    bcs L3DB2              ; B0 46
003E9A  2  20 F4 3D                 jsr L3CC6              ; 20 C6 3C
003E9D  2  A9 26                    lda #$26               ; A9 26
003E9F  2  85 5A                    sta L005A              ; 85 5A
003EA1  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
003EA4  2  85 53                    sta L0053              ; Galaxy data
003EA6  2  86 56                    stx L0056              ; 86 56
003EA8  2  29 80                    and #$80               ; 29 80
003EAA  2  85 55                    sta L0055              ; 85 55
003EAC  2  8A                       txa                    ; 8A
003EAD  2  29 80                    and #$80               ; 29 80
003EAF  2  85 58                    sta L0058              ; 85 58
003EB1  2  26 54                    rol L0054              ; 26 54
003EB3  2  26 54                    rol L0054              ; 26 54
003EB5  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
003EB8  2  70 AC                    bvs L3D38              ; 70 AC
003EBA  2  09 6F                    ora #$6F               ; 09 6F
003EBC  2  85 70                    sta L0070              ; 85 70
003EBE  2  AD F4 0B                 lda L0BF4              ; AD F4 0B
003EC1  2  D0 1D                    bne L3DB2              ; D0 1D
003EC3  2  8A                       txa                    ; 8A
003EC4  2  B0 08                    bcs L3DA0              ; B0 08
003EC6  2  29 1F                    and #$1F               ; 29 1F
003EC8  2  09 10                    ora #$10               ; 09 10
003ECA  2  85 6E                    sta L006E              ; 85 6E
003ECC  2  90 04                    bcc L3DA4              ; 90 04
003ECE  2  09 7F        L3DA0:      ora #$7F               ; 09 7F
003ED0  2  85 71                    sta L0071              ; 85 71
003ED2  2  20 52 3E     L3DA4:      jsr L3D24              ; Randomize $1,$2,$3
003ED5  2  C9 05                    cmp #$05               ; C9 05
003ED7  2  A9 09                    lda #$09               ; A9 09
003ED9  2  B0 02                    bcs L3DAF              ; B0 02
003EDB  2  A9 0A                    lda #$0A               ; A9 0A
003EDD  2  20 9F 39     L3DAF:      jsr L387D              ; New ship
003EE0  2  AD F4 0B     L3DB2:      lda L0BF4              ; AD F4 0B
003EE3  2  D0 6D                    bne L3E24              ; D0 6D
003EE5  2  20 63 40                 jsr L3F27              ; 20 27 3F
003EE8  2  0A                       asl A                  ; 0A
003EE9  2  AE EF 0B                 ldx L0BEF              ; AE EF 0B
003EEC  2  F0 03                    beq L3DC3              ; F0 03
003EEE  2  0D 34 03                 ora L0334              ; 0D 34 03
003EF1  2  85 D1        L3DC3:      sta L00D1              ; 85 D1
003EF3  2  20 30 3E                 jsr L3D02              ; 20 02 3D
003EF6  2  C5 D1                    cmp L00D1              ; C5 D1
003EF8  2  B0 05                    bcs L3DD1              ; B0 05
003EFA  2  A9 02                    lda #$02               ; A9 02
003EFC  2  20 9F 39                 jsr L387D              ; New ship
003EFF  2  AD EF 0B     L3DD1:      lda L0BEF              ; AD EF 0B
003F02  2  D0 4E                    bne L3E24              ; D0 4E
003F04  2  CE 05 0C                 dec L0C05              ; CE 05 0C
003F07  2  10 49                    bpl L3E24              ; 10 49
003F09  2  EE 05 0C                 inc L0C05              ; EE 05 0C
003F0C  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
003F0F  2  AC DD 0C                 ldy L0CDD              ; AC DD 0C
003F12  2  F0 0B                    beq L3DF1              ; F0 0B
003F14  2  C9 5A                    cmp #$5A               ; C9 5A
003F16  2  B0 3A                    bcs L3E24              ; B0 3A
003F18  2  29 07                    and #$07               ; 29 07
003F1A  2  CD DD 0C                 cmp L0CDD              ; CD DD 0C
003F1D  2  90 33                    bcc L3E24              ; 90 33
003F1F  2  20 30 3E     L3DF1:      jsr L3D02              ; 20 02 3D
003F22  2  C9 C8                    cmp #$C8               ; C9 C8
003F24  2  B0 17                    bcs L3E0F              ; B0 17
003F26  2  EE 05 0C                 inc L0C05              ; EE 05 0C
003F29  2  29 03                    and #$03               ; 29 03
003F2B  2  69 03                    adc #$03               ; 69 03
003F2D  2  A8                       tay                    ; A8
003F2E  2  8A                       txa                    ; 8A
003F2F  2  C9 C8                    cmp #$C8               ; C9 C8
003F31  2  2A                       rol A                  ; 2A
003F32  2  09 C0                    ora #$C0               ; 09 C0
003F34  2  85 73                    sta L0073              ; 85 73
003F36  2  98                       tya                    ; 98
003F37  2  20 9F 39                 jsr L387D              ; New ship
003F3A  2  4C 52 3F                 jmp L3E24              ; 4C 24 3E
003F3D  2  29 03        L3E0F:      and #$03               ; 29 03
003F3F  2  8D 05 0C                 sta L0C05              ; 8D 05 0C
003F42  2  85 A8                    sta L00A8              ; 85 A8
003F44  2  20 52 3E     L3E16:      jsr L3D24              ; Randomize $1,$2,$3
003F47  2  29 03                    and #$03               ; 29 03
003F49  2  09 01                    ora #$01               ; 09 01
003F4B  2  20 9F 39                 jsr L387D              ; New ship
003F4E  2  C6 A8                    dec L00A8              ; C6 A8
003F50  2  10 F2                    bpl L3E16              ; 10 F2
003F52  2               
003F52  2  AD 02 0C     L3E24:      lda L0C02              ; AD 02 0C
003F55  2  E9 04                    sbc #$04               ; E9 04
003F57  2  B0 02                    bcs L3E2D              ; B0 02
003F59  2  A9 00                    lda #$00               ; A9 00
003F5B  2  8D 02 0C     L3E2D:      sta L0C02              ; 8D 02 0C
003F5E  2  A2 FF                    ldx #$FF               ; A2 FF
003F60  2  9A                       txs                    ; 9A
003F61  2  E8                       inx                    ; E8
003F62  2  8E 01 0D                 stx L0D01              ; 8E 01 0D
003F65  2  AE 03 0C                 ldx L0C03              ; AE 03 0C
003F68  2  F0 03                    beq L3E3F              ; F0 03
003F6A  2  CE 03 0C                 dec L0C03              ; CE 03 0C
003F6D  2  20 93 1D     L3E3F:      jsr L1D83              ; Update bars + gyro pointers
003F70  2  A5 A6                    lda L00A6              ; Headerstatus
003F72  2  F0 09                    beq L3E4F              ; F0 09
003F74  2  2D 20 0D                 and L0D20              ; 2D 20 0D
003F77  2  4A                       lsr A                  ; 4A
003F78  2  B0 03                    bcs L3E4F              ; B0 03
003F7A  2  20 8F 28                 jsr L285F              ; 20 5F 28
003F7D  2  20 1E 3C     L3E4F:      jsr L3AF0              ; 20 F0 3A
003F80  2               
003F80  2  20 8E 3F     L3E52:      jsr L3E5F              ; Check keys
003F83  2               
003F83  2               ;            lda L00AF              ; Docked flag
003F83  2  AD 4E 35     	lda freeze		; Chart hack
003F86  2               
003F86  2  D0 CA                    bne L3E24              ; D0 CB
003F88  2  4C 78 3E                 jmp L3D4A              ; 4C 4A 3D
003F8B  2               
003F8B  2               ;--------------------------------------------
003F8B  2               ; Key table
003F8B  2               ;--------------------------------------------
003F8B  2               
003F8B  2               L3E5C:           ; F1  F2  F3
003F8B  2  B1 91 92                 .byte $B1,$91,$92
003F8E  2               
003F8E  2               ;--------------------------------------------
003F8E  2               ; Check keys
003F8E  2               ;--------------------------------------------
003F8E  2               
003F8E  2               L3E5F:
003F8E  2  C9 A6                    cmp #$A6               ; Check F8
003F90  2  D0 03                    bne L3E66
003F92  2  4C 55 1B                 jmp L1B70              ; Display status
003F95  2               L3E66:
003F95  2  C9 93                    cmp #$93               ; Check F4
003F97  2  D0 03                    bne L3E6D
003F99  2  4C 8F 2B                 jmp L2B42              ; Display Galactic chart 1
003F9C  2               L3E6D:
003F9C  2  C9 B4                    cmp #$B4               ; Check F5
003F9E  2  D0 03                    bne L3E74
003FA0  2  4C CB 2E                 jmp L2E6E              ; Display Short Range Chart
003FA3  2               L3E74:
003FA3  2  C9 A4                    cmp #$A4               ; Check F6
003FA5  2  D0 06                    bne L3E7E
003FA7  2  20 6D 2F                 jsr L2F0D              ; Plot line
003FAA  2  4C 16 2A                 jmp L29CC              ; Display Data on planet
003FAD  2               L3E7E:
003FAD  2  C9 A7                    cmp #$A7               ; Check F9
003FAF  2  D0 03                    bne L3E85
003FB1  2  4C 00 2E                 jmp L2DA6              ; Display Inventory
003FB4  2               L3E85:
003FB4  2  C9 95                    cmp #$95               ; Check F7
003FB6  2  D0 03                    bne L3E8C
003FB8  2  4C 6B 31                 jmp L30F6              ; Display planet market prices
003FBB  2               
003FBB  2  C9 B0        L3E8C:      cmp #$B0               ; Check F0
003FBD  2  D0 03                    bne L3E93
003FBF  2  4C 4E 32                 jmp L31D4              ; Launch
003FC2  2               
003FC2  2  24 AF        L3E93:      bit L00AF              ; Docked flag
003FC4  2  10 1C                    bpl L3EB3              ; 10 1C
003FC6  2               
003FC6  2  C9 92                    cmp #$92               ; Check F3
003FC8  2  D0 03                    bne L3E9E
003FCA  2  4C E3 32                 jmp L3263              ; Display Equip schip
003FCD  2               L3E9E:
003FCD  2  C9 B1                    cmp #$B1               ; Check F1
003FCF  2  D0 03                    bne L3EA5
003FD1  2  4C 85 2C                 jmp L2C35              ; Display Buy materials
003FD4  2               
003FD4  2  C9 48        L3EA5:      cmp #$48               ; Check :-key
003FD6  2  D0 03                    bne L3EAC
003FD8  2  4C A8 42                 jmp L40EE              ; Display Input commander
003FDB  2               
003FDB  2  C9 91        L3EAC:      cmp #$91               ; Check F2 if docked
003FDD  2  D0 14                    bne L3EC4
003FDF  2  4C 6E 2D                 jmp L2D17              ; Display Sell cargo
003FE2  2               
003FE2  2  86 D1        L3EB3:      stx L00D1              ; Save X
003FE4  2               
003FE4  2  A2 03                    ldx #$03               ; Set ptr
003FE6  2  DD 8A 3F     L3EB7:      cmp L3E5C-1,X          ; Check F1,F2,F3
003FE9  2  D0 03                    bne L3EBF              ; If not pressed, jump
003FEB  2  4C F2 27                 jmp L27C5              ; If found plot crosshair
003FEE  2  CA           L3EBF:      dex                    ; Check next key from table
003FEF  2  D0 F5                    bne L3EB7              ; Repeat
003FF1  2               
003FF1  2  A6 D1                    ldx L00D1              ; Restore X
003FF3  2               
003FF3  2  C9 54        L3EC4:      cmp #$54               ; Check H-key
003FF5  2  D0 03                    bne L3ECB
003FF7  2  4C 20 30                 jmp L2FB3              ; Go to Hyperspace if not docked
003FFA  2               
003FFA  2  C9 32        L3ECB:      cmp #$32               ; Check D
003FFC  2  F0 3D                    beq L3F0C              ; Display data on planet
003FFE  2               L3EE1:
003FFE  2  85 06                    sta L0006              ; Save A
004000  2               
004000  2  A5 A6                    lda L00A6              ; Headerstatus
004002  2  29 C0                    and #$C0               ; Check if screen is chart
004004  2  F0 16                    beq L3EED              ; If not skip home crosshairs
004006  2               
004006  2  A5 2F                    lda L002F              ; Hyperspace timer
004008  2  D0 12                    bne L3EED              ; D0 12
00400A  2               
00400A  2  A5 06                    lda L0006              ; Restore A
00400C  2  C9 36                    cmp #$36               ; Check O-key
00400E  2  D0 09                    bne L3EEA
004010  2  20 70 2E                 jsr L2E13              ; Erase crosshairs cursor
004013  2  20 61 3C                 jsr L3B33              ; Home crosshairs
004016  2  20 70 2E                 jsr L2E13              ; Plot crosshairs cursor
004019  2               
004019  2  20 46 2E     L3EEA:      jsr L2DE9              ; 20 E9 2D
00401C  2  A5 2F        L3EED:      lda L002F              ; Hyperspace timer
00401E  2  F0 1A                    beq L3F0B              ; If countdown=0, return
004020  2               
004020  2  C6 2E                    dec L002E              ; Hyperspace sub timer
004022  2  D0 16                    bne L3F0B              ; If sub timer=5, decrement timer
004024  2  A6 2F                    ldx L002F              ; Hyperspace timer
004026  2  CA                       dex                    ; Countdown timer
004027  2  20 BD 30                 jsr L3048              ; Print Hyperspace timer
00402A  2               
00402A  2  A9 05                    lda #$05
00402C  2  85 2E                    sta L002E              ; Hyperspace sub timer
00402E  2  A6 2F                    ldx L002F              ; Hyperspace timer
004030  2  20 BD 30                 jsr L3048              ; Print Hyperspace timer
004033  2  C6 2F                    dec L002F              ; Hyperspace timer
004035  2  D0 03                    bne L3F0B              ; If countdown not 0, return
004037  2  4C 1F 32                 jmp L31A5              ; End of countdown,
00403A  2  60           L3F0B:      rts
00403B  2               
00403B  2               ;-----------------------------------------------------
00403B  2               ; Handle D-key in chart
00403B  2               ; Print planet name and distance
00403B  2               ;-----------------------------------------------------
00403B  2               
00403B  2  A5 A6        L3F0C:      lda L00A6              ; Headerstatus
00403D  2  29 C0                    and #$C0               ; Check is screen is chart
00403F  2  F0 F9                    beq L3F0B              ; If not return
004041  2               
004041  2  20 A5 28                 jsr L2875              ; Wipe screen
004044  2  85 7E                    sta L007E              ; VDU stat
004046  2               
004046  2               ;	inc L002D              ; Cursor Y
004046  2  24 A6        	bit L00A6
004048  2  70 05        	bvs L3F0D
00404A  2  A9 15        	lda #$15
00404C  2  4C 51 40     	jmp L3F0E
00404F  2               L3F0D:
00404F  2  A9 1D        	lda #$1d
004051  2               L3F0E:
004051  2  85 2D        	sta L002D              ; Cursor Y
004053  2               
004053  2  20 61 35                 jsr L343B              ; Print planet name
004056  2  A9 80                    lda #$80
004058  2  85 7E                    sta L007E              ; VDU stat
00405A  2  A9 01                    lda #$01
00405C  2  85 2C                    sta L002C              ; Cursor X
00405E  2  E6 2D                    inc L002D              ; Cursor Y
004060  2  4C DE 29                 jmp L2994              ; Print distance
004063  2               
004063  2               ;-----------------------------------------------------
004063  2               
004063  2  AD 1A 03     L3F27:      lda L031A              ; AD 1A 03
004066  2  18                       clc                    ; 18
004067  2  6D 1D 03                 adc L031D              ; 6D 1D 03
00406A  2  0A                       asl A                  ; 0A
00406B  2  6D 21 03                 adc L0321              ; 6D 21 03
00406E  2  60                       rts                    ; 60
00406F  2               
00406F  2  A9 E0        L3F33:      lda #$E0               ; A9 E0
004071  2               
004071  2  C5 54        L3F35:      cmp L0054              ; C5 54
004073  2  90 06                    bcc L3F3F              ; 90 06
004075  2  C5 57                    cmp L0057              ; C5 57
004077  2  90 02                    bcc L3F3F              ; 90 02
004079  2  C5 5A                    cmp L005A              ; C5 5A
00407B  2  60           L3F3F:      rts                    ; 60
00407C  2               
00407C  2  05 54        L3F40:      ora L0054              ; 05 54
00407E  2  05 57                    ora L0057              ; 05 57
004080  2  05 5A                    ora L005A              ; 05 5A
004082  2  60                       rts                    ; 60
004083  2               
004083  2               ;--------------------------------------------
004083  2               ; Death
004083  2               ;--------------------------------------------
004083  2               
004083  2  20 DB 43     L3F47:      jsr L4245              ; 20 45 42
004086  2  20 B1 3D                 jsr L3C83              ; Reset vars
004089  2  06 8C                    asl L008C              ; Speed x 2
00408B  2  06 8C                    asl L008C              ; Speed x 2
00408D  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
004090  2               
004090  2  A2 32                    ldx #$32               ; A2 32
004092  2  8E 02 0C                 stx L0C02              ; 8E 02 0C
004095  2  20 48 28                 jsr L2818              ; 20 18 28
004098  2  20 F8 37                 jsr L36D2              ; 20 D2 36
00409B  2               
00409B  2  A9 0C                    lda #$0C               ; A9 0C
00409D  2  85 2D                    sta L002D              ; Cursor Y
00409F  2  C6 2D        	dec L002D
0040A1  2  C6 2D        	dec L002D
0040A3  2  C6 2D        	dec L002D
0040A5  2  85 2C                    sta L002C              ; Cursor X
0040A7  2  A9 92                    lda #$92               ; Text 'Game over'
0040A9  2  85 A9                    sta L00A9
0040AB  2  20 84 36                 jsr L355E              ; Print string
0040AE  2               
0040AE  2  20 30 3E     L3F6C:      jsr L3D02              ; 20 02 3D
0040B1  2  A9 20                    lda #$20               ; A9 20
0040B3  2  85 53                    sta L0053              ; Galaxy data
0040B5  2  A0 00                    ldy #$00               ; A0 00
0040B7  2  84 A6                    sty L00A6              ; Headerstatus
0040B9  2  84 54                    sty L0054              ; 84 54
0040BB  2  84 57                    sty L0057              ; 84 57
0040BD  2  84 5A                    sty L005A              ; 84 5A
0040BF  2  84 73                    sty L0073              ; 84 73
0040C1  2  88                       dey                    ; 88
0040C2  2  49 2A                    eor #$2A               ; 49 2A
0040C4  2  85 56                    sta L0056              ; 85 56
0040C6  2  09 50                    ora #$50               ; 09 50
0040C8  2  85 59                    sta L0059              ; 85 59
0040CA  2  8A                       txa                    ; 8A
0040CB  2  29 8F                    and #$8F               ; 29 8F
0040CD  2  85 70                    sta L0070              ; 85 70
0040CF  2  6A                       ror A                  ; 6A
0040D0  2  29 87                    and #$87               ; 29 87
0040D2  2  85 71                    sta L0071              ; 85 71
0040D4  2  08                       php                    ; 08
0040D5  2  A2 0A                    ldx #$0A               ; A2 0A
0040D7  2  20 2A 21                 jsr L20FD              ; 20 FD 20
0040DA  2  28                       plp                    ; 28
0040DB  2  A9 00                    lda #$00               ; A9 00
0040DD  2  6A                       ror A                  ; 6A
0040DE  2  A0 1F                    ldy #$1F               ; A0 1F
0040E0  2  91 20                    sta (L0020),Y          ; 91 20
0040E2  2  AD E3 0B                 lda L0BE3              ; AD E3 0B
0040E5  2  F0 C7                    beq L3F6C              ; F0 C7
0040E7  2  20 96 44                 jsr L4312              ; Reset key buffer
0040EA  2  85 8C                    sta L008C              ; Reset speed
0040EC  2  20 40 0D     L3FAA:      jsr L0D40              ; 20 40 0D
0040EF  2  CE 02 0C                 dec L0C02              ; CE 02 0C
0040F2  2  D0 F8                    bne L3FAA              ; D0 F8
0040F4  2  20 B1 3D     L3FB2:      jsr L3C83              ; Reset vars
0040F7  2               
0040F7  2               ;--------------------------------------------
0040F7  2               ; Program entry
0040F7  2               ;--------------------------------------------
0040F7  2               
0040F7  2               L3FB5:
0040F7  2               ;            ldx #$FF
0040F7  2               ;            txs
0040F7  2               
0040F7  2               ; Entry when ESC is pressed during loading commander
0040F7  2               
0040F7  2               L3FB8:
0040F7  2  A2 91        	ldx #$91
0040F9  2  8E 21 16     	stx maskbyte
0040FC  2  A2 8F        	ldx #$8f
0040FE  2  8E 22 16     	stx wipebyte
004101  2               
004101  2  A2 03                    ldx #$03
004103  2  86 2C                    stx L002C		; Cursor X
004105  2               ;            jsr L4184              ; Disable ESCAPE and clear on BREAK
004105  2               
004105  2  A2 06                    ldx #$06
004107  2  A9 80                    lda #$80		; Text 'Load new commander'
004109  2  20 5F 41                 jsr L4016              ; Intro screen
00410C  2  C9 39                    cmp #$39               ; Check if Y pressed
00410E  2  D0 09                    bne L3FD6              ; If not, skip loading
004110  2               
004110  2  20 F0 41                 jsr L40A7              ; Input Commanders name
004113  2               ;            jsr L415C              ; Load commander file
004113  2  20 DB 41                 jsr L4092              ; Copy commander name in datablock
004116  2  20 2E 28                 jsr L27FE              ; 20 FE 27
004119  2               
004119  2  A2 4B        L3FD6:      ldx #$4B               ; Copy commander data
00411B  2  BD A4 15     L3FD8:      lda L15A4,X            ; from $15A4-$15F0
00411E  2  9D FF 02                 sta L02FF,X            ; to $02FF-$034A
004121  2  CA                       dex
004122  2  D0 F7                    bne L3FD8
004124  2               
004124  2  86 A6                    stx L00A6              ; Headerstatus
004126  2  20 CD 41     L3FE3:      jsr L4084              ; Calculate checksum
004129  2  CD F0 15                 cmp L15F0              ; Commander data checksum
00412C  2  D0 F8                    bne L3FE3              ; If not good, loop
00412E  2               
00412E  2  49 A9                    eor #$A9               ; 49 A9
004130  2  AA                       tax                    ; AA
004131  2               
004131  2  AD 0E 03                 lda L030E              ; AD 0E 03
004134  2  EC EF 15                 cpx L15EF              ; EC EF 15
004137  2  F0 02                    beq L3FF8              ; F0 02
004139  2               
004139  2  09 80                    ora #$80               ; 09 80
00413B  2  09 08        L3FF8:      ora #$08               ; 09 08
00413D  2  8D 0E 03                 sta L030E              ; 8D 0E 03
004140  2  20 09 3E                 jsr L3CDB              ; Plot missiles in panel
004143  2               
004143  2  20 15 35     	jsr backup_screen	; Chart hack
004146  2               
004146  2  A9 93                    lda #$93               ; Print Press Fire or Space, Commander
004148  2  A2 03                    ldx #$03
00414A  2  20 5F 41                 jsr L4016              ; Intro screen
00414D  2               
00414D  2  20 61 3C                 jsr L3B33              ; Set vars
004150  2  20 B8 31                 jsr L313E              ; 20 3E 31
004153  2               
004153  2  A9 FF        L400D:      lda #$FF               ; Set var
004155  2  85 AF                    sta L00AF              ; Docked flag
004157  2               
004157  2  8D 4E 35     	sta freeze		; Chart hack
00415A  2               
00415A  2  A9 A6                    lda #$A6               ; Status screen
00415C  2  4C 80 3F                 jmp L3E52              ; Display
00415F  2               
00415F  2               ;--------------------------------------------
00415F  2               ; Display title screen
00415F  2               ;--------------------------------------------
00415F  2               
00415F  2  48           L4016:      pha
004160  2  86 AB                    stx L00AB              ; TYPE
004162  2  20 9B 3D                 jsr L3C6D              ; Reset
004165  2               
004165  2  A9 01                    lda #$01
004167  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
00416A  2               
00416A  2  C6 A6                    dec L00A6              ; Headerstatus
00416C  2               
00416C  2  A9 60                    lda #$60               ; A9 60
00416E  2  85 61                    sta L0061              ; INWK+14
004170  2  85 5A                    sta L005A              ; INWK+7
004172  2               
004172  2  A2 7F                    ldx #$7F               ; A2 7F
004174  2  86 70                    stx L0070              ; INWK+29
004176  2  86 71                    stx L0071              ; INWK+30
004178  2               
004178  2  E8                       inx                    ; E8
004179  2  86 7E                    stx L007E              ; VDU stat
00417B  2               
00417B  2  A5 AB                    lda L00AB              ; TYPE
00417D  2  20 9F 39                 jsr L387D              ; New ship
004180  2               
004180  2  A0 06                    ldy #$06               ; A0 06
004182  2  84 2C                    sty L002C              ; Cursor X
004184  2               
004184  2  A9 1E                    lda #$1E               ; A9 1E
004186  2  20 E6 35                 jsr L34C0              ; De-token
004189  2               
004189  2  A0 06                    ldy #$06               ; A0 06
00418B  2  84 2C                    sty L002C              ; Cursor X
00418D  2               
00418D  2  E6 2D                    inc L002D              ; Cursor Y
00418F  2  AD 20 0D                 lda L0D20              ; AD 20 0D
004192  2  F0 05                    beq L4050              ; F0 05
004194  2               
004194  2  A9 FE                    lda #$FE               ; Text 'BY D.BRABEN AND I.BELL'
004196  2  20 F1 35                 jsr L34CB              ; De-token
004199  2               
004199  2  20 B2 28     L4050:      jsr L2882              ; Wipe text + draw frame
00419C  2  84 8C                    sty L008C              ; Set speed
00419E  2  8C 24 0D                 sty L0D24              ;
0041A1  2               
0041A1  2  68                       pla                    ; 68
0041A2  2  20 84 36                 jsr L355E              ; Print string
0041A5  2               
0041A5  2  A9 94                    lda #$94               ; Text '(C) Acornsoft 1984'
0041A7  2  A2 07                    ldx #$07               ; at X=7
0041A9  2  86 2C                    stx L002C              ; Cursor X
0041AB  2  20 84 36                 jsr L355E              ; Print string
0041AE  2               
0041AE  2  A5 5A        L4065:      lda L005A              ; INWK+7
0041B0  2  C9 01                    cmp #$01               ; C9 01
0041B2  2  F0 02                    beq L406D              ; F0 02
0041B4  2               
0041B4  2  C6 5A                    dec L005A              ; INWK+7
0041B6  2               
0041B6  2  20 57 11     L406D:      jsr L1157              ; 20 57 11
0041B9  2               
0041B9  2  A9 80                    lda #$80               ; A9 80
0041BB  2  85 59                    sta L0059              ; INWK+6
0041BD  2               
0041BD  2  0A                       asl A                  ; 0A
0041BE  2  85 53                    sta L0053              ; Galaxy data
0041C0  2  85 56                    sta L0056              ; INWK+3
0041C2  2  20 4E 48                 jsr L46C8              ; 20 C8 46
0041C5  2               
0041C5  2  C6 A9                    dec L00A9              ; C6 A9
0041C7  2  20 C9 43                 jsr L421D              ; Readkey
0041CA  2  F0 E2                    beq L4065              ; F0 E2
0041CC  2               
0041CC  2  60                       rts                    ; 60
0041CD  2               
0041CD  2               ;--------------------------------------------
0041CD  2               ; Calculate commander data checksum (L15F0)
0041CD  2               ;--------------------------------------------
0041CD  2               
0041CD  2  A2 49        L4084:      ldx #$49               ; A2 49
0041CF  2  18                       clc                    ; 18
0041D0  2  8A                       txa                    ; 8A
0041D1  2  7D A4 15     L4088:      adc L15A4,X            ; 7D A4 15
0041D4  2  5D A5 15                 eor L15A5,X            ; 5D A5 15
0041D7  2  CA                       dex                    ; CA
0041D8  2  D0 F7                    bne L4088              ; D0 F7
0041DA  2  60                       rts                    ; 60
0041DB  2               
0041DB  2               ;--------------------------------------------
0041DB  2               ; Copy commander name to $0053 and $159D
0041DB  2               ;--------------------------------------------
0041DB  2               
0041DB  2  A2 07        L4092:      ldx #$07               ; A2 07
0041DD  2  B5 53        L4094:      lda L0053,X            ; Galaxy data
0041DF  2  9D 9D 15                 sta L159D,X            ; 9D 9D 15
0041E2  2  CA                       dex                    ; CA
0041E3  2  10 F8                    bpl L4094              ; 10 F8
0041E5  2               
0041E5  2  A2 07        L409C:      ldx #$07               ; A2 07
0041E7  2  BD 9D 15     L409E:      lda L159D,X            ; BD 9D 15
0041EA  2  95 53                    sta L0053,X            ; Galaxy data
0041EC  2  CA                       dex                    ; CA
0041ED  2  10 F8                    bpl L409E              ; 10 F8
0041EF  2  60                       rts                    ; 60
0041F0  2               
0041F0  2               ;--------------------------------------------
0041F0  2               ; Input Commander name?
0041F0  2               ;--------------------------------------------
0041F0  2               
0041F0  2  A9 01        L40A7:      lda #$01
0041F2  2  20 2C 28                 jsr L27FC              ; Clear screen, plot screen
0041F5  2               
0041F5  2  A9 7B                    lda #$7B               ; Text 'INPUT COMMANDER'S NAME?'
0041F7  2  20 F1 35                 jsr L34CB              ; De-token
0041FA  2               
0041FA  2  20 92 28                 jsr L2862              ; Pause
0041FD  2               
0041FD  2  20 0B 42     	jsr inputline
004200  2               
004200  2  EE 01 0D                 inc L0D01              ; EE 01 0D
004203  2  B0 E0                    bcs L409C              ; B0 D1
004205  2  98                       tya                    ; 98
004206  2  F0 DD                    beq L409C              ; F0 CE
004208  2  4C 03 2A                 jmp L29B9              ; New line
00420B  2               
00420B  2               inputline:
00420B  2  A0 07        	ldy #7			; Clear inputbuffer
00420D  2  A9 20        	lda #$20
00420F  2               inputclear:
00420F  2  99 53 00     	sta $53,y
004212  2  88           	dey
004213  2  10 FA        	bpl inputclear
004215  2               
004215  2  A9 00        	lda #0			; Reset chr-ptr
004217  2  8D 77 42     	sta linelen
00421A  2               
00421A  2               inputloop:
00421A  2  20 94 FE     	jsr OSRDCH		; Get chr
00421D  2               
00421D  2  C9 0D        	cmp #13			; Check chr=RETURN
00421F  2  F0 4C        	beq end_ret
004221  2               
004221  2  C9 1B        	cmp #27			; Check chr=ESCAPE
004223  2  F0 4D        	beq end_esc
004225  2               
004225  2  C9 7F        	cmp #127		; Check chr=BACKSPACE
004227  2  D0 1C        	bne chk_chr
004229  2  AC 77 42     	ldy linelen		; Check if buffer is empty
00422C  2  F0 EC        	beq inputloop		; If yes, skip
00422E  2               
00422E  2  CE 77 42     	dec linelen		; Point to previous chr
004231  2  20 78 42     	jsr wipechr		; Wipe chr on screen
004234  2               
004234  2  A9 0D        	lda #13			; Store RET after chr in inputbuffer
004236  2  99 53 00     	sta $53,y
004239  2               
004239  2  A9 20        	lda #32			; Load space
00423B  2  C6 2C        	dec L002C		; Dec x-pos
00423D  2  20 E0 1C     	jsr L1CF8
004240  2  C6 2C        	dec L002C		; Dec x-pos
004242  2  4C 1A 42     	jmp inputloop		; Print character
004245  2               
004245  2               chk_chr:
004245  2  C9 20        	cmp #32			; If chr<32 ignore
004247  2  90 D1        	bcc inputloop
004249  2               
004249  2  C9 7B        	cmp #$7b		; If chr>$7a ignore
00424B  2  B0 CD        	bcs inputloop
00424D  2               chk_len:
00424D  2  AC 77 42     	ldy linelen		; Check maxlen<7
004250  2  C0 07        	cpy #7
004252  2  D0 06        	bne prt_chr
004254  2  20 1A FD     	jsr BELL		; Beep
004257  2  4C 1A 42     	jmp inputloop
00425A  2               
00425A  2               prt_chr:
00425A  2  99 53 00     	sta $53,y		; Store chr in inputbuffer
00425D  2               prt_chr1:
00425D  2  48           	pha
00425E  2  A9 0D        	lda #13
004260  2  99 54 00     	sta $54,y
004263  2  68           	pla
004264  2  20 E0 1C     	jsr L1CF8		; Print character
004267  2               
004267  2  EE 77 42     	inc linelen		; Increment chr-ptr
00426A  2  4C 1A 42     	jmp inputloop		; Repeat
00426D  2               
00426D  2               end_ret:
00426D  2  AC 77 42     	ldy linelen
004270  2  18           	clc
004271  2  60           	rts
004272  2               end_esc:
004272  2  AC 77 42     	ldy linelen
004275  2  38           	sec
004276  2  60           	rts
004277  2               
004277  2               linelen:
004277  2  00           	.byte 0
004278  2               
004278  2               wipechr:
004278  2  A9 00        	lda #0
00427A  2  AC 77 42     	ldy linelen
00427D  2  99 73 81     	sta $8173,y
004280  2  99 93 81     	sta $8193,y
004283  2  99 B3 81     	sta $81b3,y
004286  2  99 D3 81     	sta $81d3,y
004289  2  99 F3 81     	sta $81f3,y
00428C  2  99 13 82     	sta $8213,y
00428F  2  60           	rts
004290  2               ;--------------------------------------------
004290  2               ; Parameterblock OSWORD
004290  2               ;--------------------------------------------
004290  2               
004290  2               L40D1:
004290  2               ;            .byte $53,$00	; Buffer address
004290  2               ;            .byte $07		; Max len
004290  2               ;            .byte $21		; ASCII>=$21 (!)
004290  2               ;            .byte $7A		; ASCII<=$7A (z)
004290  2               
004290  2               ;--------------------------------------------
004290  2               ; Clear page $09,$0A,$0B
004290  2               ; On exit: A=0, Y=0, X=9
004290  2               ;--------------------------------------------
004290  2               
004290  2  A2 0B        L40D6:      ldx #$0B               ; Clear page $0B
004292  2  20 9A 42                 jsr L40E0
004295  2               
004295  2  CA                       dex                    ; Clear page $0A
004296  2  20 9A 42                 jsr L40E0
004299  2               
004299  2  CA                       dex                    ; Clear page $09
00429A  2               
00429A  2               ;--------------------------------------------
00429A  2               ; Clear page
00429A  2               ;
00429A  2               ; X=hb startaddress
00429A  2               ;--------------------------------------------
00429A  2               
00429A  2               L40E0:
00429A  2  A0 00        	ldy #$00		; Reset lb address
00429C  2  84 07        	sty L0007
00429E  2               
00429E  2  86 08        	stx L0008		; Set hb address
0042A0  2               L40E6:
0042A0  2  A9 00        	lda #$00		; Clear data
0042A2  2               L40E8:
0042A2  2  91 07        	sta (L0007),Y		; Clear address
0042A4  2  C8           	iny			; Next byte
0042A5  2  D0 FB        	bne L40E8		; Repeat until end of page
0042A7  2  60           	rts
0042A8  2               
0042A8  2               ;--------------------------------------------
0042A8  2               ; Display Input commander name screen
0042A8  2               ;--------------------------------------------
0042A8  2               
0042A8  2  20 F0 41     L40EE:      jsr L40A7              ; Input commander name
0042AB  2  20 DB 41                 jsr L4092              ; Copy commander name
0042AE  2  20 90 42                 jsr L40D6              ; Clear page $09,$0A,$0B
0042B1  2               
0042B1  2  4E 49 03                 lsr L0349              ; 4E 49 03
0042B4  2               
0042B4  2  A2 4B                    ldx #$4B               ; Copy default commander data
0042B6  2  BD 00 03     L40FC:      lda L0300,X            ; To $0300
0042B9  2  9D 00 09                 sta L0900,X            ; To $0900
0042BC  2  9D A5 15                 sta L15A5,X            ; To $15A5
0042BF  2  CA                       dex
0042C0  2  10 F4                    bpl L40FC
0042C2  2               
0042C2  2  20 CD 41                 jsr L4084              ; Check commander data checksum
0042C5  2  8D F0 15                 sta L15F0              ; Store checksum
0042C8  2               
0042C8  2  48                       pha                    ; 48
0042C9  2  09 80                    ora #$80               ; 09 80
0042CB  2  85 3D                    sta L003D              ; 85 3D
0042CD  2  4D 0E 03                 eor L030E              ; 4D 0E 03
0042D0  2  85 3F                    sta L003F              ; 85 3F
0042D2  2  4D 0B 03                 eor L030B              ; Cash
0042D5  2  85 3E                    sta L003E              ; 85 3E
0042D7  2  49 5A                    eor #$5A               ; 49 5A
0042D9  2  4D 48 03                 eor L0348              ; 4D 48 03
0042DC  2  85 40                    sta L0040              ; 85 40
0042DE  2  20 2B 1C                 jsr L1C43              ; 20 43 1C
0042E1  2  20 03 2A                 jsr L29B9              ; New line
0042E4  2  20 03 2A                 jsr L29B9              ; New line
0042E7  2  68                       pla                    ; 68
0042E8  2  8D 4B 09                 sta L094B              ; 8D 4B 09
0042EB  2  49 A9                    eor #$A9               ; 49 A9
0042ED  2  8D EF 15                 sta L15EF              ; 8D EF 15
0042F0  2  8D 4A 09                 sta L094A              ; 8D 4A 09
0042F3  2  A0 09                    ldy #$09               ; A0 09
0042F5  2  8C 0B 0A                 sty L0A0B              ; 8C 0B 0A
0042F8  2  C8                       iny                    ; C8
0042F9  2  8C 0F 0A                 sty L0A0F              ; 8C 0F 0A
0042FC  2  A9 00                    lda #$00               ; A9 00
0042FE  2  20 04 43                 jsr L414A              ; 20 4A 41
004301  2  4C 53 41                 jmp L400D              ; 4C 0D 40
004304  2               
004304  2               ;--------------------------------------------
004304  2               ;OSFILE
004304  2               ;  X=lb, Y=hb parameter block
004304  2               ;--------------------------------------------
004304  2               
004304  2               L414A:
004304  2  A2 53                    ldx #$53               ; lb filename ptr
004306  2  8E 00 0A                 stx L0A00
004309  2               
004309  2  A2 FF                    ldx #$FF               ; Set OSFILE flag
00430B  2  8E 01 0D                 stx L0D01
00430E  2               
00430E  2  E8                       inx                    ; Block at $A00
00430F  2               ;            jsr LFFDD              ; OSFILE
00430F  2               
00430F  2  EE 01 0D                 inc L0D01              ; Reset OSFILE flag
004312  2  60                       rts
004313  2               
004313  2               ;--------------------------------------------
004313  2               ; Load commander file
004313  2               ;--------------------------------------------
004313  2               
004313  2               L415C:
004313  2               ;            ldx #$02
004313  2               ;            jsr L4184              ; Normal ESCAPE and clear on BREAK
004313  2               
004313  2  20 90 42                 jsr L40D6              ; Clear page $09,$0A,$0B
004316  2               
004316  2  A0 09                    ldy #$09               ; Set hb-load address
004318  2  8C 03 0A                 sty L0A03
00431B  2               
00431B  2  EE 0B 0A                 inc L0A0B              ; Set hb-end address
00431E  2  C8                       iny                    ; hb=$A
00431F  2  A9 FF                    lda #$FF               ; Command=LOAD file
004321  2  20 04 43                 jsr L414A              ; Save file
004324  2               
004324  2  AD 00 09                 lda L0900              ; If L0900=0 LOAD error
004327  2  30 10                    bmi L418C+1              ; BREAK
004329  2               
004329  2  A2 4B                    ldx #$4B               ; LOAD ok at $900
00432B  2  BD 00 09     L4179:      lda L0900,X            ; Copy $0900-$094b
00432E  2  9D A5 15                 sta L15A5,X            ; to $15A5-$15F0
004331  2  CA                       dex
004332  2  10 F7                    bpl L4179
004334  2               
004334  2               ;            ldx #$03               ; Disable ESCAPE and clear on BREAK
004334  2  60           	rts
004335  2               ;--------------------------------------------
004335  2               ; Disable ESCAPE and clear on BREAK
004335  2               
004335  2               ;--------------------------------------------
004335  2               
004335  2               L4184:
004335  2               ;            ldy #$00               ; *FX 200,3
004335  2               ;            lda #$C8
004335  2  4C 27 11                 jmp LFFF4              ; Return from sub
004338  2               
004338  2               ;--------------------------------------------
004338  2               
004338  2  A2 00        L418C:      ldx #$00               ; A2 00
00433A  2  20 59 39                 jsr L3837              ; 20 37 38
00433D  2  A2 03                    ldx #$03               ; A2 03
00433F  2  20 59 39                 jsr L3837              ; 20 37 38
004342  2  A2 06                    ldx #$06               ; A2 06
004344  2  20 59 39                 jsr L3837              ; 20 37 38
004347  2  A5 D2        L419B:      lda L00D2              ; A5 D2
004349  2  05 D5                    ora L00D5              ; 05 D5
00434B  2  05 D8                    ora L00D8              ; 05 D8
00434D  2  09 01                    ora #$01               ; 09 01
00434F  2  85 DB                    sta L00DB              ; 85 DB
004351  2  A5 D3                    lda L00D3              ; A5 D3
004353  2  05 D6                    ora L00D6              ; 05 D6
004355  2  05 D9                    ora L00D9              ; 05 D9
004357  2  06 DB        L41AB:      asl L00DB              ; 06 DB
004359  2  2A                       rol A                  ; 2A
00435A  2  B0 0E                    bcs L41BE              ; B0 0E
00435C  2  06 D2                    asl L00D2              ; 06 D2
00435E  2  26 D3                    rol L00D3              ; 26 D3
004360  2  06 D5                    asl L00D5              ; 06 D5
004362  2  26 D6                    rol L00D6              ; 26 D6
004364  2  06 D8                    asl L00D8              ; 06 D8
004366  2  26 D9                    rol L00D9              ; 26 D9
004368  2  90 ED                    bcc L41AB              ; 90 ED
00436A  2  A5 D3        L41BE:      lda L00D3              ; A5 D3
00436C  2  4A                       lsr A                  ; 4A
00436D  2  05 D4                    ora L00D4              ; 05 D4
00436F  2  85 31                    sta L0031              ; Set x1
004371  2  A5 D6                    lda L00D6              ; A5 D6
004373  2  4A                       lsr A                  ; 4A
004374  2  05 D7                    ora L00D7              ; 05 D7
004376  2  85 32                    sta L0032              ; Set y1
004378  2  A5 D9                    lda L00D9              ; A5 D9
00437A  2  4A                       lsr A                  ; 4A
00437B  2  05 DA                    ora L00DA              ; 05 DA
00437D  2  85 33                    sta L0033              ; 85 33
00437F  2  A5 31        L41D3:      lda L0031              ; Get x1
004381  2  20 1B 24                 jsr L23EE              ; 20 EE 23
004384  2  85 A1                    sta L00A1              ; 85 A1
004386  2  A5 1B                    lda L001B              ; A5 1B
004388  2  85 A0                    sta L00A0              ; 85 A0
00438A  2  A5 32                    lda L0032              ; Get y1
00438C  2  20 1B 24                 jsr L23EE              ; 20 EE 23
00438F  2  85 D1                    sta L00D1              ; 85 D1
004391  2  A5 1B                    lda L001B              ; A5 1B
004393  2  65 A0                    adc L00A0              ; 65 A0
004395  2  85 A0                    sta L00A0              ; 85 A0
004397  2  A5 D1                    lda L00D1              ; A5 D1
004399  2  65 A1                    adc L00A1              ; 65 A1
00439B  2  85 A1                    sta L00A1              ; 85 A1
00439D  2  A5 33                    lda L0033              ; A5 33
00439F  2  20 1B 24                 jsr L23EE              ; 20 EE 23
0043A2  2  85 D1                    sta L00D1              ; 85 D1
0043A4  2  A5 1B                    lda L001B              ; A5 1B
0043A6  2  65 A0                    adc L00A0              ; 65 A0
0043A8  2  85 A0                    sta L00A0              ; 85 A0
0043AA  2  A5 D1                    lda L00D1              ; A5 D1
0043AC  2  65 A1                    adc L00A1              ; 65 A1
0043AE  2  85 A1                    sta L00A1              ; 85 A1
0043B0  2  20 7A 47                 jsr L45F4              ; 20 F4 45
0043B3  2  A5 31                    lda L0031              ; Get x1
0043B5  2  20 C1 46                 jsr L453B              ; 20 3B 45
0043B8  2  85 31                    sta L0031              ; Set x1
0043BA  2  A5 32                    lda L0032              ; Get y1
0043BC  2  20 C1 46                 jsr L453B              ; 20 3B 45
0043BF  2  85 32                    sta L0032              ; Set y1
0043C1  2  A5 33                    lda L0033              ; A5 33
0043C3  2  20 C1 46                 jsr L453B              ; 20 3B 45
0043C6  2  85 33                    sta L0033              ; 85 33
0043C8  2  60                       rts                    ; 60
0043C9  2               
0043C9  2               ;--------------------------------------------
0043C9  2               ; Read key
0043C9  2               ;--------------------------------------------
0043C9  2               
0043C9  2               L421D:
0043C9  2               ;            ldx #$10               ; A2 10
0043C9  2               L421F:
0043C9  2  20 6A 44                 jsr L42D7              ; 20 D7 42
0043CC  2               ;            bmi L4228              ; 30 04
0043CC  2               ;            inx                    ; E8
0043CC  2               ;            bpl L421F              ; 10 F8
0043CC  2               
0043CC  2               ;            txa                    ; 8A
0043CC  2               L4228:
0043CC  2               ;            eor #$80               ; 49 80
0043CC  2               ;            tay                    ; A8
0043CC  2               ;            jsr L42D5              ; 20 D5 42
0043CC  2               ;            php                    ; 08
0043CC  2               ;            tya                    ; 98
0043CC  2               ;            plp                    ; 28
0043CC  2               ;            bpl L4235              ; 10 02
0043CC  2               ;            ora #$80               ; 09 80
0043CC  2               L4235:
0043CC  2               ;            tax                    ; AA
0043CC  2  60           L4236:      rts                    ; 60
0043CD  2               
0043CD  2               ;--------------------------------------------
0043CD  2               
0043CD  2  A9 00        L4237:      lda #$00               ; A9 00
0043CF  2  85 30                    sta L0030              ; E mark in panel
0043D1  2  8D FF 0B                 sta L0BFF              ; 8D FF 0B
0043D4  2  20 3C 3A                 jsr L391A              ; 20 1A 39
0043D7  2  A9 48                    lda #$48               ; Silence
0043D9  2  D0 3C                    bne L4281              ; Make sound
0043DB  2  A9 18        L4245:      lda #$18               ; Beep/hit
0043DD  2  D0 38                    bne L4281              ; Make sound
0043DF  2  A2 08        L4249:      ldx #$08               ; A2 08
0043E1  2  20 8D 21                 jsr L2160              ; 20 60 21
0043E4  2  90 E6                    bcc L4236              ; 90 E6
0043E6  2               
0043E6  2  A9 78                    lda #$78               ; Text 'INCOMING MISSILE'
0043E8  2  20 48 45                 jsr L43C2              ; Print at bottomline
0043EB  2               
0043EB  2  A9 30                    lda #$30               ; Launch sound
0043ED  2  D0 28                    bne L4281              ; Make sound
0043EF  2  EE 47 03     L4259:      inc L0347              ; EE 47 03
0043F2  2  D0 08                    bne L4266              ; D0 08
0043F4  2  EE 48 03                 inc L0348              ; EE 48 03
0043F7  2               
0043F7  2  A9 65                    lda #$65               ; Text 'RIGHT .. COMMANDER'
0043F9  2  20 48 45                 jsr L43C2              ; Print at bottomline
0043FC  2  A2 07        L4266:      ldx #$07               ; A2 07
0043FE  2  86 D1        L4268:      stx L00D1              ; 86 D1
004400  2  A9 18                    lda #$18               ; A9 18
004402  2  20 3F 44                 jsr L42A9              ; 20 A9 42
004405  2  A5 5A                    lda L005A              ; A5 5A
004407  2  4A                       lsr A                  ; 4A
004408  2  4A                       lsr A                  ; 4A
004409  2  25 D1                    and L00D1              ; 25 D1
00440B  2  09 F1                    ora #$F1               ; 09 F1
00440D  2  85 0B                    sta L000B              ; 85 0B
00440F  2  20 1A 44                 jsr L4284              ; 20 84 42
004412  2  A9 10                    lda #$10               ; A9 10
004414  2               
004414  2  2C                       .byte $2C
004415  2               ;------------------------------------------------
004415  2               ; Make beep sound
004415  2               ;------------------------------------------------
004415  2               
004415  2               L427F:
004415  2  A9 20                    lda #32                ; A9 20
004417  2               
004417  2               ;------------------------------------------------
004417  2               ; Make sound
004417  2               ;
004417  2               ; Nr = A*8 (max 10)
004417  2               ;
004417  2               ; Table lb at L3C3B:
004417  2               ;
004417  2               ; Nr CH AMP PIT DUR
004417  2               ;  0 11  01  00  03  Laser             (env=1)
004417  2               ;  8 11  02  2C  04  Enemy fired laser (env=2)
004417  2               ; 10 11  03  F0  06  Hit2              (env=3)
004417  2               ; 18 10  F1  04  05  Beep/hit1         (note volume=15)
004417  2               ; 20 01  F1  BC  01  Energy low        (note volume=15)
004417  2               ; 28 11  F4  0C  08                    (note volume=12)
004417  2               ; 30 10  F1  04  06  Launch            (noise volume=15)
004417  2               ; 38 10  02  60  10                    (env=2)
004417  2               ; 40 11  04  C2  FF                    (env=4)
004417  2               ; 48 11  00  00  00  Silence
004417  2               ;
004417  2               ; In ELITEDATA the ENVELOPES are defined
004417  2               ;
004417  2               ; ENVELOPE n,s,Pi1,Pi2,Pi3,Pr1,Pr2,Pr3,0,0,0,0,0,0
004417  2               ;  n  = nr (1-16)
004417  2               ;  s  = duration pitch in 10 ms
004417  2               ; Pi1 = Value Pitch increment 1st stage
004417  2               ; Pi2 = Value Pitch increment 2nd stage
004417  2               ; Pi3 = Value Pitch increment 3rd stage
004417  2               ; Pr1 = Number Pitch increments 1st stage
004417  2               ; Pr2 = Number Pitch increments 2nd stage
004417  2               ; Pr3 = Number Pitch increments 3rd stage
004417  2               ;
004417  2               ;                   n   s  pi1 pi2 pi3 pr1 pr2 pr3
004417  2               ;L1D14:
004417  2               ;            .byte $01,$01,$00,$6F,$F8,$04,$01,$08	; Envelope
004417  2               ;            .byte $7E,$00,$00,$82,$7E,$7E
004417  2               ;L1D22:
004417  2               ;            .byte $02,$01,$0E,$EE,$FF,$2C,$20,$32	; Envelope
004417  2               ;            .byte $06,$01,$00,$FE,$78,$7E
004417  2               ;L1D30:
004417  2               ;            .byte $03,$01,$01,$FF,$FD,$11,$20,$80	; Envelope
004417  2               ;            .byte $01,$00,$00,$FF,$01,$01
004417  2               ;L1D3E:
004417  2               ;            .byte $04,$01,$04,$F8,$2C,$04,$06,$08	; Envelope
004417  2               ;            .byte $16,$00,$00,$81,$7E,$00
004417  2               
004417  2               ;------------------------------------------------
004417  2               
004417  2  20 3F 44     L4281:      jsr L42A9              ; Set 4x 16-bits parameters in L0009 (hb=0)
00441A  2               
00441A  2  AE 1D 0D     L4284:      ldx L0D1D              ; Sound flag
00441D  2  D0 AD                    bne L4236              ; If set, no sound
00441F  2               
00441F  2  A5 09                    lda L0009              ; Get channel
004421  2  29 01                    and #$01               ; Filter bit0
004423  2  AA                       tax                    ; set pointer
004424  2               
004424  2  A4 11                    ldy L0011              ; Get soundindex
004426  2  B9 91 3D                 lda L3C63,Y            ; B9 63 3C
004429  2  DD FB 0B                 cmp L0BFB,X            ; DD FB 0B
00442C  2  90 9E                    bcc L4236              ; 90 9E
00442E  2  9D FB 0B                 sta L0BFB,X            ; 9D FB 0B
004431  2  29 0F                    and #$0F               ; 29 0F
004433  2  9D FD 0B                 sta L0BFD,X            ; 9D FD 0B
004436  2               
004436  2  A2 09                    ldx #<L0009            ; Parameterblock
004438  2  A0 00                    ldy #>L0009
00443A  2  A9 07                    lda #$07               ; Sound command
00443C  2  4C 27 11                 jmp LFFF1              ; OSWORD
00443F  2               
00443F  2  85 11        L42A9:      sta L0011              ; Save soundindex
004441  2  4A                       lsr A                  ; Skipfactor=4
004442  2  69 03                    adc #$03               ;
004444  2  A8                       tay                    ; Set pointer
004445  2               
004445  2  A2 07                    ldx #$07               ; Set 4x16 bits parameters
004447  2  A9 00        L42B1:      lda #$00               ; hb=0
004449  2  95 09                    sta L0009,X            ; Set hb
00444B  2  CA                       dex
00444C  2  B9 69 3D                 lda L3C3B,Y            ; Read parameter
00444F  2  95 09                    sta L0009,X            ; Set lb
004451  2  88                       dey                    ; Next parameter
004452  2  CA                       dex
004453  2  10 F2                    bpl L42B1              ; Repeat for 4 parameters
004455  2  60           L42BF:      rts
004456  2               
004456  2               ;------------------------------------------------
004456  2               ; Key code table
004456  2               ;------------------------------------------------
004456  2               
004456  2               ; Navigation controls:
004456  2               ;
004456  2               ;  /  = Speed -
004456  2               ; SPC = Speed +
004456  2               ;  <  = Rotate clockwise
004456  2               ;  >  = Rotate anticlockwise
004456  2               ;  X  = Dive
004456  2               ;  S  = Climb
004456  2               ;  A  = Laser
004456  2               
004456  2               ;                  /  SPC  <   >   X   S   A
004456  2  68 62 66 67              .byte $68,$62,$66,$67,$42,$51,$41
00445A  2  42 51 41     
00445D  2               
00445D  2               ; Other controls:
00445D  2               ;
00445D  2               ;  -  = Energy bomb activate
00445D  2               ; ESC = Go to intro screen
00445D  2               ;  T  = Lock missile on target
00445D  2               ;  U  = Unlock missile
00445D  2               ;  M  = Fire missile
00445D  2               ;  E  = E.C.M activate
00445D  2               ;  J  = Space skip
00445D  2               ;  C  = Docking computer on
00445D  2               
00445D  2               ;                  -  ESC  T   U   M   E   J   C
00445D  2  17 70 23 35              .byte $17,$70,$23,$35,$65,$22,$45,$52
004461  2  65 22 45 52  
004465  2               
004465  2               ;------------------------------------------------
004465  2               ; Scan key (electron matrix code)
004465  2               ;------------------------------------------------
004465  2               
004465  2               L42CF:
004465  2               ;            sec
004465  2               ;            clv
004465  2               ;            sei
004465  2               ;            jmp (L0D04)
004465  2  4C C6 63     	jmp keyscan
004468  2               
004468  2               ;------------------------------------------------
004468  2               ; Check key
004468  2               ;------------------------------------------------
004468  2               
004468  2               L42D5:
004468  2  A2 40                    ldx #$40               ; A2 40
00446A  2               L42D7:
00446A  2               
00446A  2  98                       tya
00446B  2  48                       pha                    ; Save Y
00446C  2               
00446C  2               ;            txa
00446C  2               ;            pha                    ; Save X
00446C  2               
00446C  2               ;            ora #$80               ; Set bit7
00446C  2               ;            tax
00446C  2               
00446C  2  20 65 44                 jsr L42CF              ; Scan key
00446F  2               
00446F  2               ;            cli
00446F  2               ;            tax                    ; Save key in X
00446F  2               ;            pla                    ; Get X
00446F  2               ;            and #$7F               ; Bit7=0
00446F  2               
00446F  2               ;            cpx #$80               ; Check X
00446F  2               ;            bcc L42EC              ; Skip if X<$80
00446F  2               ;            ora #$80               ; Set bit7
00446F  2               L42EC:
00446F  2  AA                       tax                    ; AA
004470  2  68                       pla                    ; 68
004471  2  A8                       tay                    ; A8
004472  2  8A                       txa                    ; 8A
004473  2  60                       rts                    ; 60
004474  2               
004474  2               key_buf:
004474  2  00           	.byte 0
004475  2               
004475  2               ;------------------------------------------------
004475  2               ;
004475  2               ;------------------------------------------------
004475  2               
004475  2  A9 80                    lda #$80               ; Read ADC channel
004477  2  20 27 11                 jsr LFFF4              ; OSBYTE
00447A  2  98                       tya                    ; 98
00447B  2  4D 23 0D                 eor L0D23              ; 4D 23 0D
00447E  2  60                       rts                    ; 60
00447F  2               
00447F  2               ;------------------------------------------------
00447F  2               ;
00447F  2               ;------------------------------------------------
00447F  2               
00447F  2  84 D1        L42FB:      sty L00D1              ; 84 D1
004481  2  E4 D1                    cpx L00D1              ; E4 D1
004483  2  D0 10                    bne L4311              ; D0 10
004485  2  BD DE 0C                 lda L0CDE,X            ; BD DE 0C
004488  2  49 FF                    eor #$FF               ; Invert
00448A  2  9D DE 0C                 sta L0CDE,X            ; 9D DE 0C
00448D  2  20 DE 1C                 jsr L1CF6              ; Bell
004490  2  20 94 28                 jsr L2864              ; Pause
004493  2  A4 D1                    ldy L00D1              ; A4 D1
004495  2  60           L4311:      rts                    ; 60
004496  2               
004496  2               ;---------------------------------------------
004496  2               ; Reset key buffer
004496  2               ;---------------------------------------------
004496  2               
004496  2  A9 00        L4312:      lda #$00               ; A9 00
004498  2  A0 0F                    ldy #$0F               ; A0 0F
00449A  2  99 41 00     L4316:      sta L0041,Y            ; Last-key
00449D  2  88                       dey                    ; 88
00449E  2  D0 FA                    bne L4316              ; D0 FA
0044A0  2  60                       rts                    ; 60
0044A1  2               
0044A1  2               ;---------------------------------------------
0044A1  2               ; Check ship control movements and set vars
0044A1  2               ;
0044A1  2               ; Reg Key   Function
0044A1  2               ;--------------------
0044A1  2               ; $42  /  = Speed-
0044A1  2               ; $43 SPC = Speed+
0044A1  2               ; $44  <  = Left
0044A1  2               ; $45  >  = Right
0044A1  2               ; $46  X  = Climb
0044A1  2               ; $47  S  = Dive
0044A1  2               ; $48  A  = Laser
0044A1  2               ;---------------------------------------------
0044A1  2               
0044A1  2  20 96 44     L431D:      jsr L4312              ; Reset key buffer
0044A4  2               
0044A4  2  A0 07                    ldy #$07               ; Set key buffer counter
0044A6  2               L4322:
0044A6  2               ;            ldx L42BF,Y            ; Get key value
0044A6  2               ;            jsr L42D7              ; Check key
0044A6  2               ;            bpl L432E              ; Skip if not pressed
0044A6  2  20 6A 44     	jsr L42D7
0044A9  2  D9 55 44     	cmp L42BF,Y
0044AC  2  D0 04        	bne L432E
0044AE  2  A2 FF                    ldx #$FF               ; Set keyvar
0044B0  2  96 41                    stx L0041,Y            ; Last key
0044B2  2  88           L432E:      dey
0044B3  2  D0 F1                    bne L4322              ; Repeat
0044B5  2               
0044B5  2  A6 AC                    ldx L00AC              ; A6 AC
0044B7  2  A9 07                    lda #$07               ; A9 07
0044B9  2  A4 44                    ldy L0044              ; A4 44
0044BB  2  F0 03                    beq L433C              ; F0 03
0044BD  2               
0044BD  2  20 1F 26                 jsr L25F2              ; 20 F2 25
0044C0  2               
0044C0  2  A4 45        L433C:      ldy L0045              ; A4 45
0044C2  2  F0 03                    beq L4343              ; F0 03
0044C4  2               
0044C4  2  20 2F 26                 jsr L2602              ; 20 02 26
0044C7  2               
0044C7  2  86 AC        L4343:      stx L00AC              ; 86 AC
0044C9  2  0A                       asl A                  ; 0A
0044CA  2  A6 AD                    ldx L00AD              ; A6 AD
0044CC  2  A4 46                    ldy L0046              ; A4 46
0044CE  2  F0 03                    beq L434F              ; F0 03
0044D0  2               
0044D0  2  20 2F 26                 jsr L2602              ; 20 02 26
0044D3  2               
0044D3  2  A4 47        L434F:      ldy L0047              ; A4 47
0044D5  2  F0 03                    beq L4356              ; F0 03
0044D7  2               
0044D7  2  20 1F 26                 jsr L25F2              ; 20 F2 25
0044DA  2               
0044DA  2  86 AD        L4356:      stx L00AD              ; 86 AD
0044DC  2  20 C9 43                 jsr L421D              ; Read key
0044DF  2  86 41                    stx L0041              ; Last key
0044E1  2  E0 38                    cpx #$38               ; Copy-key?
0044E3  2  D0 2B                    bne L438C              ; No, jump
0044E5  2               
0044E5  2  20 92 28     L4361:      jsr L2862              ; Pause
0044E8  2  20 C9 43                 jsr L421D              ; Read key
0044EB  2  E0 51                    cpx #$51               ; S-key?
0044ED  2  D0 05                    bne L4370              ; D0 05
0044EF  2  A9 00                    lda #$00               ; A9 00
0044F1  2  8D 1D 0D                 sta L0D1D              ; Sound flag
0044F4  2               
0044F4  2  A0 40        L4370:      ldy #$40               ; A0 40
0044F6  2  20 7F 44     L4372:      jsr L42FB              ; 20 FB 42
0044F9  2  C8                       iny                    ; C8
0044FA  2  C0 47                    cpy #$47               ; C0 47
0044FC  2  D0 F8                    bne L4372              ; D0 F8
0044FE  2               
0044FE  2  E0 10                    cpx #$10               ; E0 10
004500  2  D0 03                    bne L4381              ; D0 03
004502  2  8E 1D 0D                 stx L0D1D              ; Sound flag
004505  2               
004505  2  E0 70        L4381:      cpx #$70               ; ESC_key?
004507  2  D0 03                    bne L4388              ; D0 03
004509  2  4C F4 40                 jmp L3FB2              ; 4C B2 3F
00450C  2               
00450C  2  E0 59        L4388:      cpx #$59               ; Del-key?
00450E  2  D0 D5                    bne L4361              ; D0 D5
004510  2               
004510  2  A5 A6        L438C:      lda L00A6              ; Headerstatus
004512  2  D0 13                    bne L43A3              ; D0 13
004514  2               
004514  2  A0 0F                    ldy #$0F               ; A0 0F
004516  2  A9 FF                    lda #$FF               ; A9 FF
004518  2  BE 55 44     L4394:      ldx L42BF,Y            ; BE BF 42
00451B  2  E4 41                    cpx L0041              ; Last-key
00451D  2  D0 03                    bne L439E              ; D0 03
00451F  2  99 41 00                 sta L0041,Y            ; Last-key
004522  2  88           L439E:      dey                    ; 88
004523  2  C0 07                    cpy #$07               ; C0 07
004525  2  D0 F1                    bne L4394              ; D0 F1
004527  2  60           L43A3:      rts                    ; 60
004528  2               
004528  2               ;--------------------------------------------
004528  2               ; Read key in A/X at exit
004528  2               ;--------------------------------------------
004528  2               
004528  2  84 A4        L43A4:      sty L00A4              ; YSAV
00452A  2  CE 01 0D                 dec L0D01              ; Set scanflag
00452D  2               ;            jsr LFFE0              ; OSRDCH
00452D  2  20 71 FE     	jsr READCHR
004530  2  C8           	iny
004531  2  98           	tya
004532  2               
004532  2  EE 01 0D                 inc L0D01              ; Reset scanflag
004535  2  AA                       tax                    ; Set key in X
004536  2  60           L43B0:      rts
004537  2               
004537  2               ;--------------------------------------------
004537  2               ;
004537  2               ;--------------------------------------------
004537  2               
004537  2  8E 06 0C     L43B1:      stx L0C06              ; 8E 06 0C
00453A  2  48                       pha                    ; 48
00453B  2  AD D1 0C                 lda L0CD1              ; AD D1 0C
00453E  2  20 5F 45                 jsr L43D9              ; 20 D9 43
004541  2  68                       pla                    ; 68
004542  2  2C                       .byte $2C
004543  2  A9 6C        L43BD:      lda #$6C               ; A9 6C
004545  2  2C                       .byte $2C
004546  2               L43C0:
004546  2  A9 6F                    lda #$6f               ; A9 6F
004548  2  A2 00        L43C2:      ldx #$00               ; A2 00
00454A  2  86 7E                    stx L007E              ; VDU stat
00454C  2  A0 09                    ldy #$09               ; A0 09
00454E  2  84 2C                    sty L002C              ; Cursor X
004550  2               
004550  2               ;            ldy #$16               ; A0 16
004550  2  A0 15                    ldy #$15               ; CHAR8x6
004552  2               
004552  2  84 2D                    sty L002D              ; Cursor Y
004554  2  EC 06 0C                 cpx L0C06              ; EC 06 0C
004557  2  D0 DE                    bne L43B1              ; D0 DE
004559  2  8C 06 0C                 sty L0C06              ; 8C 06 0C
00455C  2  8D D1 0C                 sta L0CD1              ; 8D D1 0C
00455F  2  20 F1 35     L43D9:      jsr L34CB              ; De-token
004562  2               
004562  2  4E 07 0C                 lsr L0C07              ; 4E 07 0C
004565  2  90 CF                    bcc L43B0              ; 90 CF
004567  2  A9 FD                    lda #$FD               ; Text ' DESTROYED'
004569  2  4C F1 35                 jmp L34CB              ; De-token
00456C  2               
00456C  2  20 52 3E     L43E6:      jsr L3D24              ; Randomize $1,$2,$3
00456F  2  30 C5                    bmi L43B0              ; 30 C5
004571  2  E0 16                    cpx #$16               ; E0 16
004573  2  B0 C1                    bcs L43B0              ; B0 C1
004575  2  BD 17 03                 lda L0317,X            ; Inventory
004578  2  F0 BC                    beq L43B0              ; F0 BC
00457A  2  AD 06 0C                 lda L0C06              ; AD 06 0C
00457D  2  D0 B7                    bne L43B0              ; D0 B7
00457F  2  A0 03                    ldy #$03               ; A0 03
004581  2  8C 07 0C                 sty L0C07              ; 8C 07 0C
004584  2  9D 17 03                 sta L0317,X            ; Inventory
004587  2  E0 11                    cpx #$11               ; E0 11
004589  2  B0 05                    bcs L440A              ; B0 05
00458B  2  8A                       txa                    ; 8A
00458C  2  69 D0                    adc #$D0               ; Text products
00458E  2  D0 B8                    bne L43C2              ; Print at bottomline
004590  2  F0 B1        L440A:      beq L43BD              ; F0 B1
004592  2  E0 12                    cpx #$12               ; E0 12
004594  2  F0 B0                    beq L43C0              ; F0 B0
004596  2  8A                       txa                    ; 8A
004597  2  69 5D                    adc #$5D               ; 69 5D
004599  2  D0 AD                    bne L43C2              ; Print at bottomline
00459B  2               
00459B  2               ;------------------------------------------------
00459B  2               ; Token Text table $00-$1F
00459B  2               ;------------------------------------------------
00459B  2               
00459B  2  41 4C 4C 45  L4415:      .byte "AL","LE","XE","GE","ZA","CE","BI","SO" ; $00-$07
00459F  2  58 45 47 45  
0045A3  2  5A 41 43 45  
0045AB  2  55 53 45 53              .byte "US","ES","AR","MA","IN","DI","RE","A?" ; $08-$0F
0045AF  2  41 52 4D 41  
0045B3  2  49 4E 44 49  
0045BB  2  45 52 41 54              .byte "ER","AT","EN","BE","RA","LA","VE","TI" ; $10-$17
0045BF  2  45 4E 42 45  
0045C3  2  52 41 4C 41  
0045CB  2  45 44 4F 52              .byte "ED","OR","QU","AN","TE","IS","RI","ON" ; $18-$1F
0045CF  2  51 55 41 4E  
0045D3  2  54 45 49 53  
0045DB  2               
0045DB  2               ;------------------------------------------------
0045DB  2               ; Cargo data
0045DB  2               ;------------------------------------------------
0045DB  2               
0045DB  2  13           L4455:      .byte $13
0045DC  2  82           L4456:      .byte $82
0045DD  2  06           L4457:      .byte $06
0045DE  2               
0045DE  2  01 14 81 0A  L4458:      .byte $01,$14,$81,$0A,$03,$41,$83,$02
0045E2  2  03 41 83 02  
0045E6  2  07 28 85 E2              .byte $07,$28,$85,$E2,$1F,$53,$85,$FB
0045EA  2  1F 53 85 FB  
0045EE  2  0F C4 08 36              .byte $0F,$C4,$08,$36,$03,$EB,$1D,$08
0045F2  2  03 EB 1D 08  
0045F6  2  78 9A 0E 38              .byte $78,$9A,$0E,$38,$03,$75,$06,$28
0045FA  2  03 75 06 28  
0045FE  2  07 4E 01 11              .byte $07,$4E,$01,$11,$1F,$7C,$0D,$1D
004602  2  1F 7C 0D 1D  
004606  2  07 B0 89 DC              .byte $07,$B0,$89,$DC,$3F,$20,$81,$35
00460A  2  3F 20 81 35  
00460E  2  03 61 A1 42              .byte $03,$61,$A1,$42,$07,$AB,$A2,$37
004612  2  07 AB A2 37  
004616  2  1F 2D C1 FA              .byte $1F,$2D,$C1,$FA,$0F,$35,$0F,$C0
00461A  2  0F 35 0F C0  
00461E  2  07                       .byte $07
00461F  2               
00461F  2               ;------------------------------------------------
00461F  2               
00461F  2  98           L4499:      tya                    ; 98
004620  2  A0 02                    ldy #$02               ; A0 02
004622  2  20 EE 46                 jsr L4568              ; 20 68 45
004625  2  85 67                    sta L0067              ; 85 67
004627  2  4C 67 46                 jmp L44E1              ; 4C E1 44
00462A  2  AA           L44A4:      tax                    ; AA
00462B  2  A5 32                    lda L0032              ; Get y1
00462D  2  29 60                    and #$60               ; 29 60
00462F  2  F0 EE                    beq L4499              ; F0 EE
004631  2  A9 02                    lda #$02               ; A9 02
004633  2  20 EE 46                 jsr L4568              ; 20 68 45
004636  2  85 65                    sta L0065              ; 85 65
004638  2  4C 67 46                 jmp L44E1              ; 4C E1 44
00463B  2  A5 5D        L44B5:      lda L005D              ; A5 5D
00463D  2  85 31                    sta L0031              ; Set x1
00463F  2  A5 5F                    lda L005F              ; A5 5F
004641  2  85 32                    sta L0032              ; Set y1
004643  2  A5 61                    lda L0061              ; A5 61
004645  2  85 33                    sta L0033              ; 85 33
004647  2  20 7F 43                 jsr L41D3              ; 20 D3 41
00464A  2  A5 31                    lda L0031              ; Get x1
00464C  2  85 5D                    sta L005D              ; 85 5D
00464E  2  A5 32                    lda L0032              ; Get y1
004650  2  85 5F                    sta L005F              ; 85 5F
004652  2  A5 33                    lda L0033              ; A5 33
004654  2  85 61                    sta L0061              ; 85 61
004656  2  A0 04                    ldy #$04               ; A0 04
004658  2  A5 31                    lda L0031              ; Get x1
00465A  2  29 60                    and #$60               ; 29 60
00465C  2  F0 CC                    beq L44A4              ; F0 CC
00465E  2  A2 02                    ldx #$02               ; A2 02
004660  2  A9 00                    lda #$00               ; A9 00
004662  2  20 EE 46                 jsr L4568              ; 20 68 45
004665  2  85 63                    sta L0063              ; 85 63
004667  2  A5 63        L44E1:      lda L0063              ; A5 63
004669  2  85 31                    sta L0031              ; Set x1
00466B  2  A5 65                    lda L0065              ; A5 65
00466D  2  85 32                    sta L0032              ; Set y1
00466F  2  A5 67                    lda L0067              ; A5 67
004671  2  85 33                    sta L0033              ; 85 33
004673  2  20 7F 43                 jsr L41D3              ; 20 D3 41
004676  2  A5 31                    lda L0031              ; Get x1
004678  2  85 63                    sta L0063              ; 85 63
00467A  2  A5 32                    lda L0032              ; Get y1
00467C  2  85 65                    sta L0065              ; 85 65
00467E  2  A5 33                    lda L0033              ; A5 33
004680  2  85 67                    sta L0067              ; 85 67
004682  2  A5 5F                    lda L005F              ; A5 5F
004684  2  85 A0                    sta L00A0              ; 85 A0
004686  2  A5 67                    lda L0067              ; A5 67
004688  2  20 E4 24                 jsr L24B7              ; 20 B7 24
00468B  2  A6 61                    ldx L0061              ; A6 61
00468D  2  A5 65                    lda L0065              ; A5 65
00468F  2  20 49 25                 jsr L251C              ; 20 1C 25
004692  2  49 80                    eor #$80               ; 49 80
004694  2  85 69                    sta L0069              ; 85 69
004696  2  A5 63                    lda L0063              ; A5 63
004698  2  20 E4 24                 jsr L24B7              ; 20 B7 24
00469B  2  A6 5D                    ldx L005D              ; A6 5D
00469D  2  A5 67                    lda L0067              ; A5 67
00469F  2  20 49 25                 jsr L251C              ; 20 1C 25
0046A2  2  49 80                    eor #$80               ; 49 80
0046A4  2  85 6B                    sta L006B              ; 85 6B
0046A6  2  A5 65                    lda L0065              ; A5 65
0046A8  2  20 E4 24                 jsr L24B7              ; 20 B7 24
0046AB  2  A6 5F                    ldx L005F              ; A6 5F
0046AD  2  A5 63                    lda L0063              ; A5 63
0046AF  2  20 49 25                 jsr L251C              ; 20 1C 25
0046B2  2  49 80                    eor #$80               ; 49 80
0046B4  2  85 6D                    sta L006D              ; 85 6D
0046B6  2  A9 00                    lda #$00               ; A9 00
0046B8  2  A2 0E                    ldx #$0E               ; A2 0E
0046BA  2  95 5C        L4534:      sta L005C,X            ; 95 5C
0046BC  2  CA                       dex                    ; CA
0046BD  2  CA                       dex                    ; CA
0046BE  2  10 FA                    bpl L4534              ; 10 FA
0046C0  2  60                       rts                    ; 60
0046C1  2               
0046C1  2  A8           L453B:      tay                    ; A8
0046C2  2  29 7F                    and #$7F               ; 29 7F
0046C4  2  C5 A0                    cmp L00A0              ; C5 A0
0046C6  2  B0 20                    bcs L4562              ; B0 20
0046C8  2  A2 FE                    ldx #$FE               ; A2 FE
0046CA  2  86 D1                    stx L00D1              ; 86 D1
0046CC  2  0A           L4546:      asl A                  ; 0A
0046CD  2  C5 A0                    cmp L00A0              ; C5 A0
0046CF  2  90 02                    bcc L454D              ; 90 02
0046D1  2  E5 A0                    sbc L00A0              ; E5 A0
0046D3  2  26 D1        L454D:      rol L00D1              ; 26 D1
0046D5  2  B0 F5                    bcs L4546              ; B0 F5
0046D7  2  A5 D1                    lda L00D1              ; A5 D1
0046D9  2  4A                       lsr A                  ; 4A
0046DA  2  4A                       lsr A                  ; 4A
0046DB  2  85 D1                    sta L00D1              ; 85 D1
0046DD  2  4A                       lsr A                  ; 4A
0046DE  2  65 D1                    adc L00D1              ; 65 D1
0046E0  2  85 D1                    sta L00D1              ; 85 D1
0046E2  2  98                       tya                    ; 98
0046E3  2  29 80                    and #$80               ; 29 80
0046E5  2  05 D1                    ora L00D1              ; 05 D1
0046E7  2  60                       rts                    ; 60
0046E8  2               
0046E8  2  98           L4562:      tya                    ; 98
0046E9  2  29 80                    and #$80               ; 29 80
0046EB  2               
0046EB  2  09 60                    ora #$60               ; 09 60
0046ED  2               
0046ED  2  60                       rts                    ; 60
0046EE  2               
0046EE  2  85 1D        L4568:      sta L001D              ; 85 1D
0046F0  2  B5 5D                    lda L005D,X            ; B5 5D
0046F2  2  85 A0                    sta L00A0              ; 85 A0
0046F4  2  B5 63                    lda L0063,X            ; B5 63
0046F6  2  20 E4 24                 jsr L24B7              ; 20 B7 24
0046F9  2  B6 5D                    ldx L005D,Y            ; B6 5D
0046FB  2  86 A0                    stx L00A0              ; 86 A0
0046FD  2  B9 63 00                 lda L0063,Y            ; B9 63 00
004700  2  20 0A 25                 jsr L24DD              ; 20 DD 24
004703  2  86 1B                    stx L001B              ; 86 1B
004705  2  A4 1D                    ldy L001D              ; A4 1D
004707  2  B6 5D                    ldx L005D,Y            ; B6 5D
004709  2  86 A0                    stx L00A0              ; 86 A0
00470B  2  49 80                    eor #$80               ; 49 80
00470D  2  85 1C                    sta L001C              ; 85 1C
00470F  2  45 A0                    eor L00A0              ; 45 A0
004711  2  29 80                    and #$80               ; 29 80
004713  2  85 D1                    sta L00D1              ; 85 D1
004715  2  A9 00                    lda #$00               ; A9 00
004717  2  A2 10                    ldx #$10               ; A2 10
004719  2  06 1B                    asl L001B              ; 06 1B
00471B  2  26 1C                    rol L001C              ; 26 1C
00471D  2  06 A0                    asl L00A0              ; 06 A0
00471F  2  46 A0                    lsr L00A0              ; 46 A0
004721  2  2A           L459B:      rol A                  ; 2A
004722  2  C5 A0                    cmp L00A0              ; C5 A0
004724  2  90 02                    bcc L45A2              ; 90 02
004726  2  E5 A0                    sbc L00A0              ; E5 A0
004728  2  26 1B        L45A2:      rol L001B              ; 26 1B
00472A  2  26 1C                    rol L001C              ; 26 1C
00472C  2  CA                       dex                    ; CA
00472D  2  D0 F2                    bne L459B              ; D0 F2
00472F  2  A5 1B                    lda L001B              ; A5 1B
004731  2  05 D1                    ora L00D1              ; 05 D1
004733  2  60                       rts                    ; 60
004734  2               
004734  2               ;--------------------------------------------
004734  2               ; Start ELITEG.TXT
004734  2               ;--------------------------------------------
004734  2               
004734  2  20 9C 48     L45AE:      jsr L4716              ; 20 16 47
004737  2  20 A0 3A                 jsr L3972              ; 20 72 39
00473A  2  05 D3                    ora L00D3              ; 05 D3
00473C  2  D0 21                    bne L45D9              ; D0 21
00473E  2  A5 E0                    lda L00E0              ; A5 E0
004740  2  C9 BE                    cmp #$BE               ; C9 BE
004742  2  B0 1B                    bcs L45D9              ; B0 1B
004744  2  A0 02                    ldy #$02               ; A0 02
004746  2  20 66 47                 jsr L45E0              ; 20 E0 45
004749  2  A0 06                    ldy #$06               ; A0 06
00474B  2  A5 E0                    lda L00E0              ; A5 E0
00474D  2  69 01                    adc #$01               ; 69 01
00474F  2  20 66 47                 jsr L45E0              ; 20 E0 45
004752  2  A9 08                    lda #$08               ; A9 08
004754  2  05 72                    ora L0072              ; 05 72
004756  2  85 72                    sta L0072              ; 85 72
004758  2  A9 08                    lda #$08               ; A9 08
00475A  2  4C 06 4E                 jmp L4C80              ; 4C 80 4C
00475D  2               
00475D  2  68           L45D7:      pla                    ; 68
00475E  2  68                       pla                    ; 68
00475F  2  A9 F7        L45D9:      lda #$F7               ; A9 F7
004761  2  25 72                    and L0072              ; 25 72
004763  2  85 72                    sta L0072              ; 85 72
004765  2  60                       rts                    ; 60
004766  2               
004766  2  91 74        L45E0:      sta (L0074),Y          ; 91 74
004768  2  C8                       iny                    ; C8
004769  2  C8                       iny                    ; C8
00476A  2  91 74                    sta (L0074),Y          ; 91 74
00476C  2  A5 D2                    lda L00D2              ; A5 D2
00476E  2  88                       dey                    ; 88
00476F  2  91 74                    sta (L0074),Y          ; 91 74
004771  2  69 03                    adc #$03               ; 69 03
004773  2  B0 E8                    bcs L45D7              ; B0 E8
004775  2  88                       dey                    ; 88
004776  2  88                       dey                    ; 88
004777  2  91 74                    sta (L0074),Y          ; 91 74
004779  2  60                       rts                    ; 60
00477A  2               
00477A  2  A4 A1        L45F4:      ldy L00A1              ; A4 A1
00477C  2  A5 A0                    lda L00A0              ; A5 A0
00477E  2  85 A2                    sta L00A2              ; 85 A2
004780  2  A2 00                    ldx #$00               ; A2 00
004782  2  86 A0                    stx L00A0              ; 86 A0
004784  2  A9 08                    lda #$08               ; A9 08
004786  2  85 D1                    sta L00D1              ; 85 D1
004788  2  E4 A0        L4602:      cpx L00A0              ; E4 A0
00478A  2  90 0E                    bcc L4614              ; 90 0E
00478C  2  D0 04                    bne L460C              ; D0 04
00478E  2  C0 40                    cpy #$40               ; C0 40
004790  2  90 08                    bcc L4614              ; 90 08
004792  2  98           L460C:      tya                    ; 98
004793  2  E9 40                    sbc #$40               ; E9 40
004795  2  A8                       tay                    ; A8
004796  2  8A                       txa                    ; 8A
004797  2  E5 A0                    sbc L00A0              ; E5 A0
004799  2  AA                       tax                    ; AA
00479A  2  26 A0        L4614:      rol L00A0              ; 26 A0
00479C  2  06 A2                    asl L00A2              ; 06 A2
00479E  2  98                       tya                    ; 98
00479F  2  2A                       rol A                  ; 2A
0047A0  2  A8                       tay                    ; A8
0047A1  2  8A                       txa                    ; 8A
0047A2  2  2A                       rol A                  ; 2A
0047A3  2  AA                       tax                    ; AA
0047A4  2  06 A2                    asl L00A2              ; 06 A2
0047A6  2  98                       tya                    ; 98
0047A7  2  2A                       rol A                  ; 2A
0047A8  2  A8                       tay                    ; A8
0047A9  2  8A                       txa                    ; 8A
0047AA  2  2A                       rol A                  ; 2A
0047AB  2  AA                       tax                    ; AA
0047AC  2  C6 D1                    dec L00D1              ; C6 D1
0047AE  2  D0 D8                    bne L4602              ; D0 D8
0047B0  2  60                       rts                    ; 60
0047B1  2               
0047B1  2  C5 A0        L462B:      cmp L00A0              ; C5 A0
0047B3  2  B0 1A                    bcs L4649              ; B0 1A
0047B5  2  A2 FE        L462F:      ldx #$FE               ; A2 FE
0047B7  2  86 A1                    stx L00A1              ; 86 A1
0047B9  2  0A           L4633:      asl A                  ; 0A
0047BA  2  B0 0B                    bcs L4641              ; B0 0B
0047BC  2  C5 A0                    cmp L00A0              ; C5 A0
0047BE  2  90 02                    bcc L463C              ; 90 02
0047C0  2  E5 A0                    sbc L00A0              ; E5 A0
0047C2  2  26 A1        L463C:      rol L00A1              ; 26 A1
0047C4  2  B0 F3                    bcs L4633              ; B0 F3
0047C6  2  60                       rts                    ; 60
0047C7  2               
0047C7  2  E5 A0        L4641:      sbc L00A0              ; E5 A0
0047C9  2  38                       sec                    ; 38
0047CA  2  26 A1                    rol L00A1              ; 26 A1
0047CC  2  B0 EB                    bcs L4633              ; B0 EB
0047CE  2  60                       rts                    ; 60
0047CF  2               
0047CF  2  A9 FF        L4649:      lda #$FF               ; A9 FF
0047D1  2  85 A1                    sta L00A1              ; 85 A1
0047D3  2  60                       rts                    ; 60
0047D4  2               
0047D4  2  45 A2        L464E:      eor L00A2              ; 45 A2
0047D6  2  30 06                    bmi L4658              ; 30 06
0047D8  2  A5 A0                    lda L00A0              ; A5 A0
0047DA  2  18                       clc                    ; 18
0047DB  2  65 A1                    adc L00A1              ; 65 A1
0047DD  2  60                       rts                    ; 60
0047DE  2               
0047DE  2  A5 A1        L4658:      lda L00A1              ; A5 A1
0047E0  2  38                       sec                    ; 38
0047E1  2  E5 A0                    sbc L00A0              ; E5 A0
0047E3  2  90 02                    bcc L4661              ; 90 02
0047E5  2  18                       clc                    ; 18
0047E6  2  60                       rts                    ; 60
0047E7  2               
0047E7  2  48           L4661:      pha                    ; 48
0047E8  2  A5 A2                    lda L00A2              ; A5 A2
0047EA  2  49 80                    eor #$80               ; 49 80
0047EC  2  85 A2                    sta L00A2              ; 85 A2
0047EE  2  68                       pla                    ; 68
0047EF  2  49 FF                    eor #$FF               ; 49 FF
0047F1  2  69 01                    adc #$01               ; 69 01
0047F3  2  60                       rts                    ; 60
0047F4  2               
0047F4  2  A2 00        L466E:      ldx #$00               ; A2 00
0047F6  2  A0 00                    ldy #$00               ; A0 00
0047F8  2  A5 31        L4672:      lda L0031              ; Get x1
0047FA  2  85 A0                    sta L00A0              ; 85 A0
0047FC  2  B5 09                    lda L0009,X            ; B5 09
0047FE  2  20 57 24                 jsr L242A              ; 20 2A 24
004801  2  85 D1                    sta L00D1              ; 85 D1
004803  2  A5 32                    lda L0032              ; Get y1
004805  2  55 0A                    eor L000A,X            ; 55 0A
004807  2  85 A2                    sta L00A2              ; 85 A2
004809  2  A5 33                    lda L0033              ; A5 33
00480B  2  85 A0                    sta L00A0              ; 85 A0
00480D  2  B5 0B                    lda L000B,X            ; B5 0B
00480F  2  20 57 24                 jsr L242A              ; 20 2A 24
004812  2  85 A0                    sta L00A0              ; 85 A0
004814  2  A5 D1                    lda L00D1              ; A5 D1
004816  2  85 A1                    sta L00A1              ; 85 A1
004818  2  A5 34                    lda L0034              ; A5 34
00481A  2  55 0C                    eor L000C,X            ; 55 0C
00481C  2  20 D4 47                 jsr L464E              ; 20 4E 46
00481F  2  85 D1                    sta L00D1              ; 85 D1
004821  2  A5 35                    lda L0035              ; A5 35
004823  2  85 A0                    sta L00A0              ; 85 A0
004825  2  B5 0D                    lda L000D,X            ; B5 0D
004827  2  20 57 24                 jsr L242A              ; 20 2A 24
00482A  2  85 A0                    sta L00A0              ; 85 A0
00482C  2  A5 D1                    lda L00D1              ; A5 D1
00482E  2  85 A1                    sta L00A1              ; 85 A1
004830  2  A5 36                    lda L0036              ; A5 36
004832  2  55 0E                    eor L000E,X            ; 55 0E
004834  2  20 D4 47                 jsr L464E              ; 20 4E 46
004837  2  99 37 00                 sta L0037,Y            ; 99 37 00
00483A  2  A5 A2                    lda L00A2              ; A5 A2
00483C  2  99 38 00                 sta L0038,Y            ; 99 38 00
00483F  2  C8                       iny                    ; C8
004840  2  C8                       iny                    ; C8
004841  2  8A                       txa                    ; 8A
004842  2  18                       clc                    ; 18
004843  2  69 06                    adc #$06               ; 69 06
004845  2  AA                       tax                    ; AA
004846  2  C9 11                    cmp #$11               ; C9 11
004848  2  90 AE                    bcc L4672              ; 90 AE
00484A  2  60                       rts                    ; 60
00484B  2               
00484B  2  4C DB 3A     L46C5:      jmp L39AD              ; 4C AD 39
00484E  2               
00484E  2  A5 AB        L46C8:      lda L00AB              ; TYPE
004850  2  30 F9                    bmi L46C5              ; 30 F9
004852  2               
004852  2  A9 1F                    lda #$1F               ; A9 1F
004854  2  85 B7                    sta L00B7              ; 85 B7
004856  2               
004856  2  A9 20                    lda #$20               ; A9 20
004858  2  24 72                    bit L0072              ; 24 72
00485A  2  D0 2D                    bne L4703              ; D0 2D
00485C  2  10 2B                    bpl L4703              ; 10 2B
00485E  2  05 72                    ora L0072              ; 05 72
004860  2  29 3F                    and #$3F               ; 29 3F
004862  2  85 72                    sta L0072              ; 85 72
004864  2               
004864  2  A9 00                    lda #$00               ; A9 00
004866  2  A0 1C                    ldy #$1C               ; A0 1C
004868  2  91 20                    sta (L0020),Y          ; 91 20
00486A  2               
00486A  2  A0 1E                    ldy #$1E               ; A0 1E
00486C  2  91 20                    sta (L0020),Y          ; 91 20
00486E  2               
00486E  2  20 9C 48                 jsr L4716              ; 20 16 47
004871  2               
004871  2  A0 01                    ldy #$01               ; A0 01
004873  2  A9 12                    lda #$12               ; A9 12
004875  2  91 74                    sta (L0074),Y          ; 91 74
004877  2               
004877  2  A0 07                    ldy #$07               ; A0 07
004879  2  B1 1E                    lda (L001E),Y          ; B1 1E
00487B  2               
00487B  2  A0 02                    ldy #$02               ; A0 02
00487D  2  91 74                    sta (L0074),Y          ; 91 74
00487F  2               
00487F  2  C8           L46F9:      iny                    ; C8
004880  2  20 52 3E                 jsr L3D24              ; Randomize $1,$2,$3
004883  2  91 74                    sta (L0074),Y          ; 91 74
004885  2  C0 06                    cpy #$06               ; C0 06
004887  2  D0 F6                    bne L46F9              ; D0 F6
004889  2               
004889  2  A5 5B        L4703:      lda L005B              ; A5 5B
00488B  2  10 1D                    bpl L4724              ; 10 1D
00488D  2               
00488D  2  A5 72        L4707:      lda L0072              ; A5 72
00488F  2  29 20                    and #$20               ; 29 20
004891  2  F0 09                    beq L4716              ; F0 09
004893  2  A5 72                    lda L0072              ; A5 72
004895  2  29 F7                    and #$F7               ; 29 F7
004897  2  85 72                    sta L0072              ; 85 72
004899  2  4C C7 36                 jmp L35A1              ; 4C A1 35
00489C  2               
00489C  2  A9 08        L4716:      lda #$08               ; A9 08
00489E  2  24 72                    bit L0072              ; 24 72
0048A0  2  F0 07                    beq L4723              ; F0 07
0048A2  2  45 72                    eor L0072              ; 45 72
0048A4  2  85 72                    sta L0072              ; 85 72
0048A6  2  4C 0A 4E                 jmp L4C84              ; 4C 84 4C
0048A9  2               
0048A9  2  60           L4723:      rts                    ; 60
0048AA  2               
0048AA  2  A5 5A        L4724:      lda L005A              ; A5 5A
0048AC  2  C9 C0                    cmp #$C0               ; C9 C0
0048AE  2  B0 DD                    bcs L4707              ; B0 DD
0048B0  2  A5 53                    lda L0053              ; Galaxy data
0048B2  2  C5 59                    cmp L0059              ; C5 59
0048B4  2  A5 54                    lda L0054              ; A5 54
0048B6  2  E5 5A                    sbc L005A              ; E5 5A
0048B8  2  B0 D3                    bcs L4707              ; B0 D3
0048BA  2  A5 56                    lda L0056              ; A5 56
0048BC  2  C5 59                    cmp L0059              ; C5 59
0048BE  2  A5 57                    lda L0057              ; A5 57
0048C0  2  E5 5A                    sbc L005A              ; E5 5A
0048C2  2  B0 C9                    bcs L4707              ; B0 C9
0048C4  2  A0 06                    ldy #$06               ; A0 06
0048C6  2  B1 1E                    lda (L001E),Y          ; B1 1E
0048C8  2  AA                       tax                    ; AA
0048C9  2  A9 FF                    lda #$FF               ; A9 FF
0048CB  2  9D 00 01                 sta L0100,X            ; 9D 00 01
0048CE  2  9D 01 01                 sta L0101,X            ; 9D 01 01
0048D1  2  A5 59                    lda L0059              ; A5 59
0048D3  2  85 D1                    sta L00D1              ; 85 D1
0048D5  2  A5 5A                    lda L005A              ; A5 5A
0048D7  2  4A                       lsr A                  ; 4A
0048D8  2  66 D1                    ror L00D1              ; 66 D1
0048DA  2  4A                       lsr A                  ; 4A
0048DB  2  66 D1                    ror L00D1              ; 66 D1
0048DD  2  4A                       lsr A                  ; 4A
0048DE  2  66 D1                    ror L00D1              ; 66 D1
0048E0  2  4A                       lsr A                  ; 4A
0048E1  2  D0 0A                    bne L4767              ; D0 0A
0048E3  2  A5 D1                    lda L00D1              ; A5 D1
0048E5  2  6A                       ror A                  ; 6A
0048E6  2  4A                       lsr A                  ; 4A
0048E7  2  4A                       lsr A                  ; 4A
0048E8  2  4A                       lsr A                  ; 4A
0048E9  2  85 B7                    sta L00B7              ; 85 B7
0048EB  2  10 11                    bpl L4778              ; 10 11
0048ED  2  A0 0D        L4767:      ldy #$0D               ; A0 0D
0048EF  2  B1 1E                    lda (L001E),Y          ; B1 1E
0048F1  2  C5 5A                    cmp L005A              ; C5 5A
0048F3  2  B0 09                    bcs L4778              ; B0 09
0048F5  2  A9 20                    lda #$20               ; A9 20
0048F7  2  25 72                    and L0072              ; 25 72
0048F9  2  D0 03                    bne L4778              ; D0 03
0048FB  2  4C 34 47                 jmp L45AE              ; 4C AE 45
0048FE  2  A2 05        L4778:      ldx #$05               ; A2 05
004900  2  B5 68        L477A:      lda L0068,X            ; B5 68
004902  2  95 09                    sta L0009,X            ; 95 09
004904  2  B5 62                    lda L0062,X            ; B5 62
004906  2  95 0F                    sta L000F,X            ; 95 0F
004908  2  B5 5C                    lda L005C,X            ; B5 5C
00490A  2  95 15                    sta L0015,X            ; 95 15
00490C  2  CA                       dex                    ; CA
00490D  2  10 F1                    bpl L477A              ; 10 F1
00490F  2  A9 C5                    lda #$C5               ; A9 C5
004911  2  85 A0                    sta L00A0              ; 85 A0
004913  2  A0 10                    ldy #$10               ; A0 10
004915  2  B9 09 00     L478F:      lda L0009,Y            ; B9 09 00
004918  2  0A                       asl A                  ; 0A
004919  2  B9 0A 00                 lda L000A,Y            ; B9 0A 00
00491C  2  2A                       rol A                  ; 2A
00491D  2  20 B1 47                 jsr L462B              ; 20 2B 46
004920  2  A6 A1                    ldx L00A1              ; A6 A1
004922  2  96 09                    stx L0009,Y            ; 96 09
004924  2  88                       dey                    ; 88
004925  2  88                       dey                    ; 88
004926  2  10 ED                    bpl L478F              ; 10 ED
004928  2  A2 08                    ldx #$08               ; A2 08
00492A  2  B5 53        L47A4:      lda L0053,X            ; Galaxy data
00492C  2  95 7E                    sta L007E,X            ; 95 7E
00492E  2  CA                       dex                    ; CA
00492F  2  10 F9                    bpl L47A4              ; 10 F9
004931  2  A9 FF                    lda #$FF               ; A9 FF
004933  2  85 E1                    sta L00E1              ; 85 E1
004935  2  A0 0C                    ldy #$0C               ; A0 0C
004937  2  A5 72                    lda L0072              ; A5 72
004939  2  29 20                    and #$20               ; 29 20
00493B  2  F0 12                    beq L47C9              ; F0 12
00493D  2  B1 1E                    lda (L001E),Y          ; B1 1E
00493F  2  4A                       lsr A                  ; 4A
004940  2  4A                       lsr A                  ; 4A
004941  2  AA                       tax                    ; AA
004942  2  A9 FF                    lda #$FF               ; A9 FF
004944  2  95 D2        L47BE:      sta L00D2,X            ; 95 D2
004946  2  CA                       dex                    ; CA
004947  2  10 FB                    bpl L47BE              ; 10 FB
004949  2  E8                       inx                    ; E8
00494A  2  86 B7                    stx L00B7              ; 86 B7
00494C  2  4C C2 4A     L47C6:      jmp L493C              ; 4C 3C 49
00494F  2  B1 1E        L47C9:      lda (L001E),Y          ; B1 1E
004951  2  F0 F9                    beq L47C6              ; F0 F9
004953  2  85 B8                    sta L00B8              ; 85 B8
004955  2  A0 12                    ldy #$12               ; A0 12
004957  2  B1 1E                    lda (L001E),Y          ; B1 1E
004959  2  AA                       tax                    ; AA
00495A  2  A5 85                    lda L0085              ; A5 85
00495C  2  A8                       tay                    ; A8
00495D  2  F0 0F                    beq L47E8              ; F0 0F
00495F  2  E8           L47D9:      inx                    ; E8
004960  2  46 82                    lsr L0082              ; 46 82
004962  2  66 81                    ror L0081              ; 66 81
004964  2  46 7F                    lsr L007F              ; 46 7F
004966  2  66 7E                    ror L007E              ; 66 7E
004968  2  4A                       lsr A                  ; 4A
004969  2  66 84                    ror L0084              ; 66 84
00496B  2  A8                       tay                    ; A8
00496C  2  D0 F1                    bne L47D9              ; D0 F1
00496E  2  86 A5        L47E8:      stx L00A5              ; 86 A5
004970  2  A5 86                    lda L0086              ; A5 86
004972  2  85 36                    sta L0036              ; 85 36
004974  2  A5 7E                    lda L007E              ; VDU stat
004976  2  85 31                    sta L0031              ; Set x1
004978  2  A5 80                    lda L0080              ; A5 80
00497A  2  85 32                    sta L0032              ; Set y1
00497C  2  A5 81                    lda L0081              ; A5 81
00497E  2  85 33                    sta L0033              ; 85 33
004980  2  A5 83                    lda L0083              ; A5 83
004982  2  85 34                    sta L0034              ; 85 34
004984  2  A5 84                    lda L0084              ; A5 84
004986  2  85 35                    sta L0035              ; 85 35
004988  2  20 F4 47                 jsr L466E              ; 20 6E 46
00498B  2  A5 37                    lda L0037              ; A5 37
00498D  2  85 7E                    sta L007E              ; VDU stat
00498F  2  A5 38                    lda L0038              ; A5 38
004991  2  85 80                    sta L0080              ; 85 80
004993  2  A5 39                    lda L0039              ; A5 39
004995  2  85 81                    sta L0081              ; 85 81
004997  2  A5 3A                    lda L003A              ; A5 3A
004999  2  85 83                    sta L0083              ; 85 83
00499B  2  A5 3B                    lda L003B              ; A5 3B
00499D  2  85 84                    sta L0084              ; 85 84
00499F  2  A5 3C                    lda L003C              ; A5 3C
0049A1  2  85 86                    sta L0086              ; 85 86
0049A3  2  A0 04                    ldy #$04               ; A0 04
0049A5  2  B1 1E                    lda (L001E),Y          ; B1 1E
0049A7  2  18                       clc                    ; 18
0049A8  2  65 1E                    adc L001E              ; 65 1E
0049AA  2  85 22                    sta L0022              ; 85 22
0049AC  2  A0 11                    ldy #$11               ; A0 11
0049AE  2  B1 1E                    lda (L001E),Y          ; B1 1E
0049B0  2  65 1F                    adc L001F              ; 65 1F
0049B2  2  85 23                    sta L0023              ; 85 23
0049B4  2  A0 00                    ldy #$00               ; A0 00
0049B6  2  B1 22        L4830:      lda (L0022),Y          ; B1 22
0049B8  2  85 38                    sta L0038              ; 85 38
0049BA  2  29 1F                    and #$1F               ; 29 1F
0049BC  2  C5 B7                    cmp L00B7              ; C5 B7
0049BE  2  B0 0F                    bcs L4849              ; B0 0F
0049C0  2  98                       tya                    ; 98
0049C1  2  4A                       lsr A                  ; 4A
0049C2  2  4A                       lsr A                  ; 4A
0049C3  2  AA                       tax                    ; AA
0049C4  2  A9 FF                    lda #$FF               ; A9 FF
0049C6  2  95 D2                    sta L00D2,X            ; 95 D2
0049C8  2  98                       tya                    ; 98
0049C9  2  69 04                    adc #$04               ; 69 04
0049CB  2  A8                       tay                    ; A8
0049CC  2  4C BB 4A                 jmp L4935              ; 4C 35 49
0049CF  2  A5 38        L4849:      lda L0038              ; A5 38
0049D1  2  0A                       asl A                  ; 0A
0049D2  2  85 3A                    sta L003A              ; 85 3A
0049D4  2  0A                       asl A                  ; 0A
0049D5  2  85 3C                    sta L003C              ; 85 3C
0049D7  2  C8                       iny                    ; C8
0049D8  2  B1 22                    lda (L0022),Y          ; B1 22
0049DA  2  85 37                    sta L0037              ; 85 37
0049DC  2  C8                       iny                    ; C8
0049DD  2  B1 22                    lda (L0022),Y          ; B1 22
0049DF  2  85 39                    sta L0039              ; 85 39
0049E1  2  C8                       iny                    ; C8
0049E2  2  B1 22                    lda (L0022),Y          ; B1 22
0049E4  2  85 3B                    sta L003B              ; 85 3B
0049E6  2  A6 A5                    ldx L00A5              ; A6 A5
0049E8  2  E0 04                    cpx #$04               ; E0 04
0049EA  2  90 23                    bcc L4889              ; 90 23
0049EC  2  A5 7E                    lda L007E              ; VDU stat
0049EE  2  85 31                    sta L0031              ; Set x1
0049F0  2  A5 80                    lda L0080              ; A5 80
0049F2  2  85 32                    sta L0032              ; Set y1
0049F4  2  A5 81                    lda L0081              ; A5 81
0049F6  2  85 33                    sta L0033              ; 85 33
0049F8  2  A5 83                    lda L0083              ; A5 83
0049FA  2  85 34                    sta L0034              ; 85 34
0049FC  2  A5 84                    lda L0084              ; A5 84
0049FE  2  85 35                    sta L0035              ; 85 35
004A00  2  A5 86                    lda L0086              ; A5 86
004A02  2  85 36                    sta L0036              ; 85 36
004A04  2  4C 6D 4A                 jmp L48E7              ; 4C E7 48
004A07  2  46 7E        L4881:      lsr L007E              ; 46 7E
004A09  2  46 84                    lsr L0084              ; 46 84
004A0B  2  46 81                    lsr L0081              ; 46 81
004A0D  2  A2 01                    ldx #$01               ; A2 01
004A0F  2  A5 37        L4889:      lda L0037              ; A5 37
004A11  2  85 31                    sta L0031              ; Set x1
004A13  2  A5 39                    lda L0039              ; A5 39
004A15  2  85 33                    sta L0033              ; 85 33
004A17  2  A5 3B                    lda L003B              ; A5 3B
004A19  2  CA                       dex                    ; CA
004A1A  2  30 08                    bmi L489E              ; 30 08
004A1C  2  46 31        L4896:      lsr L0031              ; Shift x1
004A1E  2  46 33                    lsr L0033              ; 46 33
004A20  2  4A                       lsr A                  ; 4A
004A21  2  CA                       dex                    ; CA
004A22  2  10 F8                    bpl L4896              ; 10 F8
004A24  2  85 A1        L489E:      sta L00A1              ; 85 A1
004A26  2  A5 3C                    lda L003C              ; A5 3C
004A28  2  85 A2                    sta L00A2              ; 85 A2
004A2A  2  A5 84                    lda L0084              ; A5 84
004A2C  2  85 A0                    sta L00A0              ; 85 A0
004A2E  2  A5 86                    lda L0086              ; A5 86
004A30  2  20 D4 47                 jsr L464E              ; 20 4E 46
004A33  2  B0 D2                    bcs L4881              ; B0 D2
004A35  2  85 35                    sta L0035              ; 85 35
004A37  2  A5 A2                    lda L00A2              ; A5 A2
004A39  2  85 36                    sta L0036              ; 85 36
004A3B  2  A5 31                    lda L0031              ; Get x1
004A3D  2  85 A1                    sta L00A1              ; 85 A1
004A3F  2  A5 38                    lda L0038              ; A5 38
004A41  2  85 A2                    sta L00A2              ; 85 A2
004A43  2  A5 7E                    lda L007E              ; VDU stat
004A45  2  85 A0                    sta L00A0              ; 85 A0
004A47  2  A5 80                    lda L0080              ; A5 80
004A49  2  20 D4 47                 jsr L464E              ; 20 4E 46
004A4C  2  B0 B9                    bcs L4881              ; B0 B9
004A4E  2  85 31                    sta L0031              ; Set x1
004A50  2  A5 A2                    lda L00A2              ; A5 A2
004A52  2  85 32                    sta L0032              ; Set y1
004A54  2  A5 33                    lda L0033              ; A5 33
004A56  2  85 A1                    sta L00A1              ; 85 A1
004A58  2  A5 3A                    lda L003A              ; A5 3A
004A5A  2  85 A2                    sta L00A2              ; 85 A2
004A5C  2  A5 81                    lda L0081              ; A5 81
004A5E  2  85 A0                    sta L00A0              ; 85 A0
004A60  2  A5 83                    lda L0083              ; A5 83
004A62  2  20 D4 47                 jsr L464E              ; 20 4E 46
004A65  2  B0 A0                    bcs L4881              ; B0 A0
004A67  2  85 33                    sta L0033              ; 85 33
004A69  2  A5 A2                    lda L00A2              ; A5 A2
004A6B  2  85 34                    sta L0034              ; 85 34
004A6D  2  A5 37        L48E7:      lda L0037              ; A5 37
004A6F  2  85 A0                    sta L00A0              ; 85 A0
004A71  2  A5 31                    lda L0031              ; Get x1
004A73  2  20 57 24                 jsr L242A              ; 20 2A 24
004A76  2  85 D1                    sta L00D1              ; 85 D1
004A78  2  A5 38                    lda L0038              ; A5 38
004A7A  2  45 32                    eor L0032              ; 45 32
004A7C  2  85 A2                    sta L00A2              ; 85 A2
004A7E  2  A5 39                    lda L0039              ; A5 39
004A80  2  85 A0                    sta L00A0              ; 85 A0
004A82  2  A5 33                    lda L0033              ; A5 33
004A84  2  20 57 24                 jsr L242A              ; 20 2A 24
004A87  2  85 A0                    sta L00A0              ; 85 A0
004A89  2  A5 D1                    lda L00D1              ; A5 D1
004A8B  2  85 A1                    sta L00A1              ; 85 A1
004A8D  2  A5 3A                    lda L003A              ; A5 3A
004A8F  2  45 34                    eor L0034              ; 45 34
004A91  2  20 D4 47                 jsr L464E              ; 20 4E 46
004A94  2  85 D1                    sta L00D1              ; 85 D1
004A96  2  A5 3B                    lda L003B              ; A5 3B
004A98  2  85 A0                    sta L00A0              ; 85 A0
004A9A  2  A5 35                    lda L0035              ; A5 35
004A9C  2  20 57 24                 jsr L242A              ; 20 2A 24
004A9F  2  85 A0                    sta L00A0              ; 85 A0
004AA1  2  A5 D1                    lda L00D1              ; A5 D1
004AA3  2  85 A1                    sta L00A1              ; 85 A1
004AA5  2  A5 36                    lda L0036              ; A5 36
004AA7  2  45 3C                    eor L003C              ; 45 3C
004AA9  2  20 D4 47                 jsr L464E              ; 20 4E 46
004AAC  2  48                       pha                    ; 48
004AAD  2  98                       tya                    ; 98
004AAE  2  4A                       lsr A                  ; 4A
004AAF  2  4A                       lsr A                  ; 4A
004AB0  2  AA                       tax                    ; AA
004AB1  2  68                       pla                    ; 68
004AB2  2  24 A2                    bit L00A2              ; 24 A2
004AB4  2  30 02                    bmi L4932              ; 30 02
004AB6  2  A9 00                    lda #$00               ; A9 00
004AB8  2  95 D2        L4932:      sta L00D2,X            ; 95 D2
004ABA  2  C8                       iny                    ; C8
004ABB  2  C4 B8        L4935:      cpy L00B8              ; C4 B8
004ABD  2  B0 03                    bcs L493C              ; B0 03
004ABF  2  4C B6 49                 jmp L4830              ; 4C 30 48
004AC2  2  A4 0B        L493C:      ldy L000B              ; A4 0B
004AC4  2  A6 0C                    ldx L000C              ; A6 0C
004AC6  2  A5 0F                    lda L000F              ; A5 0F
004AC8  2  85 0B                    sta L000B              ; 85 0B
004ACA  2  A5 10                    lda L0010              ; A5 10
004ACC  2  85 0C                    sta L000C              ; 85 0C
004ACE  2  84 0F                    sty L000F              ; 84 0F
004AD0  2  86 10                    stx L0010              ; 86 10
004AD2  2  A4 0D                    ldy L000D              ; A4 0D
004AD4  2  A6 0E                    ldx L000E              ; A6 0E
004AD6  2  A5 15                    lda L0015              ; A5 15
004AD8  2  85 0D                    sta L000D              ; 85 0D
004ADA  2  A5 16                    lda L0016              ; A5 16
004ADC  2  85 0E                    sta L000E              ; 85 0E
004ADE  2  84 15                    sty L0015              ; 84 15
004AE0  2  86 16                    stx L0016              ; 86 16
004AE2  2  A4 13                    ldy L0013              ; A4 13
004AE4  2  A6 14                    ldx L0014              ; A6 14
004AE6  2  A5 17                    lda L0017              ; A5 17
004AE8  2  85 13                    sta L0013              ; 85 13
004AEA  2  A5 18                    lda L0018              ; A5 18
004AEC  2  85 14                    sta L0014              ; 85 14
004AEE  2  84 17                    sty L0017              ; 84 17
004AF0  2  86 18                    stx L0018              ; 86 18
004AF2  2  A0 08                    ldy #$08               ; A0 08
004AF4  2  B1 1E                    lda (L001E),Y          ; B1 1E
004AF6  2  85 B8                    sta L00B8              ; 85 B8
004AF8  2  A5 1E                    lda L001E              ; A5 1E
004AFA  2  18                       clc                    ; 18
004AFB  2  69 14                    adc #$14               ; 69 14
004AFD  2  85 22                    sta L0022              ; 85 22
004AFF  2  A5 1F                    lda L001F              ; A5 1F
004B01  2  69 00                    adc #$00               ; 69 00
004B03  2  85 23                    sta L0023              ; 85 23
004B05  2  A0 00                    ldy #$00               ; A0 00
004B07  2  84 B4                    sty L00B4              ; 84 B4
004B09  2  84 A5        L4983:      sty L00A5              ; 84 A5
004B0B  2  B1 22                    lda (L0022),Y          ; B1 22
004B0D  2  85 31                    sta L0031              ; Set x1
004B0F  2  C8                       iny                    ; C8
004B10  2  B1 22                    lda (L0022),Y          ; B1 22
004B12  2  85 33                    sta L0033              ; 85 33
004B14  2  C8                       iny                    ; C8
004B15  2  B1 22                    lda (L0022),Y          ; B1 22
004B17  2  85 35                    sta L0035              ; 85 35
004B19  2  C8                       iny                    ; C8
004B1A  2  B1 22                    lda (L0022),Y          ; B1 22
004B1C  2  85 D1                    sta L00D1              ; 85 D1
004B1E  2  29 1F                    and #$1F               ; 29 1F
004B20  2  C5 B7                    cmp L00B7              ; C5 B7
004B22  2  90 2E                    bcc L49CC              ; 90 2E
004B24  2  C8                       iny                    ; C8
004B25  2  B1 22                    lda (L0022),Y          ; B1 22
004B27  2  85 1B                    sta L001B              ; 85 1B
004B29  2  29 0F                    and #$0F               ; 29 0F
004B2B  2  AA                       tax                    ; AA
004B2C  2  B5 D2                    lda L00D2,X            ; B5 D2
004B2E  2  D0 25                    bne L49CF              ; D0 25
004B30  2  A5 1B                    lda L001B              ; A5 1B
004B32  2  4A                       lsr A                  ; 4A
004B33  2  4A                       lsr A                  ; 4A
004B34  2  4A                       lsr A                  ; 4A
004B35  2  4A                       lsr A                  ; 4A
004B36  2  AA                       tax                    ; AA
004B37  2  B5 D2                    lda L00D2,X            ; B5 D2
004B39  2  D0 1A                    bne L49CF              ; D0 1A
004B3B  2  C8                       iny                    ; C8
004B3C  2  B1 22                    lda (L0022),Y          ; B1 22
004B3E  2  85 1B                    sta L001B              ; 85 1B
004B40  2  29 0F                    and #$0F               ; 29 0F
004B42  2  AA                       tax                    ; AA
004B43  2  B5 D2                    lda L00D2,X            ; B5 D2
004B45  2  D0 0E                    bne L49CF              ; D0 0E
004B47  2  A5 1B                    lda L001B              ; A5 1B
004B49  2  4A                       lsr A                  ; 4A
004B4A  2  4A                       lsr A                  ; 4A
004B4B  2  4A                       lsr A                  ; 4A
004B4C  2  4A                       lsr A                  ; 4A
004B4D  2  AA                       tax                    ; AA
004B4E  2  B5 D2                    lda L00D2,X            ; B5 D2
004B50  2  D0 03                    bne L49CF              ; D0 03
004B52  2  4C CA 4C     L49CC:      jmp L4B44              ; 4C 44 4B
004B55  2  A5 D1        L49CF:      lda L00D1              ; A5 D1
004B57  2  85 32                    sta L0032              ; Set y1
004B59  2  0A                       asl A                  ; 0A
004B5A  2  85 34                    sta L0034              ; 85 34
004B5C  2  0A                       asl A                  ; 0A
004B5D  2  85 36                    sta L0036              ; 85 36
004B5F  2  20 F4 47                 jsr L466E              ; 20 6E 46
004B62  2  A5 55                    lda L0055              ; A5 55
004B64  2  85 33                    sta L0033              ; 85 33
004B66  2  45 38                    eor L0038              ; 45 38
004B68  2  30 10                    bmi L49F4              ; 30 10
004B6A  2  18                       clc                    ; 18
004B6B  2  A5 37                    lda L0037              ; A5 37
004B6D  2  65 53                    adc L0053              ; Galaxy data
004B6F  2  85 31                    sta L0031              ; Set x1
004B71  2  A5 54                    lda L0054              ; A5 54
004B73  2  69 00                    adc #$00               ; 69 00
004B75  2  85 32                    sta L0032              ; Set y1
004B77  2  4C 9D 4B                 jmp L4A17              ; 4C 17 4A
004B7A  2               
004B7A  2  A5 53        L49F4:      lda L0053              ; Galaxy data
004B7C  2  38                       sec                    ; 38
004B7D  2  E5 37                    sbc L0037              ; E5 37
004B7F  2  85 31                    sta L0031              ; Set x1
004B81  2               
004B81  2  A5 54                    lda L0054              ; A5 54
004B83  2  E9 00                    sbc #$00               ; E9 00
004B85  2  85 32                    sta L0032              ; Set y1
004B87  2  B0 14                    bcs L4A17              ; B0 14
004B89  2  49 FF                    eor #$FF               ; 49 FF
004B8B  2  85 32                    sta L0032              ; Set y1
004B8D  2               
004B8D  2  A9 01                    lda #$01               ; A9 01
004B8F  2  E5 31                    sbc L0031              ; Substract x1
004B91  2  85 31                    sta L0031              ; Set x1
004B93  2  90 02                    bcc L4A11              ; 90 02
004B95  2  E6 32                    inc L0032              ; E6 32
004B97  2               
004B97  2  A5 33        L4A11:      lda L0033              ; A5 33
004B99  2  49 80                    eor #$80               ; 49 80
004B9B  2  85 33                    sta L0033              ; 85 33
004B9D  2               
004B9D  2  A5 58        L4A17:      lda L0058              ; A5 58
004B9F  2  85 36                    sta L0036              ; 85 36
004BA1  2  45 3A                    eor L003A              ; 45 3A
004BA3  2  30 10                    bmi L4A2F              ; 30 10
004BA5  2  18                       clc                    ; 18
004BA6  2  A5 39                    lda L0039              ; A5 39
004BA8  2  65 56                    adc L0056              ; 65 56
004BAA  2  85 34                    sta L0034              ; 85 34
004BAC  2               
004BAC  2  A5 57                    lda L0057              ; A5 57
004BAE  2  69 00                    adc #$00               ; 69 00
004BB0  2  85 35                    sta L0035              ; 85 35
004BB2  2  4C DA 4B                 jmp L4A54              ; 4C 54 4A
004BB5  2  A5 56        L4A2F:      lda L0056              ; A5 56
004BB7  2  38                       sec                    ; 38
004BB8  2  E5 39                    sbc L0039              ; E5 39
004BBA  2  85 34                    sta L0034              ; 85 34
004BBC  2  A5 57                    lda L0057              ; A5 57
004BBE  2  E9 00                    sbc #$00               ; E9 00
004BC0  2  85 35                    sta L0035              ; 85 35
004BC2  2  B0 16                    bcs L4A54              ; B0 16
004BC4  2  49 FF                    eor #$FF               ; 49 FF
004BC6  2  85 35                    sta L0035              ; 85 35
004BC8  2  A5 34                    lda L0034              ; A5 34
004BCA  2  49 FF                    eor #$FF               ; 49 FF
004BCC  2  69 01                    adc #$01               ; 69 01
004BCE  2  85 34                    sta L0034              ; 85 34
004BD0  2  A5 36                    lda L0036              ; A5 36
004BD2  2  49 80                    eor #$80               ; 49 80
004BD4  2  85 36                    sta L0036              ; 85 36
004BD6  2  90 02                    bcc L4A54              ; 90 02
004BD8  2  E6 35                    inc L0035              ; E6 35
004BDA  2  A5 3C        L4A54:      lda L003C              ; A5 3C
004BDC  2  30 4A                    bmi L4AA2              ; 30 4A
004BDE  2  A5 3B                    lda L003B              ; A5 3B
004BE0  2  18                       clc                    ; 18
004BE1  2  65 59                    adc L0059              ; 65 59
004BE3  2  85 D1                    sta L00D1              ; 85 D1
004BE5  2  A5 5A                    lda L005A              ; A5 5A
004BE7  2  69 00                    adc #$00               ; 69 00
004BE9  2  85 8F                    sta L008F              ; 85 8F
004BEB  2  4C 47 4C                 jmp L4AC1              ; 4C C1 4A
004BEE  2  A6 A0        L4A68:      ldx L00A0              ; A6 A0
004BF0  2  F0 1C                    beq L4A88              ; F0 1C
004BF2  2  A2 00                    ldx #$00               ; A2 00
004BF4  2  4A           L4A6E:      lsr A                  ; 4A
004BF5  2  E8                       inx                    ; E8
004BF6  2  C5 A0                    cmp L00A0              ; C5 A0
004BF8  2  B0 FA                    bcs L4A6E              ; B0 FA
004BFA  2  86 A2                    stx L00A2              ; 86 A2
004BFC  2  20 B1 47                 jsr L462B              ; 20 2B 46
004BFF  2  A6 A2                    ldx L00A2              ; A6 A2
004C01  2  A5 A1                    lda L00A1              ; A5 A1
004C03  2  0A           L4A7D:      asl A                  ; 0A
004C04  2  26 8F                    rol L008F              ; 26 8F
004C06  2  30 06                    bmi L4A88              ; 30 06
004C08  2  CA                       dex                    ; CA
004C09  2  D0 F8                    bne L4A7D              ; D0 F8
004C0B  2  85 A1                    sta L00A1              ; 85 A1
004C0D  2  60                       rts                    ; 60
004C0E  2               
004C0E  2  A9 32        L4A88:      lda #$32               ; A9 32
004C10  2  85 A1                    sta L00A1              ; 85 A1
004C12  2  85 8F                    sta L008F              ; 85 8F
004C14  2  60                       rts                    ; 60
004C15  2               
004C15  2  A9 80        L4A8F:      lda #$80               ; A9 80
004C17  2  38                       sec                    ; 38
004C18  2  E5 A1                    sbc L00A1              ; E5 A1
004C1A  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004C1D  2  E8                       inx                    ; E8
004C1E  2  A9 00                    lda #$00               ; A9 00
004C20  2  E5 8F                    sbc L008F              ; E5 8F
004C22  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004C25  2  4C 87 4C                 jmp L4B01              ; 4C 01 4B
004C28  2               
004C28  2  A5 59        L4AA2:      lda L0059              ; A5 59
004C2A  2  38                       sec                    ; 38
004C2B  2  E5 3B                    sbc L003B              ; E5 3B
004C2D  2  85 D1                    sta L00D1              ; 85 D1
004C2F  2  A5 5A                    lda L005A              ; A5 5A
004C31  2  E9 00                    sbc #$00               ; E9 00
004C33  2  85 8F                    sta L008F              ; 85 8F
004C35  2  90 08                    bcc L4AB9              ; 90 08
004C37  2  D0 0E                    bne L4AC1              ; D0 0E
004C39  2  A5 D1                    lda L00D1              ; A5 D1
004C3B  2  C9 04                    cmp #$04               ; C9 04
004C3D  2  B0 08                    bcs L4AC1              ; B0 08
004C3F  2  A9 00        L4AB9:      lda #$00               ; A9 00
004C41  2  85 8F                    sta L008F              ; 85 8F
004C43  2  A9 04                    lda #$04               ; A9 04
004C45  2  85 D1                    sta L00D1              ; 85 D1
004C47  2  A5 8F        L4AC1:      lda L008F              ; A5 8F
004C49  2  05 32                    ora L0032              ; 05 32
004C4B  2  05 35                    ora L0035              ; 05 35
004C4D  2  F0 0F                    beq L4AD8              ; F0 0F
004C4F  2  46 32                    lsr L0032              ; 46 32
004C51  2  66 31                    ror L0031              ; Rotate x1
004C53  2  46 35                    lsr L0035              ; 46 35
004C55  2  66 34                    ror L0034              ; 66 34
004C57  2  46 8F                    lsr L008F              ; 46 8F
004C59  2  66 D1                    ror L00D1              ; 66 D1
004C5B  2  4C 47 4C                 jmp L4AC1              ; 4C C1 4A
004C5E  2  A5 D1        L4AD8:      lda L00D1              ; A5 D1
004C60  2  85 A0                    sta L00A0              ; 85 A0
004C62  2  A5 31                    lda L0031              ; Get x1
004C64  2  C5 A0                    cmp L00A0              ; C5 A0
004C66  2  90 06                    bcc L4AE8              ; 90 06
004C68  2  20 EE 4B                 jsr L4A68              ; 20 68 4A
004C6B  2  4C 71 4C                 jmp L4AEB              ; 4C EB 4A
004C6E  2  20 B1 47     L4AE8:      jsr L462B              ; 20 2B 46
004C71  2  A6 B4        L4AEB:      ldx L00B4              ; A6 B4
004C73  2  A5 33                    lda L0033              ; A5 33
004C75  2  30 9E                    bmi L4A8F              ; 30 9E
004C77  2  A5 A1                    lda L00A1              ; A5 A1
004C79  2  18                       clc                    ; 18
004C7A  2  69 80                    adc #$80               ; 69 80
004C7C  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004C7F  2  E8                       inx                    ; E8
004C80  2  A5 8F                    lda L008F              ; A5 8F
004C82  2  69 00                    adc #$00               ; 69 00
004C84  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004C87  2  8A           L4B01:      txa                    ; 8A
004C88  2  48                       pha                    ; 48
004C89  2  A9 00                    lda #$00               ; A9 00
004C8B  2  85 8F                    sta L008F              ; 85 8F
004C8D  2  A5 D1                    lda L00D1              ; A5 D1
004C8F  2  85 A0                    sta L00A0              ; 85 A0
004C91  2  A5 34                    lda L0034              ; A5 34
004C93  2  C5 A0                    cmp L00A0              ; C5 A0
004C95  2  90 19                    bcc L4B2A              ; 90 19
004C97  2  20 EE 4B                 jsr L4A68              ; 20 68 4A
004C9A  2  4C B3 4C                 jmp L4B2D              ; 4C 2D 4B
004C9D  2               L4B17:
004C9D  2               ;            lda #$60               ; A9 60
004C9D  2  A9 43        	lda #$43		; Init pos new ship
004C9F  2               
004C9F  2  18                       clc                    ; 18
004CA0  2  65 A1                    adc L00A1              ; 65 A1
004CA2  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004CA5  2  E8                       inx                    ; E8
004CA6  2  A9 00                    lda #$00               ; A9 00
004CA8  2  65 8F                    adc L008F              ; 65 8F
004CAA  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004CAD  2  4C CA 4C                 jmp L4B44              ; 4C 44 4B
004CB0  2  20 B1 47     L4B2A:      jsr L462B              ; 20 2B 46
004CB3  2  68           L4B2D:      pla                    ; 68
004CB4  2  AA                       tax                    ; AA
004CB5  2  E8                       inx                    ; E8
004CB6  2  A5 36                    lda L0036              ; A5 36
004CB8  2  30 E3                    bmi L4B17              ; 30 E3
004CBA  2               
004CBA  2               ;            lda #$60               ; A9 60
004CBA  2  A9 43        	lda #$43		; Init pos new ship
004CBC  2               
004CBC  2  38                       sec                    ; 38
004CBD  2  E5 A1                    sbc L00A1              ; E5 A1
004CBF  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004CC2  2  E8                       inx                    ; E8
004CC3  2  A9 00                    lda #$00               ; A9 00
004CC5  2  E5 8F                    sbc L008F              ; E5 8F
004CC7  2  9D 00 01                 sta L0100,X            ; 9D 00 01
004CCA  2  18           L4B44:      clc                    ; 18
004CCB  2  A5 B4                    lda L00B4              ; A5 B4
004CCD  2  69 04                    adc #$04               ; 69 04
004CCF  2  85 B4                    sta L00B4              ; 85 B4
004CD1  2  A5 A5                    lda L00A5              ; A5 A5
004CD3  2  69 06                    adc #$06               ; 69 06
004CD5  2  A8                       tay                    ; A8
004CD6  2  B0 07                    bcs L4B59              ; B0 07
004CD8  2  C5 B8                    cmp L00B8              ; C5 B8
004CDA  2  B0 03                    bcs L4B59              ; B0 03
004CDC  2  4C 09 4B                 jmp L4983              ; 4C 83 49
004CDF  2  A5 72        L4B59:      lda L0072              ; A5 72
004CE1  2  29 20                    and #$20               ; 29 20
004CE3  2  F0 09                    beq L4B68              ; F0 09
004CE5  2  A5 72                    lda L0072              ; A5 72
004CE7  2  09 08                    ora #$08               ; 09 08
004CE9  2  85 72                    sta L0072              ; 85 72
004CEB  2  4C C7 36                 jmp L35A1              ; 4C A1 35
004CEE  2  A9 08        L4B68:      lda #$08               ; A9 08
004CF0  2  24 72                    bit L0072              ; 24 72
004CF2  2  F0 05                    beq L4B73              ; F0 05
004CF4  2  20 0A 4E                 jsr L4C84              ; 20 84 4C
004CF7  2  A9 08                    lda #$08               ; A9 08
004CF9  2  05 72        L4B73:      ora L0072              ; 05 72
004CFB  2  85 72                    sta L0072              ; 85 72
004CFD  2  A0 09                    ldy #$09               ; A0 09
004CFF  2  B1 1E                    lda (L001E),Y          ; B1 1E
004D01  2  85 B8                    sta L00B8              ; 85 B8
004D03  2  A0 00                    ldy #$00               ; A0 00
004D05  2  84 8F                    sty L008F              ; 84 8F
004D07  2  84 A5                    sty L00A5              ; 84 A5
004D09  2  E6 8F                    inc L008F              ; E6 8F
004D0B  2  24 72                    bit L0072              ; 24 72
004D0D  2  50 54                    bvc L4BDD              ; 50 54
004D0F  2  A5 72                    lda L0072              ; A5 72
004D11  2  29 BF                    and #$BF               ; 29 BF
004D13  2  85 72                    sta L0072              ; 85 72
004D15  2  A0 06                    ldy #$06               ; A0 06
004D17  2  B1 1E                    lda (L001E),Y          ; B1 1E
004D19  2  A8                       tay                    ; A8
004D1A  2  BE 00 01                 ldx L0100,Y            ; BE 00 01
004D1D  2  86 31                    stx L0031              ; Set x1
004D1F  2  E8                       inx                    ; E8
004D20  2  F0 41                    beq L4BDD              ; F0 41
004D22  2  BE 01 01                 ldx L0101,Y            ; BE 01 01
004D25  2  86 32                    stx L0032              ; Set y1
004D27  2  E8                       inx                    ; E8
004D28  2  F0 39                    beq L4BDD              ; F0 39
004D2A  2  BE 02 01                 ldx L0102,Y            ; BE 02 01
004D2D  2  86 33                    stx L0033              ; 86 33
004D2F  2  BE 03 01                 ldx L0103,Y            ; BE 03 01
004D32  2  86 34                    stx L0034              ; 86 34
004D34  2  A9 00                    lda #$00               ; A9 00
004D36  2  85 35                    sta L0035              ; 85 35
004D38  2  85 36                    sta L0036              ; 85 36
004D3A  2  85 38                    sta L0038              ; 85 38
004D3C  2  A5 59                    lda L0059              ; A5 59
004D3E  2  85 37                    sta L0037              ; 85 37
004D40  2  A5 55                    lda L0055              ; A5 55
004D42  2  10 02                    bpl L4BC0              ; 10 02
004D44  2  C6 35                    dec L0035              ; C6 35
004D46  2  20 32 4F     L4BC0:      jsr L4DAC              ; 20 AC 4D
004D49  2  B0 18                    bcs L4BDD              ; B0 18
004D4B  2  A4 8F                    ldy L008F              ; A4 8F
004D4D  2  A5 31                    lda L0031              ; Get x1
004D4F  2  91 74                    sta (L0074),Y          ; 91 74
004D51  2  C8                       iny                    ; C8
004D52  2  A5 32                    lda L0032              ; Get y1
004D54  2  91 74                    sta (L0074),Y          ; 91 74
004D56  2  C8                       iny                    ; C8
004D57  2  A5 33                    lda L0033              ; A5 33
004D59  2  91 74                    sta (L0074),Y          ; 91 74
004D5B  2  C8                       iny                    ; C8
004D5C  2  A5 34                    lda L0034              ; A5 34
004D5E  2  91 74                    sta (L0074),Y          ; 91 74
004D60  2  C8                       iny                    ; C8
004D61  2  84 8F                    sty L008F              ; 84 8F
004D63  2  A0 03        L4BDD:      ldy #$03               ; A0 03
004D65  2  18                       clc                    ; 18
004D66  2  B1 1E                    lda (L001E),Y          ; B1 1E
004D68  2  65 1E                    adc L001E              ; 65 1E
004D6A  2  85 22                    sta L0022              ; 85 22
004D6C  2  A0 10                    ldy #$10               ; A0 10
004D6E  2  B1 1E                    lda (L001E),Y          ; B1 1E
004D70  2  65 1F                    adc L001F              ; 65 1F
004D72  2  85 23                    sta L0023              ; 85 23
004D74  2  A0 05                    ldy #$05               ; A0 05
004D76  2  B1 1E                    lda (L001E),Y          ; B1 1E
004D78  2  85 06                    sta L0006              ; 85 06
004D7A  2  A4 A5                    ldy L00A5              ; A4 A5
004D7C  2  B1 22        L4BF6:      lda (L0022),Y          ; B1 22
004D7E  2  C5 B7                    cmp L00B7              ; C5 B7
004D80  2  90 6B                    bcc L4C67              ; 90 6B
004D82  2  C8                       iny                    ; C8
004D83  2  B1 22                    lda (L0022),Y          ; B1 22
004D85  2  C8                       iny                    ; C8
004D86  2  85 1B                    sta L001B              ; 85 1B
004D88  2  29 0F                    and #$0F               ; 29 0F
004D8A  2  AA                       tax                    ; AA
004D8B  2  B5 D2                    lda L00D2,X            ; B5 D2
004D8D  2  D0 0B                    bne L4C14              ; D0 0B
004D8F  2  A5 1B                    lda L001B              ; A5 1B
004D91  2  4A                       lsr A                  ; 4A
004D92  2  4A                       lsr A                  ; 4A
004D93  2  4A                       lsr A                  ; 4A
004D94  2  4A                       lsr A                  ; 4A
004D95  2  AA                       tax                    ; AA
004D96  2  B5 D2                    lda L00D2,X            ; B5 D2
004D98  2  F0 53                    beq L4C67              ; F0 53
004D9A  2  B1 22        L4C14:      lda (L0022),Y          ; B1 22
004D9C  2  AA                       tax                    ; AA
004D9D  2  C8                       iny                    ; C8
004D9E  2  B1 22                    lda (L0022),Y          ; B1 22
004DA0  2  85 A0                    sta L00A0              ; 85 A0
004DA2  2  BD 01 01                 lda L0101,X            ; BD 01 01
004DA5  2  85 32                    sta L0032              ; Set y1
004DA7  2  BD 00 01                 lda L0100,X            ; BD 00 01
004DAA  2  85 31                    sta L0031              ; Set x1
004DAC  2  BD 02 01                 lda L0102,X            ; BD 02 01
004DAF  2  85 33                    sta L0033              ; 85 33
004DB1  2  BD 03 01                 lda L0103,X            ; BD 03 01
004DB4  2  85 34                    sta L0034              ; 85 34
004DB6  2  A6 A0                    ldx L00A0              ; A6 A0
004DB8  2  BD 00 01                 lda L0100,X            ; BD 00 01
004DBB  2  85 35                    sta L0035              ; 85 35
004DBD  2  BD 03 01                 lda L0103,X            ; BD 03 01
004DC0  2  85 38                    sta L0038              ; 85 38
004DC2  2  BD 02 01                 lda L0102,X            ; BD 02 01
004DC5  2  85 37                    sta L0037              ; 85 37
004DC7  2  BD 01 01                 lda L0101,X            ; BD 01 01
004DCA  2  85 36                    sta L0036              ; 85 36
004DCC  2  20 38 4F                 jsr L4DB2              ; 20 B2 4D
004DCF  2  B0 1C                    bcs L4C67              ; B0 1C
004DD1  2  A4 8F                    ldy L008F              ; A4 8F
004DD3  2  A5 31                    lda L0031              ; Get x1
004DD5  2  91 74                    sta (L0074),Y          ; 91 74
004DD7  2  C8                       iny                    ; C8
004DD8  2  A5 32                    lda L0032              ; Get y1
004DDA  2  91 74                    sta (L0074),Y          ; 91 74
004DDC  2  C8                       iny                    ; C8
004DDD  2  A5 33                    lda L0033              ; A5 33
004DDF  2  91 74                    sta (L0074),Y          ; 91 74
004DE1  2  C8                       iny                    ; C8
004DE2  2  A5 34                    lda L0034              ; A5 34
004DE4  2  91 74                    sta (L0074),Y          ; 91 74
004DE6  2  C8                       iny                    ; C8
004DE7  2  84 8F                    sty L008F              ; 84 8F
004DE9  2  C4 06                    cpy L0006              ; C4 06
004DEB  2  B0 17                    bcs L4C7E              ; B0 17
004DED  2  E6 A5        L4C67:      inc L00A5              ; E6 A5
004DEF  2  A4 A5                    ldy L00A5              ; A4 A5
004DF1  2  C4 B8                    cpy L00B8              ; C4 B8
004DF3  2  B0 0F                    bcs L4C7E              ; B0 0F
004DF5  2  A0 00                    ldy #$00               ; A0 00
004DF7  2  A5 22                    lda L0022              ; A5 22
004DF9  2  69 04                    adc #$04               ; 69 04
004DFB  2  85 22                    sta L0022              ; 85 22
004DFD  2  90 02                    bcc L4C7B              ; 90 02
004DFF  2  E6 23                    inc L0023              ; E6 23
004E01  2  4C 7C 4D     L4C7B:      jmp L4BF6              ; 4C F6 4B
004E04  2               
004E04  2  A5 8F        L4C7E:      lda L008F              ; A5 8F
004E06  2  A0 00        L4C80:      ldy #$00               ; A0 00
004E08  2  91 74                    sta (L0074),Y          ; 91 74
004E0A  2  A0 00        L4C84:      ldy #$00               ; A0 00
004E0C  2  B1 74                    lda (L0074),Y          ; B1 74
004E0E  2  85 B8                    sta L00B8              ; 85 B8
004E10  2  C9 04                    cmp #$04               ; C9 04
004E12  2  90 1C                    bcc L4CAA              ; 90 1C
004E14  2  C8                       iny                    ; C8
004E15  2  B1 74        L4C8F:      lda (L0074),Y          ; B1 74
004E17  2  85 31                    sta L0031              ; Set x1
004E19  2  C8                       iny                    ; C8
004E1A  2  B1 74                    lda (L0074),Y          ; B1 74
004E1C  2  85 32                    sta L0032              ; Set y1
004E1E  2  C8                       iny                    ; C8
004E1F  2  B1 74                    lda (L0074),Y          ; B1 74
004E21  2  85 33                    sta L0033              ; 85 33
004E23  2  C8                       iny                    ; C8
004E24  2  B1 74                    lda (L0074),Y          ; B1 74
004E26  2  85 34                    sta L0034              ; 85 34
004E28  2  20 23 16                 jsr L1621              ; Plot line
004E2B  2               
004E2B  2  C8                       iny                    ; C8
004E2C  2  C4 B8                    cpy L00B8              ; C4 B8
004E2E  2  90 E5                    bcc L4C8F              ; 90 E5
004E30  2  60           L4CAA:      rts                    ; 60
004E31  2               
004E31  2  A5 32        L4CAB:      lda L0032              ; Get y1
004E33  2  10 17                    bpl L4CC6              ; 10 17
004E35  2  85 A2                    sta L00A2              ; 85 A2
004E37  2  20 AB 4E                 jsr L4D25              ; 20 25 4D
004E3A  2  8A                       txa                    ; 8A
004E3B  2  18                       clc                    ; 18
004E3C  2  65 33                    adc L0033              ; 65 33
004E3E  2  85 33                    sta L0033              ; 85 33
004E40  2  98                       tya                    ; 98
004E41  2  65 34                    adc L0034              ; 65 34
004E43  2  85 34                    sta L0034              ; 85 34
004E45  2  A9 00                    lda #$00               ; A9 00
004E47  2  85 31                    sta L0031              ; Set x1
004E49  2  85 32                    sta L0032              ; Set y1
004E4B  2  AA                       tax                    ; AA
004E4C  2  F0 19        L4CC6:      beq L4CE1              ; F0 19
004E4E  2  85 A2                    sta L00A2              ; 85 A2
004E50  2  C6 A2                    dec L00A2              ; C6 A2
004E52  2  20 AB 4E                 jsr L4D25              ; 20 25 4D
004E55  2  8A                       txa                    ; 8A
004E56  2  18                       clc                    ; 18
004E57  2  65 33                    adc L0033              ; 65 33
004E59  2  85 33                    sta L0033              ; 85 33
004E5B  2  98                       tya                    ; 98
004E5C  2  65 34                    adc L0034              ; 65 34
004E5E  2  85 34                    sta L0034              ; 85 34
004E60  2  A2 FF                    ldx #$FF               ; A2 FF
004E62  2  86 31                    stx L0031              ; Set x1
004E64  2  E8                       inx                    ; E8
004E65  2  86 32                    stx L0032              ; Set y1
004E67  2  A5 34        L4CE1:      lda L0034              ; A5 34
004E69  2  10 1A                    bpl L4CFF              ; 10 1A
004E6B  2  85 A2                    sta L00A2              ; 85 A2
004E6D  2  A5 33                    lda L0033              ; A5 33
004E6F  2  85 A1                    sta L00A1              ; 85 A1
004E71  2  20 DA 4E                 jsr L4D54              ; 20 54 4D
004E74  2  8A                       txa                    ; 8A
004E75  2  18                       clc                    ; 18
004E76  2  65 31                    adc L0031              ; Add x1
004E78  2  85 31                    sta L0031              ; Set x1
004E7A  2  98                       tya                    ; 98
004E7B  2  65 32                    adc L0032              ; 65 32
004E7D  2  85 32                    sta L0032              ; Set y1
004E7F  2  A9 00                    lda #$00               ; A9 00
004E81  2  85 33                    sta L0033              ; 85 33
004E83  2  85 34                    sta L0034              ; 85 34
004E85  2  A5 33        L4CFF:      lda L0033              ; A5 33
004E87  2  38                       sec                    ; 38
004E88  2  E9 C0                    sbc #$C0               ; E9 C0
004E8A  2  85 A1                    sta L00A1              ; 85 A1
004E8C  2  A5 34                    lda L0034              ; A5 34
004E8E  2  E9 00                    sbc #$00               ; E9 00
004E90  2  85 A2                    sta L00A2              ; 85 A2
004E92  2  90 16                    bcc L4D24              ; 90 16
004E94  2  20 DA 4E                 jsr L4D54              ; 20 54 4D
004E97  2  8A                       txa                    ; 8A
004E98  2  18                       clc                    ; 18
004E99  2  65 31                    adc L0031              ; Add x1
004E9B  2  85 31                    sta L0031              ; Set x1
004E9D  2  98                       tya                    ; 98
004E9E  2  65 32                    adc L0032              ; 65 32
004EA0  2  85 32                    sta L0032              ; Set y1
004EA2  2               
004EA2  2               ;            lda #$BF               ; CHAR8x8
004EA2  2  A9 86                    lda #$86               ; CHAR8x6
004EA4  2               
004EA4  2  85 33                    sta L0033              ; 85 33
004EA6  2  A9 00                    lda #$00               ; A9 00
004EA8  2  85 34                    sta L0034              ; 85 34
004EAA  2  60           L4D24:      rts                    ; 60
004EAB  2               
004EAB  2  A5 31        L4D25:      lda L0031              ; Get x1
004EAD  2  85 A1                    sta L00A1              ; 85 A1
004EAF  2  20 16 4F                 jsr L4D90              ; 20 90 4D
004EB2  2  48                       pha                    ; 48
004EB3  2  A6 D1                    ldx L00D1              ; A6 D1
004EB5  2  D0 2B                    bne L4D5C              ; D0 2B
004EB7  2  A9 00        L4D31:      lda #$00               ; A9 00
004EB9  2  AA                       tax                    ; AA
004EBA  2  A8                       tay                    ; A8
004EBB  2  46 A2                    lsr L00A2              ; 46 A2
004EBD  2  66 A1                    ror L00A1              ; 66 A1
004EBF  2  06 A0                    asl L00A0              ; 06 A0
004EC1  2  90 09                    bcc L4D46              ; 90 09
004EC3  2  8A           L4D3D:      txa                    ; 8A
004EC4  2  18                       clc                    ; 18
004EC5  2  65 A1                    adc L00A1              ; 65 A1
004EC7  2  AA                       tax                    ; AA
004EC8  2  98                       tya                    ; 98
004EC9  2  65 A2                    adc L00A2              ; 65 A2
004ECB  2  A8                       tay                    ; A8
004ECC  2  46 A2        L4D46:      lsr L00A2              ; 46 A2
004ECE  2  66 A1                    ror L00A1              ; 66 A1
004ED0  2  06 A0                    asl L00A0              ; 06 A0
004ED2  2  B0 EF                    bcs L4D3D              ; B0 EF
004ED4  2  D0 F6                    bne L4D46              ; D0 F6
004ED6  2  68                       pla                    ; 68
004ED7  2  10 30                    bpl L4D83              ; 10 30
004ED9  2  60                       rts                    ; 60
004EDA  2               
004EDA  2  20 16 4F     L4D54:      jsr L4D90              ; 20 90 4D
004EDD  2  48                       pha                    ; 48
004EDE  2  A6 D1                    ldx L00D1              ; A6 D1
004EE0  2  D0 D5                    bne L4D31              ; D0 D5
004EE2  2  A9 FF        L4D5C:      lda #$FF               ; A9 FF
004EE4  2  A8                       tay                    ; A8
004EE5  2  0A                       asl A                  ; 0A
004EE6  2  AA                       tax                    ; AA
004EE7  2  06 A1        L4D61:      asl L00A1              ; 06 A1
004EE9  2  26 A2                    rol L00A2              ; 26 A2
004EEB  2  A5 A2                    lda L00A2              ; A5 A2
004EED  2  B0 04                    bcs L4D6D              ; B0 04
004EEF  2  C5 A0                    cmp L00A0              ; C5 A0
004EF1  2  90 0B                    bcc L4D78              ; 90 0B
004EF3  2  E5 A0        L4D6D:      sbc L00A0              ; E5 A0
004EF5  2  85 A2                    sta L00A2              ; 85 A2
004EF7  2  A5 A1                    lda L00A1              ; A5 A1
004EF9  2  E9 00                    sbc #$00               ; E9 00
004EFB  2  85 A1                    sta L00A1              ; 85 A1
004EFD  2  38                       sec                    ; 38
004EFE  2  8A           L4D78:      txa                    ; 8A
004EFF  2  2A                       rol A                  ; 2A
004F00  2  AA                       tax                    ; AA
004F01  2  98                       tya                    ; 98
004F02  2  2A                       rol A                  ; 2A
004F03  2  A8                       tay                    ; A8
004F04  2  B0 E1                    bcs L4D61              ; B0 E1
004F06  2  68                       pla                    ; 68
004F07  2  30 0C                    bmi L4D8F              ; 30 0C
004F09  2  8A           L4D83:      txa                    ; 8A
004F0A  2  49 FF                    eor #$FF               ; 49 FF
004F0C  2  69 01                    adc #$01               ; 69 01
004F0E  2  AA                       tax                    ; AA
004F0F  2  98                       tya                    ; 98
004F10  2  49 FF                    eor #$FF               ; 49 FF
004F12  2  69 00                    adc #$00               ; 69 00
004F14  2  A8                       tay                    ; A8
004F15  2  60           L4D8F:      rts                    ; 60
004F16  2               
004F16  2  A6 39        L4D90:      ldx L0039              ; A6 39
004F18  2  86 A0                    stx L00A0              ; 86 A0
004F1A  2  A5 A2                    lda L00A2              ; A5 A2
004F1C  2  10 11                    bpl L4DA9              ; 10 11
004F1E  2  A9 00                    lda #$00               ; A9 00
004F20  2  38                       sec                    ; 38
004F21  2  E5 A1                    sbc L00A1              ; E5 A1
004F23  2  85 A1                    sta L00A1              ; 85 A1
004F25  2  A5 A2                    lda L00A2              ; A5 A2
004F27  2  48                       pha                    ; 48
004F28  2  49 FF                    eor #$FF               ; 49 FF
004F2A  2  69 00                    adc #$00               ; 69 00
004F2C  2  85 A2                    sta L00A2              ; 85 A2
004F2E  2  68                       pla                    ; 68
004F2F  2  45 3A        L4DA9:      eor L003A              ; 45 3A
004F31  2  60                       rts                    ; 60
004F32  2               
004F32  2  A9 00        L4DAC:      lda #$00               ; A9 00
004F34  2  85 B1                    sta L00B1              ; 85 B1
004F36  2  A5 36                    lda L0036              ; A5 36
004F38  2  A2 BF        L4DB2:      ldx #$BF               ; A2 BF
004F3A  2  05 38                    ora L0038              ; 05 38
004F3C  2  D0 06                    bne L4DBE              ; D0 06
004F3E  2  E4 37                    cpx L0037              ; E4 37
004F40  2  90 02                    bcc L4DBE              ; 90 02
004F42  2  A2 00                    ldx #$00               ; A2 00
004F44  2  86 A8        L4DBE:      stx L00A8              ; 86 A8
004F46  2  A5 32                    lda L0032              ; Get y1
004F48  2  05 34                    ora L0034              ; 05 34
004F4A  2  D0 1C                    bne L4DE2              ; D0 1C
004F4C  2               
004F4C  2               ;            lda #$BF               ; CHAR8x8
004F4C  2  A9 86                    lda #$86               ; CHAR8x6
004F4E  2  C5 33                    cmp L0033              ; C5 33
004F50  2  90 16                    bcc L4DE2              ; 90 16
004F52  2  A5 A8                    lda L00A8              ; A5 A8
004F54  2  D0 10                    bne L4DE0              ; D0 10
004F56  2  A5 33        L4DD0:      lda L0033              ; A5 33
004F58  2  85 32                    sta L0032              ; Set y1
004F5A  2  A5 35                    lda L0035              ; A5 35
004F5C  2  85 33                    sta L0033              ; 85 33
004F5E  2  A5 37                    lda L0037              ; A5 37
004F60  2  85 34                    sta L0034              ; 85 34
004F62  2  18                       clc                    ; 18
004F63  2  60                       rts                    ; 60
004F64  2               
004F64  2  38           L4DDE:      sec                    ; 38
004F65  2  60                       rts                    ; 60
004F66  2               
004F66  2  46 A8        L4DE0:      lsr L00A8              ; 46 A8
004F68  2  A5 A8        L4DE2:      lda L00A8              ; A5 A8
004F6A  2  10 2F                    bpl L4E15              ; 10 2F
004F6C  2  A5 32                    lda L0032              ; Get y1
004F6E  2  25 36                    and L0036              ; 25 36
004F70  2  30 F2                    bmi L4DDE              ; 30 F2
004F72  2  A5 34                    lda L0034              ; A5 34
004F74  2  25 38                    and L0038              ; 25 38
004F76  2  30 EC                    bmi L4DDE              ; 30 EC
004F78  2  A6 32                    ldx L0032              ; Get y1
004F7A  2  CA                       dex                    ; CA
004F7B  2  8A                       txa                    ; 8A
004F7C  2  A6 36                    ldx L0036              ; A6 36
004F7E  2  CA                       dex                    ; CA
004F7F  2  86 39                    stx L0039              ; 86 39
004F81  2  05 39                    ora L0039              ; 05 39
004F83  2  10 DF                    bpl L4DDE              ; 10 DF
004F85  2  A5 33                    lda L0033              ; A5 33
004F87  2  C9 C0                    cmp #$C0               ; C9 C0
004F89  2  A5 34                    lda L0034              ; A5 34
004F8B  2  E9 00                    sbc #$00               ; E9 00
004F8D  2  85 39                    sta L0039              ; 85 39
004F8F  2  A5 37                    lda L0037              ; A5 37
004F91  2  C9 C0                    cmp #$C0               ; C9 C0
004F93  2  A5 38                    lda L0038              ; A5 38
004F95  2  E9 00                    sbc #$00               ; E9 00
004F97  2  05 39                    ora L0039              ; 05 39
004F99  2  10 C9                    bpl L4DDE              ; 10 C9
004F9B  2  98           L4E15:      tya                    ; 98
004F9C  2  48                       pha                    ; 48
004F9D  2  A5 35                    lda L0035              ; A5 35
004F9F  2  38                       sec                    ; 38
004FA0  2  E5 31                    sbc L0031              ; Substract x1
004FA2  2  85 39                    sta L0039              ; 85 39
004FA4  2  A5 36                    lda L0036              ; A5 36
004FA6  2  E5 32                    sbc L0032              ; E5 32
004FA8  2  85 3A                    sta L003A              ; 85 3A
004FAA  2  A5 37                    lda L0037              ; A5 37
004FAC  2  38                       sec                    ; 38
004FAD  2  E5 33                    sbc L0033              ; E5 33
004FAF  2  85 3B                    sta L003B              ; 85 3B
004FB1  2  A5 38                    lda L0038              ; A5 38
004FB3  2  E5 34                    sbc L0034              ; E5 34
004FB5  2  85 3C                    sta L003C              ; 85 3C
004FB7  2  45 3A                    eor L003A              ; 45 3A
004FB9  2  85 A2                    sta L00A2              ; 85 A2
004FBB  2  A5 3C                    lda L003C              ; A5 3C
004FBD  2  10 0D                    bpl L4E46              ; 10 0D
004FBF  2  A9 00                    lda #$00               ; A9 00
004FC1  2  38                       sec                    ; 38
004FC2  2  E5 3B                    sbc L003B              ; E5 3B
004FC4  2  85 3B                    sta L003B              ; 85 3B
004FC6  2  A9 00                    lda #$00               ; A9 00
004FC8  2  E5 3C                    sbc L003C              ; E5 3C
004FCA  2  85 3C                    sta L003C              ; 85 3C
004FCC  2  A5 3A        L4E46:      lda L003A              ; A5 3A
004FCE  2  10 0B                    bpl L4E55              ; 10 0B
004FD0  2  38                       sec                    ; 38
004FD1  2  A9 00                    lda #$00               ; A9 00
004FD3  2  E5 39                    sbc L0039              ; E5 39
004FD5  2  85 39                    sta L0039              ; 85 39
004FD7  2  A9 00                    lda #$00               ; A9 00
004FD9  2  E5 3A                    sbc L003A              ; E5 3A
004FDB  2  AA           L4E55:      tax                    ; AA
004FDC  2  D0 04                    bne L4E5C              ; D0 04
004FDE  2  A6 3C                    ldx L003C              ; A6 3C
004FE0  2  F0 0A                    beq L4E66              ; F0 0A
004FE2  2  4A           L4E5C:      lsr A                  ; 4A
004FE3  2  66 39                    ror L0039              ; 66 39
004FE5  2  46 3C                    lsr L003C              ; 46 3C
004FE7  2  66 3B                    ror L003B              ; 66 3B
004FE9  2  4C DB 4F                 jmp L4E55              ; 4C 55 4E
004FEC  2  86 D1        L4E66:      stx L00D1              ; 86 D1
004FEE  2  A5 39                    lda L0039              ; A5 39
004FF0  2  C5 3B                    cmp L003B              ; C5 3B
004FF2  2  90 0A                    bcc L4E78              ; 90 0A
004FF4  2  85 A0                    sta L00A0              ; 85 A0
004FF6  2  A5 3B                    lda L003B              ; A5 3B
004FF8  2  20 B1 47                 jsr L462B              ; 20 2B 46
004FFB  2  4C 09 50                 jmp L4E83              ; 4C 83 4E
004FFE  2  A5 3B        L4E78:      lda L003B              ; A5 3B
005000  2  85 A0                    sta L00A0              ; 85 A0
005002  2  A5 39                    lda L0039              ; A5 39
005004  2  20 B1 47                 jsr L462B              ; 20 2B 46
005007  2  C6 D1                    dec L00D1              ; C6 D1
005009  2  A5 A1        L4E83:      lda L00A1              ; A5 A1
00500B  2  85 39                    sta L0039              ; 85 39
00500D  2  A5 A2                    lda L00A2              ; A5 A2
00500F  2  85 3A                    sta L003A              ; 85 3A
005011  2  A5 A8                    lda L00A8              ; A5 A8
005013  2  F0 02                    beq L4E91              ; F0 02
005015  2  10 13                    bpl L4EA4              ; 10 13
005017  2  20 31 4E     L4E91:      jsr L4CAB              ; 20 AB 4C
00501A  2  A5 A8                    lda L00A8              ; A5 A8
00501C  2  10 31                    bpl L4EC9              ; 10 31
00501E  2  A5 32                    lda L0032              ; Get y1
005020  2  05 34                    ora L0034              ; 05 34
005022  2  D0 30                    bne L4ECE              ; D0 30
005024  2  A5 33                    lda L0033              ; A5 33
005026  2  C9 C0                    cmp #$C0               ; C9 C0
005028  2  B0 2A                    bcs L4ECE              ; B0 2A
00502A  2  A6 31        L4EA4:      ldx L0031              ; Get x1
00502C  2  A5 35                    lda L0035              ; A5 35
00502E  2  85 31                    sta L0031              ; Set x1
005030  2  86 35                    stx L0035              ; 86 35
005032  2  A5 36                    lda L0036              ; A5 36
005034  2  A6 32                    ldx L0032              ; Get y1
005036  2  86 36                    stx L0036              ; 86 36
005038  2  85 32                    sta L0032              ; Set y1
00503A  2  A6 33                    ldx L0033              ; A6 33
00503C  2  A5 37                    lda L0037              ; A5 37
00503E  2  85 33                    sta L0033              ; 85 33
005040  2  86 37                    stx L0037              ; 86 37
005042  2  A5 38                    lda L0038              ; A5 38
005044  2  A6 34                    ldx L0034              ; A6 34
005046  2  86 38                    stx L0038              ; 86 38
005048  2  85 34                    sta L0034              ; 85 34
00504A  2  20 31 4E                 jsr L4CAB              ; 20 AB 4C
00504D  2  C6 B1                    dec L00B1              ; C6 B1
00504F  2  68           L4EC9:      pla                    ; 68
005050  2  A8                       tay                    ; A8
005051  2  4C 56 4F                 jmp L4DD0              ; 4C D0 4D
005054  2               
005054  2  68           L4ECE:      pla                    ; 68
005055  2  A8                       tay                    ; A8
005056  2  38                       sec                    ; 38
005057  2  60                       rts                    ; 60
005058  2               
005058  2               ;---------------------------------------------
005058  2               ; END OF ORIGINAL BRABEN CODE
005058  2               ;---------------------------------------------
005058  2               
005058  2               ;---------------------------------------------
005058  2               ; 3D Object data pointers
005058  2               ;---------------------------------------------
005058  2  8C           L4ED2:      .byte $8C
005059  2  2C           L4ED3:      .byte $2C
00505A  2               
00505A  2               
00505A  2  70 50 18 51              .word L4EEA,L4F92,L506C,L519A
00505E  2  F2 51 20 53  
005062  2  12 54 12 54              .word L528C,L528C,L5414,L5530
005066  2  9A 55 B6 56  
00506A  2  B4 57 8A 58              .word L562E,L5704,L57AC
00506E  2  32 59        
005070  2               
005070  2               ;---------------------------------------------
005070  2               ; Object 1
005070  2               ;---------------------------------------------
005070  2               
005070  2               L4EEA:
005070  2  00                       .byte $00
005071  2  81 10 50 8C              .byte $81,$10,$50,$8C,$3D,$00,$1E,$3C
005075  2  3D 00 1E 3C  
005079  2  0F 32 00 1C              .byte $0F,$32,$00,$1C,$14,$46,$25,$00
00507D  2  14 46 25 00  
005081  2  00 02 10 20              .byte $00,$02,$10,$20,$00,$24,$9F,$10
005085  2  00 24 9F 10  
005089  2  54 20 00 24              .byte $54,$20,$00,$24,$1F,$20,$65,$40
00508D  2  1F 20 65 40  
005091  2  00 1C 3F 32              .byte $00,$1C,$3F,$32,$66,$40,$00,$1C
005095  2  66 40 00 1C  
005099  2  BF 31 44 00              .byte $BF,$31,$44,$00,$10,$1C,$3F,$10
00509D  2  10 1C 3F 10  
0050A1  2  32 00 10 1C              .byte $32,$00,$10,$1C,$7F,$43,$65,$0C
0050A5  2  7F 43 65 0C  
0050A9  2  06 1C AF 33              .byte $06,$1C,$AF,$33,$33,$0C,$06,$1C
0050AD  2  33 0C 06 1C  
0050B1  2  2F 33 33 0C              .byte $2F,$33,$33,$0C,$06,$1C,$6C,$33
0050B5  2  06 1C 6C 33  
0050B9  2  33 0C 06 1C              .byte $33,$0C,$06,$1C,$EC,$33,$33,$1F
0050BD  2  EC 33 33 1F  
0050C1  2  50 00 04 1F              .byte $50,$00,$04,$1F,$62,$04,$08,$1F
0050C5  2  62 04 08 1F  
0050C9  2  20 04 10 1F              .byte $20,$04,$10,$1F,$10,$00,$10,$1F
0050CD  2  10 00 10 1F  
0050D1  2  41 00 0C 1F              .byte $41,$00,$0C,$1F,$31,$0C,$10,$1F
0050D5  2  31 0C 10 1F  
0050D9  2  32 08 10 1F              .byte $32,$08,$10,$1F,$43,$0C,$14,$1F
0050DD  2  43 0C 14 1F  
0050E1  2  63 08 14 1F              .byte $63,$08,$14,$1F,$65,$04,$14,$1F
0050E5  2  65 04 14 1F  
0050E9  2  54 00 14 0F              .byte $54,$00,$14,$0F,$33,$18,$1C,$0C
0050ED  2  33 18 1C 0C  
0050F1  2  33 1C 20 0C              .byte $33,$1C,$20,$0C,$33,$18,$24,$0C
0050F5  2  33 18 24 0C  
0050F9  2  33 20 24 1F              .byte $33,$20,$24,$1F,$00,$20,$08,$9F
0050FD  2  00 20 08 9F  
005101  2  0C 2F 06 1F              .byte $0C,$2F,$06,$1F,$0C,$2F,$06,$3F
005105  2  0C 2F 06 3F  
005109  2  00 00 70 DF              .byte $00,$00,$70,$DF,$0C,$2F,$06,$5F
00510D  2  0C 2F 06 5F  
005111  2  00 20 08 5F              .byte $00,$20,$08,$5F,$0C,$2F,$06
005115  2  0C 2F 06     
005118  2               
005118  2               ;---------------------------------------------
005118  2               ; Object 2
005118  2               ;---------------------------------------------
005118  2               
005118  2               L4F92:
005118  2  00                       .byte $00
005119  2  F9 15 6E BE              .byte $F9,$15,$6E,$BE,$4D,$00,$2A,$5A
00511D  2  4D 00 2A 5A  
005121  2  14 00 00 1C              .byte $14,$00,$00,$1C,$17,$78,$20,$00
005125  2  17 78 20 00  
005129  2  00 01 11 00              .byte $00,$01,$11,$00,$00,$48,$1F,$21
00512D  2  00 48 1F 21  
005131  2  43 00 10 18              .byte $43,$00,$10,$18,$1E,$10,$22,$00
005135  2  1E 10 22 00  
005139  2  10 18 5E 43              .byte $10,$18,$5E,$43,$55,$30,$00,$18
00513D  2  55 30 00 18  
005141  2  3F 42 66 30              .byte $3F,$42,$66,$30,$00,$18,$BF,$31
005145  2  00 18 BF 31  
005149  2  66 18 10 18              .byte $66,$18,$10,$18,$7E,$54,$66,$18
00514D  2  7E 54 66 18  
005151  2  10 18 FE 35              .byte $10,$18,$FE,$35,$66,$18,$10,$18
005155  2  66 18 10 18  
005159  2  3F 20 66 18              .byte $3F,$20,$66,$18,$10,$18,$BF,$10
00515D  2  10 18 BF 10  
005161  2  66 20 00 18              .byte $66,$20,$00,$18,$B3,$66,$66,$20
005165  2  B3 66 66 20  
005169  2  00 18 33 66              .byte $00,$18,$33,$66,$66,$08,$08,$18
00516D  2  66 08 08 18  
005171  2  33 66 66 08              .byte $33,$66,$66,$08,$08,$18,$B3,$66
005175  2  08 18 B3 66  
005179  2  66 08 08 18              .byte $66,$08,$08,$18,$F2,$66,$66,$08
00517D  2  F2 66 66 08  
005181  2  08 18 72 66              .byte $08,$18,$72,$66,$66,$1F,$42,$00
005185  2  66 1F 42 00  
005189  2  0C 1E 21 00              .byte $0C,$1E,$21,$00,$04,$1E,$43,$00
00518D  2  04 1E 43 00  
005191  2  08 1F 31 00              .byte $08,$1F,$31,$00,$10,$1E,$20,$04
005195  2  10 1E 20 04  
005199  2  1C 1E 10 04              .byte $1C,$1E,$10,$04,$20,$1E,$54,$08
00519D  2  20 1E 54 08  
0051A1  2  14 1E 53 08              .byte $14,$1E,$53,$08,$18,$1F,$60,$1C
0051A5  2  18 1F 60 1C  
0051A9  2  20 1E 65 14              .byte $20,$1E,$65,$14,$18,$1F,$61,$10
0051AD  2  18 1F 61 10  
0051B1  2  20 1E 63 10              .byte $20,$1E,$63,$10,$18,$1F,$62,$0C
0051B5  2  18 1F 62 0C  
0051B9  2  1C 1E 46 0C              .byte $1C,$1E,$46,$0C,$14,$13,$66,$24
0051BD  2  14 13 66 24  
0051C1  2  30 12 66 24              .byte $30,$12,$66,$24,$34,$13,$66,$28
0051C5  2  34 13 66 28  
0051C9  2  2C 12 66 28              .byte $2C,$12,$66,$28,$38,$10,$66,$2C
0051CD  2  38 10 66 2C  
0051D1  2  38 10 66 30              .byte $38,$10,$66,$30,$34,$1F,$00,$20
0051D5  2  34 1F 00 20  
0051D9  2  00 9F 16 21              .byte $00,$9F,$16,$21,$0B,$1F,$16,$21
0051DD  2  0B 1F 16 21  
0051E1  2  0B DF 16 21              .byte $0B,$DF,$16,$21,$0B,$5F,$16,$21
0051E5  2  0B 5F 16 21  
0051E9  2  0B 5F 00 20              .byte $0B,$5F,$00,$20,$00,$3F,$00,$00
0051ED  2  00 3F 00 00  
0051F1  2  30                       .byte $30
0051F2  2               
0051F2  2               ;---------------------------------------------
0051F2  2               ; Object 3
0051F2  2               ;---------------------------------------------
0051F2  2               
0051F2  2               L506C:
0051F2  2  01 24 13 AA              .byte $01,$24,$13,$AA,$1A,$5D,$00
0051F6  2  1A 5D 00     
0051F9  2  22 96 1C 96              .byte $22,$96,$1C,$96,$00,$14,$19,$5A
0051FD  2  00 14 19 5A  
005201  2  1E 00 01 02              .byte $1E,$00,$01,$02,$12,$00,$00,$40
005205  2  12 00 00 40  
005209  2  1F 10 32 40              .byte $1F,$10,$32,$40,$08,$20,$FF,$20
00520D  2  08 20 FF 20  
005211  2  44 20 08 20              .byte $44,$20,$08,$20,$BE,$21,$44,$20
005215  2  BE 21 44 20  
005219  2  08 20 3E 31              .byte $08,$20,$3E,$31,$44,$40,$08,$20
00521D  2  44 40 08 20  
005221  2  7F 30 44 04              .byte $7F,$30,$44,$04,$04,$10,$8E,$11
005225  2  04 10 8E 11  
005229  2  11 04 04 10              .byte $11,$04,$04,$10,$0E,$11,$11,$08
00522D  2  0E 11 11 08  
005231  2  03 1C 0D 11              .byte $03,$1C,$0D,$11,$11,$08,$03,$1C
005235  2  11 08 03 1C  
005239  2  8D 11 11 14              .byte $8D,$11,$11,$14,$04,$10,$D4,$00
00523D  2  04 10 D4 00  
005241  2  00 14 04 10              .byte $00,$14,$04,$10,$54,$00,$00,$18
005245  2  54 00 00 18  
005249  2  07 14 F4 00              .byte $07,$14,$F4,$00,$00,$10,$07,$14
00524D  2  00 10 07 14  
005251  2  F0 00 00 10              .byte $F0,$00,$00,$10,$07,$14,$70,$00
005255  2  07 14 70 00  
005259  2  00 18 07 14              .byte $00,$18,$07,$14,$74,$00,$00,$08
00525D  2  74 00 00 08  
005261  2  04 20 AD 44              .byte $04,$20,$AD,$44,$44,$08,$04,$20
005265  2  44 08 04 20  
005269  2  2D 44 44 08              .byte $2D,$44,$44,$08,$04,$20,$6E,$44
00526D  2  04 20 6E 44  
005271  2  44 08 04 20              .byte $44,$08,$04,$20,$EE,$44,$44,$20
005275  2  EE 44 44 20  
005279  2  04 20 A7 44              .byte $04,$20,$A7,$44,$44,$20,$04,$20
00527D  2  44 20 04 20  
005281  2  27 44 44 24              .byte $27,$44,$44,$24,$04,$20,$67,$44
005285  2  04 20 67 44  
005289  2  44 24 04 20              .byte $44,$24,$04,$20,$E7,$44,$44,$26
00528D  2  E7 44 44 26  
005291  2  00 20 A5 44              .byte $00,$20,$A5,$44,$44,$26,$00,$20
005295  2  44 26 00 20  
005299  2  25 44 44 1F              .byte $25,$44,$44,$1F,$20,$00,$04,$1F
00529D  2  20 00 04 1F  
0052A1  2  30 00 10 1F              .byte $30,$00,$10,$1F,$40,$04,$10,$1E
0052A5  2  40 04 10 1E  
0052A9  2  42 04 08 1E              .byte $42,$04,$08,$1E,$41,$08,$0C,$1E
0052AD  2  41 08 0C 1E  
0052B1  2  43 0C 10 0E              .byte $43,$0C,$10,$0E,$11,$14,$18,$0C
0052B5  2  11 14 18 0C  
0052B9  2  11 18 1C 0D              .byte $11,$18,$1C,$0D,$11,$1C,$20,$0C
0052BD  2  11 1C 20 0C  
0052C1  2  11 14 20 14              .byte $11,$14,$20,$14,$00,$24,$2C,$10
0052C5  2  00 24 2C 10  
0052C9  2  00 24 30 10              .byte $00,$24,$30,$10,$00,$28,$34,$14
0052CD  2  00 28 34 14  
0052D1  2  00 28 38 0E              .byte $00,$28,$38,$0E,$00,$34,$38,$0E
0052D5  2  00 34 38 0E  
0052D9  2  00 2C 30 0D              .byte $00,$2C,$30,$0D,$44,$3C,$40,$0E
0052DD  2  44 3C 40 0E  
0052E1  2  44 44 48 0C              .byte $44,$44,$48,$0C,$44,$3C,$48,$0C
0052E5  2  44 3C 48 0C  
0052E9  2  44 40 44 07              .byte $44,$40,$44,$07,$44,$50,$54,$05
0052ED  2  44 50 54 05  
0052F1  2  44 50 60 05              .byte $44,$50,$60,$05,$44,$54,$60,$07
0052F5  2  44 54 60 07  
0052F9  2  44 4C 58 05              .byte $44,$4C,$58,$05,$44,$4C,$5C,$05
0052FD  2  44 4C 5C 05  
005301  2  44 58 5C 1E              .byte $44,$58,$5C,$1E,$21,$00,$08,$1E
005305  2  21 00 08 1E  
005309  2  31 00 0C 5E              .byte $31,$00,$0C,$5E,$00,$18,$02,$1E
00530D  2  00 18 02 1E  
005311  2  00 18 02 9E              .byte $00,$18,$02,$9E,$20,$40,$10,$1E
005315  2  20 40 10 1E  
005319  2  20 40 10 3E              .byte $20,$40,$10,$3E,$00,$00,$7F
00531D  2  00 00 7F     
005320  2               
005320  2               ;---------------------------------------------
005320  2               ; Object 4
005320  2               ;---------------------------------------------
005320  2               
005320  2               L519A:
005320  2  03                       .byte $03
005321  2  40 38 56 BE              .byte $40,$38,$56,$BE,$55,$00,$2E,$42
005325  2  55 00 2E 42  
005329  2  1A C8 00 34              .byte $1A,$C8,$00,$34,$28,$FA,$14,$00
00532D  2  28 FA 14 00  
005331  2  00 00 1B 00              .byte $00,$00,$1B,$00,$00,$E0,$1F,$10
005335  2  00 E0 1F 10  
005339  2  32 00 30 30              .byte $32,$00,$30,$30,$1E,$10,$54,$60
00533D  2  1E 10 54 60  
005341  2  00 10 3F FF              .byte $00,$10,$3F,$FF,$FF,$60,$00,$10
005345  2  FF 60 00 10  
005349  2  BF FF FF 00              .byte $BF,$FF,$FF,$00,$30,$20,$3E,$54
00534D  2  30 20 3E 54  
005351  2  98 00 18 70              .byte $98,$00,$18,$70,$3F,$89,$CC,$30
005355  2  3F 89 CC 30  
005359  2  00 70 BF B8              .byte $00,$70,$BF,$B8,$CC,$30,$00,$70
00535D  2  CC 30 00 70  
005361  2  3F A9 CC 00              .byte $3F,$A9,$CC,$00,$30,$30,$5E,$32
005365  2  30 30 5E 32  
005369  2  76 00 30 20              .byte $76,$00,$30,$20,$7E,$76,$BA,$00
00536D  2  7E 76 BA 00  
005371  2  18 70 7E BA              .byte $18,$70,$7E,$BA,$CC,$1E,$32,$00
005375  2  CC 1E 32 00  
005379  2  20 1F 20 00              .byte $20,$1F,$20,$00,$0C,$1F,$31,$00
00537D  2  0C 1F 31 00  
005381  2  08 1E 10 00              .byte $08,$1E,$10,$00,$04,$1D,$59,$08
005385  2  04 1D 59 08  
005389  2  10 1D 51 04              .byte $10,$1D,$51,$04,$08,$1D,$37,$08
00538D  2  08 1D 37 08  
005391  2  20 1D 40 04              .byte $20,$1D,$40,$04,$0C,$1D,$62,$0C
005395  2  0C 1D 62 0C  
005399  2  20 1D A7 08              .byte $20,$1D,$A7,$08,$24,$1D,$84,$0C
00539D  2  24 1D 84 0C  
0053A1  2  10 1D B6 0C              .byte $10,$1D,$B6,$0C,$24,$05,$88,$0C
0053A5  2  24 05 88 0C  
0053A9  2  14 05 BB 0C              .byte $14,$05,$BB,$0C,$28,$05,$99,$08
0053AD  2  28 05 99 08  
0053B1  2  14 05 AA 08              .byte $14,$05,$AA,$08,$28,$1F,$A9,$08
0053B5  2  28 1F A9 08  
0053B9  2  1C 1F B8 0C              .byte $1C,$1F,$B8,$0C,$18,$1F,$C8,$14
0053BD  2  18 1F C8 14  
0053C1  2  18 1F C9 14              .byte $18,$1F,$C9,$14,$1C,$1D,$AC,$1C
0053C5  2  1C 1D AC 1C  
0053C9  2  28 1D CB 18              .byte $28,$1D,$CB,$18,$28,$1D,$98,$10
0053CD  2  28 1D 98 10  
0053D1  2  14 1D BA 24              .byte $14,$1D,$BA,$24,$28,$1D,$54,$04
0053D5  2  28 1D 54 04  
0053D9  2  10 1D 76 20              .byte $10,$1D,$76,$20,$24,$9E,$1B,$28
0053DD  2  24 9E 1B 28  
0053E1  2  0B 1E 1B 28              .byte $0B,$1E,$1B,$28,$0B,$DE,$1B,$28
0053E5  2  0B DE 1B 28  
0053E9  2  0B 5E 1B 28              .byte $0B,$5E,$1B,$28,$0B,$9E,$13,$26
0053ED  2  0B 9E 13 26  
0053F1  2  00 1E 13 26              .byte $00,$1E,$13,$26,$00,$DE,$13,$26
0053F5  2  00 DE 13 26  
0053F9  2  00 5E 13 26              .byte $00,$5E,$13,$26,$00,$BE,$19,$25
0053FD  2  00 BE 19 25  
005401  2  0B 3E 19 25              .byte $0B,$3E,$19,$25,$0B,$7E,$19,$25
005405  2  0B 7E 19 25  
005409  2  0B FE 19 25              .byte $0B,$FE,$19,$25,$0B,$3E,$00,$00
00540D  2  0B 3E 00 00  
005411  2  70                       .byte $70
005412  2               
005412  2               ;---------------------------------------------
005412  2               ; Object 5
005412  2               ;---------------------------------------------
005412  2               
005412  2               L528C:
005412  2  03 41 23 BC              .byte $03,$41,$23,$BC,$54,$99,$54
005416  2  54 99 54     
005419  2  2A A8 26 00              .byte $2A,$A8,$26,$00,$00,$34,$32,$96
00541D  2  00 34 32 96  
005421  2  1C 00 01 01              .byte $1C,$00,$01,$01,$13,$20,$00,$4C
005425  2  13 20 00 4C  
005429  2  1F FF FF 20              .byte $1F,$FF,$FF,$20,$00,$4C,$9F,$FF
00542D  2  00 4C 9F FF  
005431  2  FF 00 1A 18              .byte $FF,$00,$1A,$18,$1F,$FF,$FF,$78
005435  2  1F FF FF 78  
005439  2  03 08 FF 73              .byte $03,$08,$FF,$73,$AA,$78,$03,$08
00543D  2  AA 78 03 08  
005441  2  7F 84 CC 58              .byte $7F,$84,$CC,$58,$10,$28,$BF,$FF
005445  2  10 28 BF FF  
005449  2  FF 58 10 28              .byte $FF,$58,$10,$28,$3F,$FF,$FF,$80
00544D  2  3F FF FF 80  
005451  2  08 28 7F 98              .byte $08,$28,$7F,$98,$CC,$80,$08,$28
005455  2  CC 80 08 28  
005459  2  FF 97 AA 00              .byte $FF,$97,$AA,$00,$1A,$28,$3F,$65
00545D  2  1A 28 3F 65  
005461  2  99 20 18 28              .byte $99,$20,$18,$28,$FF,$A9,$BB,$20
005465  2  FF A9 BB 20  
005469  2  18 28 7F B9              .byte $18,$28,$7F,$B9,$CC,$24,$08,$28
00546D  2  CC 24 08 28  
005471  2  B4 99 99 08              .byte $B4,$99,$99,$08,$0C,$28,$B4,$99
005475  2  0C 28 B4 99  
005479  2  99 08 0C 28              .byte $99,$08,$0C,$28,$34,$99,$99,$24
00547D  2  34 99 99 24  
005481  2  08 28 34 99              .byte $08,$28,$34,$99,$99,$24,$0C,$28
005485  2  99 24 0C 28  
005489  2  74 99 99 08              .byte $74,$99,$99,$08,$10,$28,$74,$99
00548D  2  10 28 74 99  
005491  2  99 08 10 28              .byte $99,$08,$10,$28,$F4,$99,$99,$24
005495  2  F4 99 99 24  
005499  2  0C 28 F4 99              .byte $0C,$28,$F4,$99,$99,$00,$00,$4C
00549D  2  99 00 00 4C  
0054A1  2  06 B0 BB 00              .byte $06,$B0,$BB,$00,$00,$5A,$1F,$B0
0054A5  2  00 5A 1F B0  
0054A9  2  BB 50 06 28              .byte $BB,$50,$06,$28,$E8,$99,$99,$50
0054AD  2  E8 99 99 50  
0054B1  2  06 28 A8 99              .byte $06,$28,$A8,$99,$99,$58,$00,$28
0054B5  2  99 58 00 28  
0054B9  2  A6 99 99 50              .byte $A6,$99,$99,$50,$06,$28,$28,$99
0054BD  2  06 28 28 99  
0054C1  2  99 58 00 28              .byte $99,$58,$00,$28,$26,$99,$99,$50
0054C5  2  26 99 99 50  
0054C9  2  06 28 68 99              .byte $06,$28,$68,$99,$99,$1F,$B0,$00
0054CD  2  99 1F B0 00  
0054D1  2  04 1F C4 00              .byte $04,$1F,$C4,$00,$10,$1F,$A3,$04
0054D5  2  10 1F A3 04  
0054D9  2  0C 1F A7 0C              .byte $0C,$1F,$A7,$0C,$20,$1F,$C8,$10
0054DD  2  20 1F C8 10  
0054E1  2  1C 1F 98 18              .byte $1C,$1F,$98,$18,$1C,$1F,$96,$18
0054E5  2  1C 1F 96 18  
0054E9  2  24 1F 95 14              .byte $24,$1F,$95,$14,$24,$1F,$97,$14
0054ED  2  24 1F 97 14  
0054F1  2  20 1F 51 08              .byte $20,$1F,$51,$08,$14,$1F,$62,$08
0054F5  2  14 1F 62 08  
0054F9  2  18 1F 73 0C              .byte $18,$1F,$73,$0C,$14,$1F,$84,$10
0054FD  2  14 1F 84 10  
005501  2  18 1F 10 04              .byte $18,$1F,$10,$04,$08,$1F,$20,$00
005505  2  08 1F 20 00  
005509  2  08 1F A9 20              .byte $08,$1F,$A9,$20,$28,$1F,$B9,$28
00550D  2  28 1F B9 28  
005511  2  2C 1F C9 1C              .byte $2C,$1F,$C9,$1C,$2C,$1F,$BA,$04
005515  2  2C 1F BA 04  
005519  2  28 1F CB 00              .byte $28,$1F,$CB,$00,$2C,$1D,$31,$04
00551D  2  2C 1D 31 04  
005521  2  14 1D 42 00              .byte $14,$1D,$42,$00,$18,$06,$B0,$50
005525  2  18 06 B0 50  
005529  2  54 14 99 30              .byte $54,$14,$99,$30,$34,$14,$99,$48
00552D  2  34 14 99 48  
005531  2  4C 14 99 38              .byte $4C,$14,$99,$38,$3C,$14,$99,$40
005535  2  3C 14 99 40  
005539  2  44 13 99 3C              .byte $44,$13,$99,$3C,$40,$11,$99,$38
00553D  2  40 11 99 38  
005541  2  44 13 99 34              .byte $44,$13,$99,$34,$48,$13,$99,$30
005545  2  48 13 99 30  
005549  2  4C 1E 65 08              .byte $4C,$1E,$65,$08,$24,$06,$99,$58
00554D  2  24 06 99 58  
005551  2  60 06 99 5C              .byte $60,$06,$99,$5C,$60,$08,$99,$58
005555  2  60 08 99 58  
005559  2  5C 06 99 64              .byte $5C,$06,$99,$64,$68,$06,$99,$68
00555D  2  68 06 99 68  
005561  2  6C 08 99 64              .byte $6C,$08,$99,$64,$6C,$1F,$00,$3E
005565  2  6C 1F 00 3E  
005569  2  1F 9F 12 37              .byte $1F,$9F,$12,$37,$10,$1F,$12,$37
00556D  2  10 1F 12 37  
005571  2  10 9F 10 34              .byte $10,$9F,$10,$34,$0E,$1F,$10,$34
005575  2  0E 1F 10 34  
005579  2  0E 9F 0E 2F              .byte $0E,$9F,$0E,$2F,$00,$1F,$0E,$2F
00557D  2  00 1F 0E 2F  
005581  2  00 9F 3D 66              .byte $00,$9F,$3D,$66,$00,$1F,$3D,$66
005585  2  00 1F 3D 66  
005589  2  00 3F 00 00              .byte $00,$3F,$00,$00,$50,$DF,$07,$2A
00558D  2  50 DF 07 2A  
005591  2  09 5F 00 1E              .byte $09,$5F,$00,$1E,$06,$5F,$07,$2A
005595  2  06 5F 07 2A  
005599  2  09                       .byte $09
00559A  2               
00559A  2               ;---------------------------------------------
00559A  2               ; Object 6
00559A  2               ;---------------------------------------------
00559A  2               
00559A  2               L5414:
00559A  2  00 00 64 74              .byte $00,$00,$64,$74,$E4,$55,$00
00559E  2  E4 55 00     
0055A1  2  36 60 1C 00              .byte $36,$60,$1C,$00,$00,$38,$78,$F0
0055A5  2  00 38 78 F0  
0055A9  2  00 00 00 00              .byte $00,$00,$00,$00,$06,$A0,$00,$A0
0055AD  2  06 A0 00 A0  
0055B1  2  1F 10 62 00              .byte $1F,$10,$62,$00,$A0,$A0,$1F,$20
0055B5  2  A0 A0 1F 20  
0055B9  2  83 A0 00 A0              .byte $83,$A0,$00,$A0,$9F,$30,$74,$00
0055BD  2  9F 30 74 00  
0055C1  2  A0 A0 5F 10              .byte $A0,$A0,$5F,$10,$54,$A0,$A0,$00
0055C5  2  54 A0 A0 00  
0055C9  2  5F 51 A6 A0              .byte $5F,$51,$A6,$A0,$A0,$00,$1F,$62
0055CD  2  A0 00 1F 62  
0055D1  2  B8 A0 A0 00              .byte $B8,$A0,$A0,$00,$9F,$73,$C8,$A0
0055D5  2  9F 73 C8 A0  
0055D9  2  A0 00 DF 54              .byte $A0,$00,$DF,$54,$97,$A0,$00,$A0
0055DD  2  97 A0 00 A0  
0055E1  2  3F A6 DB 00              .byte $3F,$A6,$DB,$00,$A0,$A0,$3F,$B8
0055E5  2  A0 A0 3F B8  
0055E9  2  DC A0 00 A0              .byte $DC,$A0,$00,$A0,$BF,$97,$DC,$00
0055ED  2  BF 97 DC 00  
0055F1  2  A0 A0 7F 95              .byte $A0,$A0,$7F,$95,$DA,$0A,$1E,$A0
0055F5  2  DA 0A 1E A0  
0055F9  2  5E 00 00 0A              .byte $5E,$00,$00,$0A,$1E,$A0,$1E,$00
0055FD  2  1E A0 1E 00  
005601  2  00 0A 1E A0              .byte $00,$0A,$1E,$A0,$9E,$00,$00,$0A
005605  2  9E 00 00 0A  
005609  2  1E A0 DE 00              .byte $1E,$A0,$DE,$00,$00,$1F,$10,$00
00560D  2  00 1F 10 00  
005611  2  0C 1F 20 00              .byte $0C,$1F,$20,$00,$04,$1F,$30,$04
005615  2  04 1F 30 04  
005619  2  08 1F 40 08              .byte $08,$1F,$40,$08,$0C,$1F,$51,$0C
00561D  2  0C 1F 51 0C  
005621  2  10 1F 61 00              .byte $10,$1F,$61,$00,$10,$1F,$62,$00
005625  2  10 1F 62 00  
005629  2  14 1F 82 14              .byte $14,$1F,$82,$14,$04,$1F,$83,$04
00562D  2  04 1F 83 04  
005631  2  18 1F 73 08              .byte $18,$1F,$73,$08,$18,$1F,$74,$08
005635  2  18 1F 74 08  
005639  2  1C 1F 54 0C              .byte $1C,$1F,$54,$0C,$1C,$1F,$DA,$20
00563D  2  1C 1F DA 20  
005641  2  2C 1F DB 20              .byte $2C,$1F,$DB,$20,$24,$1F,$DC,$24
005645  2  24 1F DC 24  
005649  2  28 1F D9 28              .byte $28,$1F,$D9,$28,$2C,$1F,$A5,$10
00564D  2  2C 1F A5 10  
005651  2  2C 1F A6 10              .byte $2C,$1F,$A6,$10,$20,$1F,$B6,$14
005655  2  20 1F B6 14  
005659  2  20 1F B8 14              .byte $20,$1F,$B8,$14,$24,$1F,$C8,$18
00565D  2  24 1F C8 18  
005661  2  24 1F C7 18              .byte $24,$1F,$C7,$18,$28,$1F,$97,$1C
005665  2  28 1F 97 1C  
005669  2  28 1F 95 1C              .byte $28,$1F,$95,$1C,$2C,$1E,$00,$30
00566D  2  2C 1E 00 30  
005671  2  34 1E 00 34              .byte $34,$1E,$00,$34,$38,$1E,$00,$38
005675  2  38 1E 00 38  
005679  2  3C 1E 00 3C              .byte $3C,$1E,$00,$3C,$30,$1F,$00,$00
00567D  2  30 1F 00 00  
005681  2  A0 5F 6B 6B              .byte $A0,$5F,$6B,$6B,$6B,$1F,$6B,$6B
005685  2  6B 1F 6B 6B  
005689  2  6B 9F 6B 6B              .byte $6B,$9F,$6B,$6B,$6B,$DF,$6B,$6B
00568D  2  6B DF 6B 6B  
005691  2  6B 5F 00 A0              .byte $6B,$5F,$00,$A0,$00,$1F,$A0,$00
005695  2  00 1F A0 00  
005699  2  00 9F A0 00              .byte $00,$9F,$A0,$00,$00,$1F,$00,$A0
00569D  2  00 1F 00 A0  
0056A1  2  00 FF 6B 6B              .byte $00,$FF,$6B,$6B,$6B,$7F,$6B,$6B
0056A5  2  6B 7F 6B 6B  
0056A9  2  6B 3F 6B 6B              .byte $6B,$3F,$6B,$6B,$6B,$BF,$6B,$6B
0056AD  2  6B BF 6B 6B  
0056B1  2  6B 3F 00 00              .byte $6B,$3F,$00,$00,$A0
0056B5  2  A0           
0056B6  2               
0056B6  2               ;---------------------------------------------
0056B6  2               ; Object 7
0056B6  2               ;---------------------------------------------
0056B6  2               
0056B6  2               L5530:
0056B6  2  00 40 06                 .byte $00,$40,$06
0056B9  2  7A DA 51 00              .byte $7A,$DA,$51,$00,$0A,$66,$18,$00
0056BD  2  0A 66 18 00  
0056C1  2  00 24 0E 02              .byte $00,$24,$0E,$02,$2C,$00,$00,$02
0056C5  2  2C 00 00 02  
0056C9  2  00 00 00 44              .byte $00,$00,$00,$44,$1F,$10,$32,$08
0056CD  2  1F 10 32 08  
0056D1  2  08 24 5F 21              .byte $08,$24,$5F,$21,$54,$08,$08,$24
0056D5  2  54 08 08 24  
0056D9  2  1F 32 74 08              .byte $1F,$32,$74,$08,$08,$24,$9F,$30
0056DD  2  08 24 9F 30  
0056E1  2  76 08 08 24              .byte $76,$08,$08,$24,$DF,$10,$65,$08
0056E5  2  DF 10 65 08  
0056E9  2  08 2C 3F 74              .byte $08,$2C,$3F,$74,$88,$08,$08,$2C
0056ED  2  88 08 08 2C  
0056F1  2  7F 54 88 08              .byte $7F,$54,$88,$08,$08,$2C,$FF,$65
0056F5  2  08 2C FF 65  
0056F9  2  88 08 08 2C              .byte $88,$08,$08,$2C,$BF,$76,$88,$0C
0056FD  2  BF 76 88 0C  
005701  2  0C 2C 28 74              .byte $0C,$2C,$28,$74,$88,$0C,$0C,$2C
005705  2  88 0C 0C 2C  
005709  2  68 54 88 0C              .byte $68,$54,$88,$0C,$0C,$2C,$E8,$65
00570D  2  0C 2C E8 65  
005711  2  88 0C 0C 2C              .byte $88,$0C,$0C,$2C,$A8,$76,$88,$08
005715  2  A8 76 88 08  
005719  2  08 0C A8 76              .byte $08,$0C,$A8,$76,$77,$08,$08,$0C
00571D  2  77 08 08 0C  
005721  2  E8 65 66 08              .byte $E8,$65,$66,$08,$08,$0C,$28,$74
005725  2  08 0C 28 74  
005729  2  77 08 08 0C              .byte $77,$08,$08,$0C,$68,$54,$55,$1F
00572D  2  68 54 55 1F  
005731  2  21 00 04 1F              .byte $21,$00,$04,$1F,$32,$00,$08,$1F
005735  2  32 00 08 1F  
005739  2  30 00 0C 1F              .byte $30,$00,$0C,$1F,$10,$00,$10,$1F
00573D  2  10 00 10 1F  
005741  2  24 04 08 1F              .byte $24,$04,$08,$1F,$51,$04,$10,$1F
005745  2  51 04 10 1F  
005749  2  60 0C 10 1F              .byte $60,$0C,$10,$1F,$73,$08,$0C,$1F
00574D  2  73 08 0C 1F  
005751  2  74 08 14 1F              .byte $74,$08,$14,$1F,$54,$04,$18,$1F
005755  2  54 04 18 1F  
005759  2  65 10 1C 1F              .byte $65,$10,$1C,$1F,$76,$0C,$20,$1F
00575D  2  76 0C 20 1F  
005761  2  86 1C 20 1F              .byte $86,$1C,$20,$1F,$87,$14,$20,$1F
005765  2  87 14 20 1F  
005769  2  84 14 18 1F              .byte $84,$14,$18,$1F,$85,$18,$1C,$08
00576D  2  85 18 1C 08  
005771  2  85 18 28 08              .byte $85,$18,$28,$08,$87,$14,$24,$08
005775  2  87 14 24 08  
005779  2  87 20 30 08              .byte $87,$20,$30,$08,$85,$1C,$2C,$08
00577D  2  85 1C 2C 08  
005781  2  74 24 3C 08              .byte $74,$24,$3C,$08,$54,$28,$40,$08
005785  2  54 28 40 08  
005789  2  76 30 34 08              .byte $76,$30,$34,$08,$65,$2C,$38,$9F
00578D  2  65 2C 38 9F  
005791  2  40 00 10 5F              .byte $40,$00,$10,$5F,$00,$40,$10,$1F
005795  2  00 40 10 1F  
005799  2  40 00 10 1F              .byte $40,$00,$10,$1F,$00,$40,$10,$1F
00579D  2  00 40 10 1F  
0057A1  2  20 00 00 5F              .byte $20,$00,$00,$5F,$00,$20,$00,$9F
0057A5  2  00 20 00 9F  
0057A9  2  20 00 00 1F              .byte $20,$00,$00,$1F,$00,$20,$00,$3F
0057AD  2  00 20 00 3F  
0057B1  2  00 00 B0                 .byte $00,$00,$B0
0057B4  2               
0057B4  2               ;---------------------------------------------
0057B4  2               ; Object 8
0057B4  2               ;---------------------------------------------
0057B4  2               
0057B4  2               L562E:
0057B4  2  00 00 19 4A              .byte $00,$00,$19,$4A,$9E
0057B8  2  9E           
0057B9  2  41 00 22 36              .byte $41,$00,$22,$36,$15,$05,$00,$38
0057BD  2  15 05 00 38  
0057C1  2  32 3C 1E 00              .byte $32,$3C,$1E,$00,$00,$01,$00,$00
0057C5  2  00 01 00 00  
0057C9  2  50 00 1F FF              .byte $50,$00,$1F,$FF,$FF,$50,$0A,$00
0057CD  2  FF 50 0A 00  
0057D1  2  DF FF FF 00              .byte $DF,$FF,$FF,$00,$50,$00,$5F,$FF
0057D5  2  50 00 5F FF  
0057D9  2  FF 46 28 00              .byte $FF,$46,$28,$00,$5F,$FF,$FF,$3C
0057DD  2  5F FF FF 3C  
0057E1  2  32 00 1F 65              .byte $32,$00,$1F,$65,$DC,$32,$00,$3C
0057E5  2  DC 32 00 3C  
0057E9  2  1F FF FF 28              .byte $1F,$FF,$FF,$28,$00,$46,$9F,$10
0057ED  2  00 46 9F 10  
0057F1  2  32 00 1E 4B              .byte $32,$00,$1E,$4B,$3F,$FF,$FF,$00
0057F5  2  3F FF FF 00  
0057F9  2  32 3C 7F 98              .byte $32,$3C,$7F,$98,$BA,$1F,$72,$00
0057FD  2  BA 1F 72 00  
005801  2  04 1F D6 00              .byte $04,$1F,$D6,$00,$10,$1F,$C5,$0C
005805  2  10 1F C5 0C  
005809  2  10 1F B4 08              .byte $10,$1F,$B4,$08,$0C,$1F,$A3,$04
00580D  2  0C 1F A3 04  
005811  2  08 1F 32 04              .byte $08,$1F,$32,$04,$18,$1F,$31,$08
005815  2  18 1F 31 08  
005819  2  18 1F 41 08              .byte $18,$1F,$41,$08,$14,$1F,$10,$14
00581D  2  14 1F 10 14  
005821  2  18 1F 60 00              .byte $18,$1F,$60,$00,$14,$1F,$54,$0C
005825  2  14 1F 54 0C  
005829  2  14 1F 20 00              .byte $14,$1F,$20,$00,$18,$1F,$65,$10
00582D  2  18 1F 65 10  
005831  2  14 1F A8 04              .byte $14,$1F,$A8,$04,$20,$1F,$87,$04
005835  2  20 1F 87 04  
005839  2  1C 1F D7 00              .byte $1C,$1F,$D7,$00,$1C,$1F,$DC,$10
00583D  2  1C 1F DC 10  
005841  2  1C 1F C9 0C              .byte $1C,$1F,$C9,$0C,$1C,$1F,$B9,$0C
005845  2  1C 1F B9 0C  
005849  2  20 1F BA 08              .byte $20,$1F,$BA,$08,$20,$1F,$98,$1C
00584D  2  20 1F 98 1C  
005851  2  20 1F 09 42              .byte $20,$1F,$09,$42,$51,$5F,$09,$42
005855  2  51 5F 09 42  
005859  2  51 9F 48 40              .byte $51,$9F,$48,$40,$1F,$DF,$40,$49
00585D  2  1F DF 40 49  
005861  2  2F 5F 2D 4F              .byte $2F,$5F,$2D,$4F,$41,$1F,$87,$0F
005865  2  41 1F 87 0F  
005869  2  23 1F 26 4C              .byte $23,$1F,$26,$4C,$46,$BF,$42,$3B
00586D  2  46 BF 42 3B  
005871  2  27 FF 43 0F              .byte $27,$FF,$43,$0F,$50,$7F,$42,$0E
005875  2  50 7F 42 0E  
005879  2  4B FF 46 50              .byte $4B,$FF,$46,$50,$28,$7F,$3A,$66
00587D  2  28 7F 3A 66  
005881  2  33 3F 51 09              .byte $33,$3F,$51,$09,$43,$3F,$2F,$5E
005885  2  43 3F 2F 5E  
005889  2  3F                       .byte $3F
00588A  2               
00588A  2               ;---------------------------------------------
00588A  2               ; Object 9
00588A  2               ;---------------------------------------------
00588A  2               
00588A  2               L5704:
00588A  2  00 90 01 50              .byte $00,$90,$01,$50,$8C,$31,$00
00588E  2  8C 31 00     
005891  2  12 3C 0F 00              .byte $12,$3C,$0F,$00,$00,$1C,$0C,$11
005895  2  00 1C 0C 11  
005899  2  0F 00 00 02              .byte $0F,$00,$00,$02,$00,$18,$10,$00
00589D  2  00 18 10 00  
0058A1  2  1F 10 55 18              .byte $1F,$10,$55,$18,$05,$0F,$1F,$10
0058A5  2  05 0F 1F 10  
0058A9  2  22 18 0D 09              .byte $22,$18,$0D,$09,$5F,$20,$33,$18
0058AD  2  5F 20 33 18  
0058B1  2  0D 09 7F 30              .byte $0D,$09,$7F,$30,$44,$18,$05,$0F
0058B5  2  44 18 05 0F  
0058B9  2  3F 40 55 18              .byte $3F,$40,$55,$18,$10,$00,$9F,$51
0058BD  2  10 00 9F 51  
0058C1  2  66 18 05 0F              .byte $66,$18,$05,$0F,$9F,$21,$66,$18
0058C5  2  9F 21 66 18  
0058C9  2  0D 09 DF 32              .byte $0D,$09,$DF,$32,$66,$18,$0D,$09
0058CD  2  66 18 0D 09  
0058D1  2  FF 43 66 18              .byte $FF,$43,$66,$18,$05,$0F,$BF,$54
0058D5  2  05 0F BF 54  
0058D9  2  66 1F 10 00              .byte $66,$1F,$10,$00,$04,$1F,$20,$04
0058DD  2  04 1F 20 04  
0058E1  2  08 1F 30 08              .byte $08,$1F,$30,$08,$0C,$1F,$40,$0C
0058E5  2  0C 1F 40 0C  
0058E9  2  10 1F 50 00              .byte $10,$1F,$50,$00,$10,$1F,$51,$00
0058ED  2  10 1F 51 00  
0058F1  2  14 1F 21 04              .byte $14,$1F,$21,$04,$18,$1F,$32,$08
0058F5  2  18 1F 32 08  
0058F9  2  1C 1F 43 0C              .byte $1C,$1F,$43,$0C,$20,$1F,$54,$10
0058FD  2  20 1F 54 10  
005901  2  24 1F 61 14              .byte $24,$1F,$61,$14,$18,$1F,$62,$18
005905  2  18 1F 62 18  
005909  2  1C 1F 63 1C              .byte $1C,$1F,$63,$1C,$20,$1F,$64,$20
00590D  2  20 1F 64 20  
005911  2  24 1F 65 24              .byte $24,$1F,$65,$24,$14,$1F,$60,$00
005915  2  14 1F 60 00  
005919  2  00 1F 00 29              .byte $00,$1F,$00,$29,$1E,$5F,$00,$12
00591D  2  1E 5F 00 12  
005921  2  30 5F 00 33              .byte $30,$5F,$00,$33,$00,$7F,$00,$12
005925  2  00 7F 00 12  
005929  2  30 3F 00 29              .byte $30,$3F,$00,$29,$1E,$9F,$60,$00
00592D  2  1E 9F 60 00  
005931  2  00                       .byte $00
005932  2               
005932  2               ;---------------------------------------------
005932  2               ; Object 10
005932  2               ;---------------------------------------------
005932  2               
005932  2               L57AC:
005932  2  00 00 01 2C              .byte $00,$00,$01,$2C,$44,$19,$00
005936  2  44 19 00     
005939  2  16 18 06 00              .byte $16,$18,$06,$00,$00,$10,$08,$11
00593D  2  00 10 08 11  
005941  2  08 00 00 03              .byte $08,$00,$00,$03,$00,$07,$00,$24
005945  2  00 07 00 24  
005949  2  9F 12 33 07              .byte $9F,$12,$33,$07,$0E,$0C,$FF,$02
00594D  2  0E 0C FF 02  
005951  2  33 07 0E 0C              .byte $33,$07,$0E,$0C,$BF,$01,$33,$15
005955  2  BF 01 33 15  
005959  2  00 00 1F 01              .byte $00,$00,$1F,$01,$22,$1F,$23,$00
00595D  2  22 1F 23 00  
005961  2  04 1F 03 04              .byte $04,$1F,$03,$04,$08,$1F,$01,$08
005965  2  08 1F 01 08  
005969  2  0C 1F 12 0C              .byte $0C,$1F,$12,$0C,$00,$1F,$13,$00
00596D  2  00 1F 13 00  
005971  2  08 1F 02 0C              .byte $08,$1F,$02,$0C,$04,$3F,$1A,$00
005975  2  04 3F 1A 00  
005979  2  3D 1F 13 33              .byte $3D,$1F,$13,$33,$0F,$5F,$13,$33
00597D  2  0F 5F 13 33  
005981  2  0F 9F 38 00              .byte $0F,$9F,$38,$00,$00
005985  2  00           
005986  2               
005986  2               L5800:
005986  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
00598A  2  FF FF FF FF  
00598E  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
005992  2  FF FF FF FF  
005996  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
00599A  2  FF FF FF FF  
00599E  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
0059A2  2  FF FF FF FF  
0059A6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$E3,$00
0059AA  2  00 00 E3 00  
0059AE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0059B2  2  00 00 00 00  
0059B6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$E3
0059BA  2  00 00 00 E3  
0059BE  2  10 E3 00 00              .byte $10,$E3,$00,$00,$00,$00,$00,$03
0059C2  2  00 00 00 03  
0059C6  2  DF 7C 00 00              .byte $DF,$7C,$00,$00,$00,$00,$EC,$00
0059CA  2  00 00 EC 00  
0059CE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0059D2  2  00 00 00 00  
0059D6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$EC
0059DA  2  00 00 00 EC  
0059DE  2  00 3B 00 00              .byte $00,$3B,$00,$00,$00,$00,$3E,$FB
0059E2  2  00 00 3E FB  
0059E6  2  D8 60 00 00              .byte $D8,$60,$00,$00,$00,$00,$F0,$00
0059EA  2  00 00 F0 00  
0059EE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
0059F2  2  00 00 00 00  
0059F6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$F0
0059FA  2  00 00 00 F0  
0059FE  2  10 3F 00 00              .byte $10,$3F,$00,$00,$00,$00,$30,$CB
005A02  2  00 00 30 CB  
005A06  2  DF 7C 00 00              .byte $DF,$7C,$00,$00,$00,$00,$C0,$00
005A0A  2  00 00 C0 00  
005A0E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005A12  2  00 00 00 00  
005A16  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$F0
005A1A  2  00 00 00 F0  
005A1E  2  00 0F 00 00              .byte $00,$0F,$00,$00,$00,$00,$3E,$FB
005A22  2  00 00 3E FB  
005A26  2  D8 0C 00 00              .byte $D8,$0C,$00,$00,$00,$00,$C0,$00
005A2A  2  00 00 C0 00  
005A2E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005A32  2  00 00 00 00  
005A36  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$E0
005A3A  2  00 00 00 E0  
005A3E  2  10 0F 00 00              .byte $10,$0F,$00,$00,$00,$00,$06,$C3
005A42  2  00 00 06 C3  
005A46  2  D8 7C 00 00              .byte $D8,$7C,$00,$00,$00,$00,$C0,$00
005A4A  2  00 00 C0 00  
005A4E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005A52  2  00 00 00 00  
005A56  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$E0
005A5A  2  00 00 00 E0  
005A5E  2  00 07 33 33              .byte $00,$07,$33,$33,$33,$33,$3E,$C3
005A62  2  33 33 3E C3  
005A66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$00
005A6A  2  FF FF C0 00  
005A6E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005A72  2  00 00 00 00  
005A76  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$C0
005A7A  2  00 00 00 C0  
005A7E  2  10 07 FF FF              .byte $10,$07,$FF,$FF,$FF,$FF,$00,$03
005A82  2  FF FF 00 03  
005A86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005A8A  2  00 00 C0 00  
005A8E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005A92  2  00 00 00 00  
005A96  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$C0
005A9A  2  00 00 00 C0  
005A9E  2  00 03 00 00              .byte $00,$03,$00,$00,$C0,$00,$00,$03
005AA2  2  C0 00 00 03  
005AA6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005AAA  2  00 00 C0 00  
005AAE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005AB2  2  00 00 00 00  
005AB6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$C0
005ABA  2  00 00 00 C0  
005ABE  2  00 03 00 00              .byte $00,$03,$00,$00,$C0,$00,$00,$03
005AC2  2  C0 00 00 03  
005AC6  2  DF 7C 00 00              .byte $DF,$7C,$00,$00,$00,$00,$C0,$00
005ACA  2  00 00 C0 00  
005ACE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005AD2  2  00 00 00 00  
005AD6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$EA
005ADA  2  00 00 00 EA  
005ADE  2  82 AB 00 00              .byte $82,$AB,$00,$00,$00,$00,$3E,$C3
005AE2  2  00 00 3E C3  
005AE6  2  DB 60 00 00              .byte $DB,$60,$00,$00,$00,$00,$C0,$00
005AEA  2  00 00 C0 00  
005AEE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005AF2  2  00 00 00 00  
005AF6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$C0
005AFA  2  00 00 00 C0  
005AFE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$32,$C3
005B02  2  00 00 32 C3  
005B06  2  DF 7C 00 00              .byte $DF,$7C,$00,$00,$00,$00,$C0,$00
005B0A  2  00 00 C0 00  
005B0E  2  00 00 00 00              .byte $00,$00,$00,$00,$02,$28,$8A,$2A
005B12  2  02 28 8A 2A  
005B16  2  88 A2 20 00              .byte $88,$A2,$20,$00,$00,$00,$00,$C0
005B1A  2  00 00 00 C0  
005B1E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$3E,$C3
005B22  2  00 00 3E C3  
005B26  2  DB 0C 00 00              .byte $DB,$0C,$00,$00,$00,$00,$C0,$00
005B2A  2  00 00 C0 00  
005B2E  2  00 00 00 00              .byte $00,$00,$00,$00,$A0,$C0,$00,$00
005B32  2  A0 C0 00 00  
005B36  2  00 00 C8 A0              .byte $00,$00,$C8,$A0,$00,$00,$00,$60
005B3A  2  00 00 00 60  
005B3E  2  10 03 00 00              .byte $10,$03,$00,$00,$C0,$00,$34,$C3
005B42  2  C0 00 34 C3  
005B46  2  DB 7C 00 00              .byte $DB,$7C,$00,$00,$00,$00,$C0,$00
005B4A  2  00 00 C0 00  
005B4E  2  00 00 01 28              .byte $00,$00,$01,$28,$08,$00,$00,$08
005B52  2  08 00 00 08  
005B56  2  00 00 08 02              .byte $00,$00,$08,$02,$80,$00,$00,$60
005B5A  2  80 00 00 60  
005B5E  2  00 07 0C CC              .byte $00,$07,$0C,$CC,$CC,$CC,$36,$FB
005B62  2  CC CC 36 FB  
005B66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$00
005B6A  2  FF FF C0 00  
005B6E  2  00 00 28 00              .byte $00,$00,$28,$00,$00,$00,$00,$00
005B72  2  00 00 00 00  
005B76  2  00 00 00 00              .byte $00,$00,$00,$00,$0A,$00,$00,$60
005B7A  2  0A 00 00 60  
005B7E  2  10 07 FF FF              .byte $10,$07,$FF,$FF,$FF,$FF,$00,$03
005B82  2  FF FF 00 03  
005B86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005B8A  2  00 00 C0 00  
005B8E  2  00 02 00 00              .byte $00,$02,$00,$00,$20,$0C,$00,$08
005B92  2  20 0C 00 08  
005B96  2  00 0C 02 00              .byte $00,$0C,$02,$00,$00,$40,$00,$30
005B9A  2  00 40 00 30  
005B9E  2  00 0F 00 00              .byte $00,$0F,$00,$00,$C0,$00,$00,$03
005BA2  2  C0 00 00 03  
005BA6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005BAA  2  00 00 C0 00  
005BAE  2  00 28 00 00              .byte $00,$28,$00,$00,$00,$00,$00,$00
005BB2  2  00 00 00 00  
005BB6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0A,$00,$30
005BBA  2  00 0A 00 30  
005BBE  2  10 0F 00 00              .byte $10,$0F,$00,$00,$C0,$00,$00,$03
005BC2  2  C0 00 00 03  
005BC6  2  DF 6C 00 00              .byte $DF,$6C,$00,$00,$00,$00,$C0,$00
005BCA  2  00 00 C0 00  
005BCE  2  00 80 00 00              .byte $00,$80,$00,$00,$80,$00,$00,$08
005BD2  2  80 00 00 08  
005BD6  2  00 00 00 80              .byte $00,$00,$00,$80,$00,$00,$80,$1C
005BDA  2  00 00 80 1C  
005BDE  2  00 3F 00 00              .byte $00,$3F,$00,$00,$00,$00,$3C,$FB
005BE2  2  00 00 3C FB  
005BE6  2  D8 6C 00 00              .byte $D8,$6C,$00,$00,$00,$00,$C0,$00
005BEA  2  00 00 C0 00  
005BEE  2  0A 08 88 88              .byte $0A,$08,$88,$88,$88,$88,$C8,$80
005BF2  2  88 88 C8 80  
005BF6  2  88 C8 88 08              .byte $88,$C8,$88,$08,$88,$88,$28,$0C
005BFA  2  88 88 28 0C  
005BFE  2  10 3B 00 00              .byte $10,$3B,$00,$00,$00,$00,$36,$C3
005C02  2  00 00 36 C3  
005C06  2  DF 6C 00 00              .byte $DF,$6C,$00,$00,$00,$00,$C0,$00
005C0A  2  00 00 C0 00  
005C0E  2  20 00 00 02              .byte $20,$00,$00,$02,$00,$00,$00,$08
005C12  2  00 00 00 08  
005C16  2  00 00 00 20              .byte $00,$00,$00,$20,$00,$00,$02,$07
005C1A  2  00 00 02 07  
005C1E  2  00 E3 00 00              .byte $00,$E3,$00,$00,$00,$00,$36,$C3
005C22  2  00 00 36 C3  
005C26  2  D8 6C 00 00              .byte $D8,$6C,$00,$00,$00,$00,$C0,$00
005C2A  2  00 00 C0 00  
005C2E  2  80 00 00 00              .byte $80,$00,$00,$00,$00,$00,$00,$00
005C32  2  00 00 00 00  
005C36  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$81
005C3A  2  00 00 00 81  
005C3E  2  FF FF 00 00              .byte $FF,$FF,$00,$00,$C0,$00,$36,$C3
005C42  2  C0 00 36 C3  
005C46  2  D8 7C C3 0C              .byte $D8,$7C,$C3,$0C,$30,$C3,$C0,$02
005C4A  2  30 C3 C0 02  
005C4E  2  00 00 00 08              .byte $00,$00,$00,$08,$00,$00,$0C,$08
005C52  2  00 00 0C 08  
005C56  2  0C 00 00 08              .byte $0C,$00,$00,$08,$00,$00,$00,$20
005C5A  2  00 00 00 20  
005C5E  2  00 03 0C 30              .byte $00,$03,$0C,$30,$C3,$0C,$3C,$FB
005C62  2  C3 0C 3C FB  
005C66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$08
005C6A  2  FF FF C0 08  
005C6E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005C72  2  00 00 00 00  
005C76  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$08
005C7A  2  00 00 00 08  
005C7E  2  00 03 FF FF              .byte $00,$03,$FF,$FF,$FF,$FF,$00,$03
005C82  2  FF FF 00 03  
005C86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005C8A  2  00 00 C0 00  
005C8E  2  00 00 00 20              .byte $00,$00,$00,$20,$00,$00,$00,$08
005C92  2  00 00 00 08  
005C96  2  00 00 00 02              .byte $00,$00,$00,$02,$00,$00,$00,$08
005C9A  2  00 00 00 08  
005C9E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005CA2  2  00 00 00 03  
005CA6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$20
005CAA  2  00 00 C0 20  
005CAE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$C0
005CB2  2  00 00 00 C0  
005CB6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$00,$02
005CBA  2  00 00 00 02  
005CBE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$03,$03
005CC2  2  00 00 03 03  
005CC6  2  DF 7E 00 00              .byte $DF,$7E,$00,$00,$00,$00,$C0,$20
005CCA  2  00 00 C0 20  
005CCE  2  00 00 00 80              .byte $00,$00,$00,$80,$00,$00,$00,$08
005CD2  2  00 00 00 08  
005CD6  2  00 00 00 00              .byte $00,$00,$00,$00,$80,$00,$00,$02
005CDA  2  80 00 00 02  
005CDE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$03
005CE2  2  00 00 0F 03  
005CE6  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$80
005CEA  2  00 00 C0 80  
005CEE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$08
005CF2  2  00 00 00 08  
005CF6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005CFA  2  00 00 00 00  
005CFE  2  80 03 00 00              .byte $80,$03,$00,$00,$00,$00,$03,$03
005D02  2  00 00 03 03  
005D06  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$88
005D0A  2  00 00 C0 88  
005D0E  2  88 88 88 88              .byte $88,$88,$88,$88,$88,$88,$88,$9C
005D12  2  88 88 88 9C  
005D16  2  88 88 88 88              .byte $88,$88,$88,$88,$88,$88,$88,$88
005D1A  2  88 88 88 88  
005D1E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$03,$03
005D22  2  00 00 03 03  
005D26  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$00
005D2A  2  00 00 C0 00  
005D2E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$7F
005D32  2  00 00 00 7F  
005D36  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005D3A  2  00 00 00 00  
005D3E  2  80 03 00 00              .byte $80,$03,$00,$00,$00,$00,$0F,$83
005D42  2  00 00 0F 83  
005D46  2  DF 18 C0 C0              .byte $DF,$18,$C0,$C0,$C0,$C0,$C0,$80
005D4A  2  C0 C0 C0 80  
005D4E  2  00 00 08 00              .byte $00,$00,$08,$00,$00,$00,$00,$08
005D52  2  00 00 00 08  
005D56  2  00 00 00 00              .byte $00,$00,$00,$00,$08,$00,$00,$00
005D5A  2  08 00 00 00  
005D5E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005D62  2  00 00 00 03  
005D66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$00
005D6A  2  FF FF C0 00  
005D6E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005D72  2  00 00 00 00  
005D76  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005D7A  2  00 00 00 00  
005D7E  2  80 03 FF FF              .byte $80,$03,$FF,$FF,$FF,$FF,$00,$03
005D82  2  FF FF 00 03  
005D86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$80
005D8A  2  00 00 C0 80  
005D8E  2  00 00 20 00              .byte $00,$00,$20,$00,$00,$00,$00,$08
005D92  2  00 00 00 08  
005D96  2  00 00 00 00              .byte $00,$00,$00,$00,$02,$00,$00,$00
005D9A  2  02 00 00 00  
005D9E  2  80 03 00 00              .byte $80,$03,$00,$00,$00,$00,$0F,$83
005DA2  2  00 00 0F 83  
005DA6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$20
005DAA  2  00 00 C0 20  
005DAE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005DB2  2  00 00 00 00  
005DB6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$02
005DBA  2  00 00 00 02  
005DBE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$01,$83
005DC2  2  00 00 01 83  
005DC6  2  D8 7E 00 00              .byte $D8,$7E,$00,$00,$00,$00,$C0,$20
005DCA  2  00 00 C0 20  
005DCE  2  00 00 80 00              .byte $00,$00,$80,$00,$00,$00,$00,$08
005DD2  2  00 00 00 08  
005DD6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$80,$00,$02
005DDA  2  00 80 00 02  
005DDE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
005DE2  2  00 00 0F 83  
005DE6  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$08
005DEA  2  00 00 C0 08  
005DEE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005DF2  2  00 00 00 00  
005DF6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$0A
005DFA  2  00 00 00 0A  
005DFE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0C,$03
005E02  2  00 00 0C 03  
005E06  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$08
005E0A  2  00 00 C0 08  
005E0E  2  00 02 00 00              .byte $00,$02,$00,$00,$00,$00,$00,$08
005E12  2  00 00 00 08  
005E16  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$20,$00,$08
005E1A  2  00 20 00 08  
005E1E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
005E22  2  00 00 0F 83  
005E26  2  D8 18 00 00              .byte $D8,$18,$00,$00,$00,$00,$C0,$02
005E2A  2  00 00 C0 02  
005E2E  2  80 00 00 00              .byte $80,$00,$00,$00,$00,$00,$00,$00
005E32  2  00 00 00 00  
005E36  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$20
005E3A  2  00 00 00 20  
005E3E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005E42  2  00 00 00 03  
005E46  2  DF 18 C3 0C              .byte $DF,$18,$C3,$0C,$30,$C0,$C0,$00
005E4A  2  30 C0 C0 00  
005E4E  2  88 88 88 88              .byte $88,$88,$88,$88,$88,$88,$88,$88
005E52  2  88 88 88 88  
005E56  2  88 88 88 88              .byte $88,$88,$88,$88,$88,$88,$88,$80
005E5A  2  88 88 88 80  
005E5E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005E62  2  00 00 00 03  
005E66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$00
005E6A  2  FF FF C0 00  
005E6E  2  20 00 00 00              .byte $20,$00,$00,$00,$00,$00,$00,$00
005E72  2  00 00 00 00  
005E76  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$02,$00
005E7A  2  00 00 02 00  
005E7E  2  00 03 FF FF              .byte $00,$03,$FF,$FF,$FF,$FF,$00,$03
005E82  2  FF FF 00 03  
005E86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005E8A  2  00 00 C0 00  
005E8E  2  08 20 00 00              .byte $08,$20,$00,$00,$00,$00,$00,$08
005E92  2  00 00 00 08  
005E96  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$02,$10,$00
005E9A  2  00 02 10 00  
005E9E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
005EA2  2  00 00 0F 83  
005EA6  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005EAA  2  00 00 C0 00  
005EAE  2  02 80 00 00              .byte $02,$80,$00,$00,$00,$00,$00,$00
005EB2  2  00 00 00 00  
005EB6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$80,$00
005EBA  2  00 00 80 00  
005EBE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$01,$83
005EC2  2  00 00 01 83  
005EC6  2  DF 60 00 00              .byte $DF,$60,$00,$00,$00,$00,$C0,$00
005ECA  2  00 00 C0 00  
005ECE  2  00 20 00 00              .byte $00,$20,$00,$00,$00,$00,$00,$08
005ED2  2  00 00 00 08  
005ED6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0A,$00,$00
005EDA  2  00 0A 00 00  
005EDE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
005EE2  2  00 00 0F 83  
005EE6  2  DB 60 00 00              .byte $DB,$60,$00,$00,$00,$00,$C0,$00
005EEA  2  00 00 C0 00  
005EEE  2  00 04 80 00              .byte $00,$04,$80,$00,$00,$00,$00,$00
005EF2  2  00 00 00 00  
005EF6  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$A0,$00,$00
005EFA  2  00 A0 00 00  
005EFE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$01,$83
005F02  2  00 00 01 83  
005F06  2  DF 60 00 00              .byte $DF,$60,$00,$00,$00,$00,$C0,$00
005F0A  2  00 00 C0 00  
005F0E  2  00 00 28 00              .byte $00,$00,$28,$00,$00,$00,$00,$08
005F12  2  00 00 00 08  
005F16  2  00 00 00 00              .byte $00,$00,$00,$00,$28,$00,$00,$00
005F1A  2  28 00 00 00  
005F1E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
005F22  2  00 00 0F 83  
005F26  2  DB 60 00 00              .byte $DB,$60,$00,$00,$00,$00,$C0,$00
005F2A  2  00 00 C0 00  
005F2E  2  00 00 00 A0              .byte $00,$00,$00,$A0,$00,$00,$00,$00
005F32  2  00 00 00 00  
005F36  2  00 00 00 0A              .byte $00,$00,$00,$0A,$00,$00,$00,$00
005F3A  2  00 00 00 00  
005F3E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005F42  2  00 00 00 03  
005F46  2  DB 7C C3 03              .byte $DB,$7C,$C3,$03,$03,$00,$C0,$00
005F4A  2  03 00 C0 00  
005F4E  2  00 00 00 02              .byte $00,$00,$00,$02,$88,$00,$00,$08
005F52  2  88 00 00 08  
005F56  2  00 00 22 80              .byte $00,$00,$22,$80,$00,$00,$00,$00
005F5A  2  00 00 00 00  
005F5E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$00,$03
005F62  2  00 00 00 03  
005F66  2  C0 00 FF FF              .byte $C0,$00,$FF,$FF,$FF,$FF,$C0,$00
005F6A  2  FF FF C0 00  
005F6E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$A2,$28,$8A
005F72  2  00 A2 28 8A  
005F76  2  22 88 80 00              .byte $22,$88,$80,$00,$00,$00,$00,$00
005F7A  2  00 00 00 00  
005F7E  2  00 03 FF FF              .byte $00,$03,$FF,$FF,$FF,$FF,$0C,$03
005F82  2  FF FF 0C 03  
005F86  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$C0,$00
005F8A  2  00 00 C0 00  
005F8E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005F92  2  00 00 00 00  
005F96  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
005F9A  2  00 00 00 00  
005F9E  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0C,$03
005FA2  2  00 00 0C 03  
005FA6  2  DC 00 00 00              .byte $DC,$00,$00,$00,$00,$00,$C0,$00
005FAA  2  00 00 C0 00  
005FAE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0F,$CC,$1E
005FB2  2  00 0F CC 1E  
005FB6  2  FC FC 00 00              .byte $FC,$FC,$00,$00,$00,$00,$00,$00
005FBA  2  00 00 00 00  
005FBE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0D,$83
005FC2  2  00 00 0D 83  
005FC6  2  DF F8 00 00              .byte $DF,$F8,$00,$00,$00,$00,$C0,$00
005FCA  2  00 00 C0 00  
005FCE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0C,$0C,$0C
005FD2  2  00 0C 0C 0C  
005FD6  2  30 C0 00 00              .byte $30,$C0,$00,$00,$00,$00,$00,$00
005FDA  2  00 00 00 00  
005FDE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0D,$83
005FE2  2  00 00 0D 83  
005FE6  2  C7 DC 00 00              .byte $C7,$DC,$00,$00,$00,$00,$C0,$00
005FEA  2  00 00 C0 00  
005FEE  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0F,$0C,$0C
005FF2  2  00 0F 0C 0C  
005FF6  2  30 F0 00 00              .byte $30,$F0,$00,$00,$00,$00,$00,$00
005FFA  2  00 00 00 00  
005FFE  2  00 03 00 00              .byte $00,$03,$00,$00,$00,$00,$0F,$83
006002  2  00 00 0F 83  
006006  2  DF F8 00 00              .byte $DF,$F8,$00,$00,$00,$00,$F0,$00
00600A  2  00 00 F0 00  
00600E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0C,$0C,$0C
006012  2  00 0C 0C 0C  
006016  2  30 C0 00 00              .byte $30,$C0,$00,$00,$00,$00,$00,$00
00601A  2  00 00 00 00  
00601E  2  00 0F 00 00              .byte $00,$0F,$00,$00,$00,$00,$01,$83
006022  2  00 00 01 83  
006026  2  DC 00 00 00              .byte $DC,$00,$00,$00,$00,$00,$EC,$00
00602A  2  00 00 EC 00  
00602E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$0F,$CF,$DE
006032  2  00 0F CF DE  
006036  2  30 FC 00 00              .byte $30,$FC,$00,$00,$00,$00,$00,$00
00603A  2  00 00 00 00  
00603E  2  00 3B 00 00              .byte $00,$3B,$00,$00,$00,$00,$00,$03
006042  2  00 00 00 03  
006046  2  C0 00 00 00              .byte $C0,$00,$00,$00,$00,$00,$E3,$00
00604A  2  00 00 E3 00  
00604E  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
006052  2  00 00 00 00  
006056  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00605A  2  00 00 00 00  
00605E  2  00 E3 00 00              .byte $00,$E3,$00,$00,$00,$00,$00,$03
006062  2  00 00 00 03  
006066  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
00606A  2  FF FF FF FF  
00606E  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
006072  2  FF FF FF FF  
006076  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
00607A  2  FF FF FF FF  
00607E  2  FF FF FF FF              .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
006082  2  FF FF FF FF  
006086  2               
006086  1               	.include "8x6font.inc"
006086  2               ; ZX Spectrum 8x6 font
006086  2               
006086  2               FONT:
006086  2  00 00 00 00              .byte $00,$00,$00,$00,$00,$00,$00,$00
00608A  2  00 00 00 00  
00608E  2  08 08 08 00              .byte $08,$08,$08,$00,$08,$00,$00,$00
006092  2  08 00 00 00  
006096  2  24 24 00 00              .byte $24,$24,$00,$00,$00,$00,$00,$00
00609A  2  00 00 00 00  
00609E  2  24 7E 24 7E              .byte $24,$7E,$24,$7E,$24,$00,$00,$00
0060A2  2  24 00 00 00  
0060A6  2  08 3E 38 0E              .byte $08,$3E,$38,$0E,$3E,$08,$00,$00
0060AA  2  3E 08 00 00  
0060AE  2  62 64 08 13              .byte $62,$64,$08,$13,$23,$00,$00,$00
0060B2  2  23 00 00 00  
0060B6  2  38 38 7E 48              .byte $38,$38,$7E,$48,$77,$00,$00,$00
0060BA  2  77 00 00 00  
0060BE  2  08 08 00 00              .byte $08,$08,$00,$00,$00,$00,$00,$00
0060C2  2  00 00 00 00  
0060C6  2  08 10 10 10              .byte $08,$10,$10,$10,$08,$00,$00,$00
0060CA  2  08 00 00 00  
0060CE  2  08 04 04 04              .byte $08,$04,$04,$04,$08,$00,$00,$00
0060D2  2  08 00 00 00  
0060D6  2  08 6B 1C 6B              .byte $08,$6B,$1C,$6B,$08,$00,$00,$00
0060DA  2  08 00 00 00  
0060DE  2  00 00 08 3E              .byte $00,$00,$08,$3E,$08,$00,$00,$00
0060E2  2  08 00 00 00  
0060E6  2  00 00 00 00              .byte $00,$00,$00,$00,$08,$30,$00,$00
0060EA  2  08 30 00 00  
0060EE  2  00 00 00 7E              .byte $00,$00,$00,$7E,$00,$00,$00,$00
0060F2  2  00 00 00 00  
0060F6  2  00 00 00 00              .byte $00,$00,$00,$00,$08,$00,$00,$00
0060FA  2  08 00 00 00  
0060FE  2  02 04 08 10              .byte $02,$04,$08,$10,$20,$00,$00,$00
006102  2  20 00 00 00  
006106  2  3C 46 4A 52              .byte $3C,$46,$4A,$52,$3C,$00,$00,$00
00610A  2  3C 00 00 00  
00610E  2  08 38 08 08              .byte $08,$38,$08,$08,$3E,$00,$00,$00
006112  2  3E 00 00 00  
006116  2  3C 02 3C 40              .byte $3C,$02,$3C,$40,$7E,$00,$00,$00
00611A  2  7E 00 00 00  
00611E  2  3C 42 1C 42              .byte $3C,$42,$1C,$42,$3C,$00,$00,$00
006122  2  3C 00 00 00  
006126  2  1C 24 44 7E              .byte $1C,$24,$44,$7E,$04,$00,$00,$00
00612A  2  04 00 00 00  
00612E  2  7E 40 7C 02              .byte $7E,$40,$7C,$02,$7C,$00,$00,$00
006132  2  7C 00 00 00  
006136  2  3C 40 7C 42              .byte $3C,$40,$7C,$42,$3C,$00,$00,$00
00613A  2  3C 00 00 00  
00613E  2  7E 02 0C 10              .byte $7E,$02,$0C,$10,$10,$00,$00,$00
006142  2  10 00 00 00  
006146  2  3C 42 3C 42              .byte $3C,$42,$3C,$42,$3C,$00,$00,$00
00614A  2  3C 00 00 00  
00614E  2  3C 42 3E 02              .byte $3C,$42,$3E,$02,$3C,$00,$00,$00
006152  2  3C 00 00 00  
006156  2  00 00 08 00              .byte $00,$00,$08,$00,$08,$00,$00,$00
00615A  2  08 00 00 00  
00615E  2  00 00 08 00              .byte $00,$00,$08,$00,$08,$30,$00,$00
006162  2  08 30 00 00  
006166  2  00 00 0C 30              .byte $00,$00,$0C,$30,$0C,$00,$00,$00
00616A  2  0C 00 00 00  
00616E  2  00 00 7E 00              .byte $00,$00,$7E,$00,$7E,$00,$00,$00
006172  2  7E 00 00 00  
006176  2  00 00 18 06              .byte $00,$00,$18,$06,$18,$00,$00,$00
00617A  2  18 00 00 00  
00617E  2  3C 42 1C 00              .byte $3C,$42,$1C,$00,$10,$00,$00,$00
006182  2  10 00 00 00  
006186  2  3C 4E 5E 40              .byte $3C,$4E,$5E,$40,$3E,$00,$00,$00
00618A  2  3E 00 00 00  
00618E  2  3C 42 42 7E              .byte $3C,$42,$42,$7E,$42,$00,$00,$00
006192  2  42 00 00 00  
006196  2  7C 42 7C 42              .byte $7C,$42,$7C,$42,$7C,$00,$00,$00
00619A  2  7C 00 00 00  
00619E  2  3C 42 40 42              .byte $3C,$42,$40,$42,$3C,$00,$00,$00
0061A2  2  3C 00 00 00  
0061A6  2  7C 42 42 42              .byte $7C,$42,$42,$42,$7C,$00,$00,$00
0061AA  2  7C 00 00 00  
0061AE  2  7E 40 7C 40              .byte $7E,$40,$7C,$40,$7E,$00,$00,$00
0061B2  2  7E 00 00 00  
0061B6  2  7E 40 7C 40              .byte $7E,$40,$7C,$40,$40,$00,$00,$00
0061BA  2  40 00 00 00  
0061BE  2  3E 40 4E 42              .byte $3E,$40,$4E,$42,$3E,$00,$00,$00
0061C2  2  3E 00 00 00  
0061C6  2  42 42 7E 42              .byte $42,$42,$7E,$42,$42,$00,$00,$00
0061CA  2  42 00 00 00  
0061CE  2  1C 08 08 08              .byte $1C,$08,$08,$08,$1C,$00,$00,$00
0061D2  2  1C 00 00 00  
0061D6  2  02 02 02 42              .byte $02,$02,$02,$42,$3C,$00,$00,$00
0061DA  2  3C 00 00 00  
0061DE  2  46 48 78 44              .byte $46,$48,$78,$44,$42,$00,$00,$00
0061E2  2  42 00 00 00  
0061E6  2  40 40 40 40              .byte $40,$40,$40,$40,$7E,$00,$00,$00
0061EA  2  7E 00 00 00  
0061EE  2  42 66 5A 42              .byte $42,$66,$5A,$42,$42,$00,$00,$00
0061F2  2  42 00 00 00  
0061F6  2  62 52 4A 46              .byte $62,$52,$4A,$46,$42,$00,$00,$00
0061FA  2  42 00 00 00  
0061FE  2  3C 42 42 42              .byte $3C,$42,$42,$42,$3C,$00,$00,$00
006202  2  3C 00 00 00  
006206  2  7C 42 42 7C              .byte $7C,$42,$42,$7C,$40,$00,$00,$00
00620A  2  40 00 00 00  
00620E  2  3C 42 4A 46              .byte $3C,$42,$4A,$46,$3E,$00,$00,$00
006212  2  3E 00 00 00  
006216  2  7C 42 42 7C              .byte $7C,$42,$42,$7C,$42,$00,$00,$00
00621A  2  42 00 00 00  
00621E  2  3C 40 3C 02              .byte $3C,$40,$3C,$02,$7C,$00,$00,$00
006222  2  7C 00 00 00  
006226  2  7F 08 08 08              .byte $7F,$08,$08,$08,$08,$00,$00,$00
00622A  2  08 00 00 00  
00622E  2  42 42 42 42              .byte $42,$42,$42,$42,$3C,$00,$00,$00
006232  2  3C 00 00 00  
006236  2  42 42 42 24              .byte $42,$42,$42,$24,$18,$00,$00,$00
00623A  2  18 00 00 00  
00623E  2  42 42 5A 66              .byte $42,$42,$5A,$66,$42,$00,$00,$00
006242  2  42 00 00 00  
006246  2  42 24 18 24              .byte $42,$24,$18,$24,$42,$00,$00,$00
00624A  2  42 00 00 00  
00624E  2  41 41 3E 08              .byte $41,$41,$3E,$08,$08,$00,$00,$00
006252  2  08 00 00 00  
006256  2  7E 04 18 20              .byte $7E,$04,$18,$20,$7E,$00,$00,$00
00625A  2  7E 00 00 00  
00625E  2  38 20 20 20              .byte $38,$20,$20,$20,$38,$00,$00,$00
006262  2  38 00 00 00  
006266  2  40 20 10 08              .byte $40,$20,$10,$08,$04,$00,$00,$00
00626A  2  04 00 00 00  
00626E  2  1C 04 04 04              .byte $1C,$04,$04,$04,$1C,$00,$00,$00
006272  2  1C 00 00 00  
006276  2  18 24 00 00              .byte $18,$24,$00,$00,$00,$00,$00,$00
00627A  2  00 00 00 00  
00627E  2  00 00 00 00              .byte $00,$00,$00,$00,$7E,$00,$00,$00
006282  2  7E 00 00 00  
006286  2  30 08 00 00              .byte $30,$08,$00,$00,$00,$00,$00,$00
00628A  2  00 00 00 00  
00628E  2  00 3C 02 3E              .byte $00,$3C,$02,$3E,$3E,$00,$00,$00
006292  2  3E 00 00 00  
006296  2  20 3C 22 22              .byte $20,$3C,$22,$22,$3C,$00,$00,$00
00629A  2  3C 00 00 00  
00629E  2  00 1C 20 20              .byte $00,$1C,$20,$20,$1C,$00,$00,$00
0062A2  2  1C 00 00 00  
0062A6  2  02 1E 22 22              .byte $02,$1E,$22,$22,$1E,$00,$00,$00
0062AA  2  1E 00 00 00  
0062AE  2  00 1C 3E 20              .byte $00,$1C,$3E,$20,$1C,$00,$00,$00
0062B2  2  1C 00 00 00  
0062B6  2  06 08 1C 08              .byte $06,$08,$1C,$08,$08,$00,$00,$00
0062BA  2  08 00 00 00  
0062BE  2  00 1E 22 1E              .byte $00,$1E,$22,$1E,$02,$1C,$00,$00
0062C2  2  02 1C 00 00  
0062C6  2  20 20 3C 22              .byte $20,$20,$3C,$22,$22,$00,$00,$00
0062CA  2  22 00 00 00  
0062CE  2  08 00 18 08              .byte $08,$00,$18,$08,$1C,$00,$00,$00
0062D2  2  1C 00 00 00  
0062D6  2  08 00 18 08              .byte $08,$00,$18,$08,$08,$30,$00,$00
0062DA  2  08 30 00 00  
0062DE  2  40 46 78 48              .byte $40,$46,$78,$48,$46,$00,$00,$00
0062E2  2  46 00 00 00  
0062E6  2  18 08 08 08              .byte $18,$08,$08,$08,$1C,$00,$00,$00
0062EA  2  1C 00 00 00  
0062EE  2  00 7E 49 49              .byte $00,$7E,$49,$49,$49,$00,$00,$00
0062F2  2  49 00 00 00  
0062F6  2  00 3C 22 22              .byte $00,$3C,$22,$22,$22,$00,$00,$00
0062FA  2  22 00 00 00  
0062FE  2  00 1C 22 22              .byte $00,$1C,$22,$22,$1C,$00,$00,$00
006302  2  1C 00 00 00  
006306  2  00 3C 22 22              .byte $00,$3C,$22,$22,$3C,$20,$00,$00
00630A  2  3C 20 00 00  
00630E  2  00 1E 22 22              .byte $00,$1E,$22,$22,$1E,$02,$00,$00
006312  2  1E 02 00 00  
006316  2  00 16 18 10              .byte $00,$16,$18,$10,$10,$00,$00,$00
00631A  2  10 00 00 00  
00631E  2  00 1E 38 0E              .byte $00,$1E,$38,$0E,$3C,$00,$00,$00
006322  2  3C 00 00 00  
006326  2  08 1E 08 08              .byte $08,$1E,$08,$08,$06,$00,$00,$00
00632A  2  06 00 00 00  
00632E  2  00 22 22 22              .byte $00,$22,$22,$22,$1E,$00,$00,$00
006332  2  1E 00 00 00  
006336  2  00 22 22 14              .byte $00,$22,$22,$14,$08,$00,$00,$00
00633A  2  08 00 00 00  
00633E  2  00 41 49 49              .byte $00,$41,$49,$49,$36,$00,$00,$00
006342  2  36 00 00 00  
006346  2  00 63 1C 14              .byte $00,$63,$1C,$14,$63,$00,$00,$00
00634A  2  63 00 00 00  
00634E  2  00 22 22 1E              .byte $00,$22,$22,$1E,$02,$1C,$00,$00
006352  2  02 1C 00 00  
006356  2  00 3E 0C 18              .byte $00,$3E,$0C,$18,$3E,$00,$00,$00
00635A  2  3E 00 00 00  
00635E  2  0E 08 30 08              .byte $0E,$08,$30,$08,$0E,$00,$00,$00
006362  2  0E 00 00 00  
006366  2  08 08 08 08              .byte $08,$08,$08,$08,$08,$00,$00,$00
00636A  2  08 00 00 00  
00636E  2  38 08 06 08              .byte $38,$08,$06,$08,$38,$00,$00,$00
006372  2  38 00 00 00  
006376  2  32 4C 00 00              .byte $32,$4C,$00,$00,$00,$00,$00,$00
00637A  2  00 00 00 00  
00637E  2  7E 66 76 66              .byte $7E,$66,$76,$66,$7E,$00,$00,$00
006382  2  7E 00 00 00  
006386  2               
006386  2               line_lb:
006386  2  00 C0 80 40  	.byte $00,$c0,$80,$40,$00,$c0,$80,$40
00638A  2  00 C0 80 40  
00638E  2  00 C0 80 40  	.byte $00,$c0,$80,$40,$00,$c0,$80,$40
006392  2  00 C0 80 40  
006396  2  00 C0 80 40  	.byte $00,$c0,$80,$40,$00,$c0,$80,$40
00639A  2  00 C0 80 40  
00639E  2  00 C0 80 40  	.byte $00,$c0,$80,$40,$00,$c0,$80,$40
0063A2  2  00 C0 80 40  
0063A6  2               line_hb:
0063A6  2  80 80 81 82  	.byte $80,$80,$81,$82,$83,$83,$84,$85
0063AA  2  83 83 84 85  
0063AE  2  86 86 87 88  	.byte $86,$86,$87,$88,$89,$89,$8a,$8b
0063B2  2  89 89 8A 8B  
0063B6  2  8C 8C 8D 8E  	.byte $8c,$8c,$8d,$8e,$8f,$8f,$90,$91
0063BA  2  8F 8F 90 91  
0063BE  2  92 92 93 94  	.byte $92,$92,$93,$94,$95,$95,$96,$97
0063C2  2  95 95 96 97  
0063C6  2               
0063C6  1               	.include "keycodes.inc"
0063C6  2               ; Keycodes for keyscan $FE71
0063C6  2               
0063C6  2               keyscan:
0063C6  2               ;	stx key_buf
0063C6  2               
0063C6  2  20 71 FE     	jsr $fe71
0063C9  2  B9 D6 63     	lda conv_table,y
0063CC  2  F0 07        	beq keyscan1
0063CE  2  2C 01 B0     	bit $b001
0063D1  2  30 02        	bmi keyscan0
0063D3  2  09 80        	ora #$80
0063D5  2               keyscan0:
0063D5  2               ;	cmp key_buf
0063D5  2               ;	bne keyscan1
0063D5  2               ;	ora #$80
0063D5  2               
0063D5  2               ;	bvs keyscan1
0063D5  2               ;	ora #$40
0063D5  2               keyscan1:
0063D5  2               ;	tax
0063D5  2  60           	rts
0063D6  2               
0063D6  2               ;----------------------------------------------
0063D6  2               ; Keycode conversion table
0063D6  2               ;
0063D6  2               ; Atom keycode -> Electron keycode
0063D6  2               ;----------------------------------------------
0063D6  2               
0063D6  2               conv_table:
0063D6  2               	;      SP  [   \   ]   up  lo c_h c_v
0063D6  2  62 57 18 7B  	.byte $62,$57,$18,$7b,$00,$00,$39,$28
0063DA  2  00 00 39 28  
0063DE  2               
0063DE  2               	;     	nc  nc  nc  nc  nc RET COP DEL
0063DE  2  00 00 00 00  	.byte $00,$00,$00,$00,$00,$49,$38,$59
0063E2  2  00 49 38 59  
0063E6  2               
0063E6  2               	;      0   1   2   3   4   5   6   7
0063E6  2  27 30 31 11  	.byte $27,$30,$31,$11,$12,$13,$34,$24
0063EA  2  12 13 34 24  
0063EE  2               
0063EE  2               	;      8   9   :   ;   ,   -   .   /
0063EE  2  15 26 48 57  	.byte $15,$26,$48,$57,$66,$17,$67,$68
0063F2  2  66 17 67 68  
0063F6  2               
0063F6  2               	;      @   A   B   C   D   E   F   G
0063F6  2  47 41 28 52  	.byte $47,$41,$28,$52,$32,$22,$43,$18
0063FA  2  32 22 43 18  
0063FE  2               
0063FE  2               	;      H   I   J   K   L   M   N   O
0063FE  2  54 25 45 78  	.byte $54,$25,$45,$78,$56,$65,$55,$36
006402  2  56 65 55 36  
006406  2               
006406  2               	;      P   Q   R   S   T   U   V   W
006406  2  37 10 33 51  	.byte $37,$10,$33,$51,$23,$35,$63,$21
00640A  2  23 35 63 21  
00640E  2               
00640E  2               	;      X   Y   Z  ESC
00640E  2  42 39 61 70  	.byte $42,$39,$61,$70,$00,$00,$00,$00
006412  2  00 00 00 00  
006416  2               
006416  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00641A  2  00 00 00 00  
00641E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006422  2  00 00 00 00  
006426  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00642A  2  00 00 00 00  
00642E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006432  2  00 00 00 00  
006436  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00643A  2  00 00 00 00  
00643E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006442  2  00 00 00 00  
006446  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00644A  2  00 00 00 00  
00644E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006452  2  00 00 00 00  
006456  2               
006456  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00645A  2  00 00 00 00  
00645E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006462  2  00 00 00 00  
006466  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00646A  2  00 00 00 00  
00646E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006472  2  00 00 00 00  
006476  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00647A  2  00 00 00 00  
00647E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006482  2  00 00 00 00  
006486  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00648A  2  00 00 00 00  
00648E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
006492  2  00 00 00 00  
006496  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
00649A  2  00 00 00 00  
00649E  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064A2  2  00 00 00 00  
0064A6  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064AA  2  00 00 00 00  
0064AE  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064B2  2  00 00 00 00  
0064B6  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064BA  2  00 00 00 00  
0064BE  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064C2  2  00 00 00 00  
0064C6  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064CA  2  00 00 00 00  
0064CE  2  00 00 00 00  	.byte 0,0,0,0,0,0,0,0
0064D2  2  00 00 00 00  
0064D6  2               
0064D6  2               SPACE		= $00
0064D6  2               BRACKET_L	= $01
0064D6  2               BACKSLASH	= $02
0064D6  2               BRACKET_R	= $03
0064D6  2               UP		= $04
0064D6  2               LOCK		= $05
0064D6  2               CURSOR_H	= $06
0064D6  2               CURSOR_V	= $07
0064D6  2               
0064D6  2               RETURN		= $0d
0064D6  2               COPY		= $0e
0064D6  2               DELETE		= $0f
0064D6  2               
0064D6  2               KEY_0		= $10
0064D6  2               KEY_1		= $11
0064D6  2               KEY_2		= $12
0064D6  2               KEY_3		= $13
0064D6  2               KEY_4		= $14
0064D6  2               KEY_5		= $15
0064D6  2               KEY_6		= $16
0064D6  2               KEY_7		= $17
0064D6  2               KEY_8		= $18
0064D6  2               KEY_9		= $19
0064D6  2               COLON		= $1a
0064D6  2               SEMICOLON	= $1b
0064D6  2               COMMA		= $1c
0064D6  2               MINUS		= $1d
0064D6  2               POINT		= $1e
0064D6  2               SLASH		= $1f
0064D6  2               
0064D6  2               AT		= $20
0064D6  2               KEY_A		= $21
0064D6  2               KEY_B		= $22
0064D6  2               KEY_C		= $23
0064D6  2               KEY_D		= $24
0064D6  2               KEY_E		= $25
0064D6  2               KEY_F		= $26
0064D6  2               KEY_G		= $27
0064D6  2               KEY_H		= $28
0064D6  2               KEY_I		= $29
0064D6  2               KEY_J		= $2a
0064D6  2               KEY_K		= $2b
0064D6  2               KEY_L		= $2c
0064D6  2               KEY_M		= $2d
0064D6  2               KEY_N		= $2e
0064D6  2               KEY_O		= $2f
0064D6  2               
0064D6  2               KEY_P		= $30
0064D6  2               KEY_Q		= $31
0064D6  2               KEY_R		= $32
0064D6  2               KEY_S		= $33
0064D6  2               KEY_T		= $34
0064D6  2               KEY_U		= $35
0064D6  2               KEY_V		= $36
0064D6  2               KEY_W		= $37
0064D6  2               KEY_X		= $38
0064D6  2               KEY_Y		= $39
0064D6  2               KEY_Z		= $3a
0064D6  2               ESC		= $3b
0064D6  2               
0064D6  1               L6500:
0064D6  1               
0064D6  1               eind_asm:
0064D6  1               
